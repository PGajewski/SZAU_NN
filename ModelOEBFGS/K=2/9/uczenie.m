%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.824449e+002; foe(n+1)=2.870212e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.652991e+002; foe(n+1)=1.681870e+002; krok(n+1)=4.957630e-004; ng(n+1)=6.878361e+002;
n=2; farx(n+1)=6.380879e+001; foe(n+1)=6.999424e+001; krok(n+1)=1.032555e-002; ng(n+1)=1.507948e+002;
n=3; farx(n+1)=5.984110e+001; foe(n+1)=6.458756e+001; krok(n+1)=1.116025e-003; ng(n+1)=2.711254e+002;
n=4; farx(n+1)=6.337674e+001; foe(n+1)=6.182869e+001; krok(n+1)=8.669283e-003; ng(n+1)=2.470844e+002;
n=5; farx(n+1)=4.665497e+001; foe(n+1)=5.888998e+001; krok(n+1)=2.741623e-002; ng(n+1)=3.715404e+001;
n=6; farx(n+1)=2.565619e+001; foe(n+1)=5.410855e+001; krok(n+1)=1.033570e-002; ng(n+1)=1.980171e+002;
n=7; farx(n+1)=1.922839e+001; foe(n+1)=5.304719e+001; krok(n+1)=7.459007e-004; ng(n+1)=3.222049e+002;
n=8; farx(n+1)=1.223235e+001; foe(n+1)=4.973997e+001; krok(n+1)=5.286105e-002; ng(n+1)=4.889185e+002;
n=9; farx(n+1)=1.206508e+001; foe(n+1)=4.751651e+001; krok(n+1)=2.327615e-002; ng(n+1)=7.507761e+002;
n=10; farx(n+1)=4.276355e+000; foe(n+1)=3.775669e+001; krok(n+1)=8.892157e-002; ng(n+1)=8.726842e+002;
n=11; farx(n+1)=3.593527e+000; foe(n+1)=3.682468e+001; krok(n+1)=1.973390e-004; ng(n+1)=2.977522e+003;
n=12; farx(n+1)=3.339638e+000; foe(n+1)=3.593198e+001; krok(n+1)=5.433546e-003; ng(n+1)=4.010966e+003;
n=13; farx(n+1)=2.921766e+000; foe(n+1)=3.339368e+001; krok(n+1)=9.732535e-003; ng(n+1)=4.186749e+003;
n=14; farx(n+1)=2.682521e+000; foe(n+1)=2.853540e+001; krok(n+1)=4.544795e-002; ng(n+1)=3.339016e+003;
n=15; farx(n+1)=2.847680e+000; foe(n+1)=1.714605e+001; krok(n+1)=1.115271e-001; ng(n+1)=2.751121e+003;
n=16; farx(n+1)=2.801584e+000; foe(n+1)=1.650566e+001; krok(n+1)=4.254539e-002; ng(n+1)=6.147337e+002;
n=17; farx(n+1)=1.866690e+000; foe(n+1)=1.428477e+001; krok(n+1)=5.453957e-001; ng(n+1)=3.306243e+002;
n=18; farx(n+1)=1.564330e+000; foe(n+1)=1.142539e+001; krok(n+1)=1.784434e+000; ng(n+1)=7.073934e+002;
n=19; farx(n+1)=1.613454e+000; foe(n+1)=1.079634e+001; krok(n+1)=7.382907e-001; ng(n+1)=5.116263e+002;
n=20; farx(n+1)=1.522859e+000; foe(n+1)=1.016883e+001; krok(n+1)=3.109243e+000; ng(n+1)=1.480318e+002;
n=21; farx(n+1)=1.390050e+000; foe(n+1)=9.803812e+000; krok(n+1)=5.168655e-001; ng(n+1)=5.119782e+001;
n=22; farx(n+1)=1.216453e+000; foe(n+1)=9.587023e+000; krok(n+1)=8.295027e-001; ng(n+1)=2.145244e+002;
n=23; farx(n+1)=9.981812e-001; foe(n+1)=9.259125e+000; krok(n+1)=3.138952e+000; ng(n+1)=2.256951e+002;
n=24; farx(n+1)=9.908389e-001; foe(n+1)=9.025315e+000; krok(n+1)=1.498210e+000; ng(n+1)=8.456973e+001;
n=25; farx(n+1)=1.045234e+000; foe(n+1)=8.872290e+000; krok(n+1)=6.912919e-001; ng(n+1)=1.251240e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.047311e+000; foe(n+1)=8.839160e+000; krok(n+1)=9.254712e-006; ng(n+1)=1.459531e+002;
n=27; farx(n+1)=1.052727e+000; foe(n+1)=8.832150e+000; krok(n+1)=1.151008e-004; ng(n+1)=2.405427e+001;
n=28; farx(n+1)=1.076965e+000; foe(n+1)=8.810076e+000; krok(n+1)=4.698128e-004; ng(n+1)=2.172479e+001;
n=29; farx(n+1)=1.138647e+000; foe(n+1)=8.675528e+000; krok(n+1)=2.474886e-003; ng(n+1)=2.078962e+001;
n=30; farx(n+1)=1.006364e+000; foe(n+1)=8.139021e+000; krok(n+1)=2.047906e-002; ng(n+1)=2.457091e+001;
n=31; farx(n+1)=1.017920e+000; foe(n+1)=8.105827e+000; krok(n+1)=1.276921e-003; ng(n+1)=2.389609e+002;
n=32; farx(n+1)=8.311560e-001; foe(n+1)=7.623048e+000; krok(n+1)=1.372911e-001; ng(n+1)=1.546703e+002;
n=33; farx(n+1)=8.236637e-001; foe(n+1)=7.525112e+000; krok(n+1)=2.065111e-002; ng(n+1)=3.924854e+002;
n=34; farx(n+1)=8.530477e-001; foe(n+1)=7.153463e+000; krok(n+1)=1.738735e-001; ng(n+1)=6.165882e+002;
n=35; farx(n+1)=8.422726e-001; foe(n+1)=6.769628e+000; krok(n+1)=7.866273e-002; ng(n+1)=8.630102e+002;
n=36; farx(n+1)=8.224768e-001; foe(n+1)=5.835035e+000; krok(n+1)=2.800362e-001; ng(n+1)=6.833707e+002;
n=37; farx(n+1)=8.584292e-001; foe(n+1)=5.359764e+000; krok(n+1)=7.104066e-002; ng(n+1)=3.573371e+002;
n=38; farx(n+1)=7.705295e-001; foe(n+1)=4.480154e+000; krok(n+1)=2.421357e-001; ng(n+1)=5.103917e+002;
n=39; farx(n+1)=6.326158e-001; foe(n+1)=3.932243e+000; krok(n+1)=3.404866e-001; ng(n+1)=1.473792e+002;
n=40; farx(n+1)=6.544984e-001; foe(n+1)=3.848436e+000; krok(n+1)=1.548452e-001; ng(n+1)=1.243024e+002;
n=41; farx(n+1)=6.635476e-001; foe(n+1)=3.763875e+000; krok(n+1)=3.202323e-001; ng(n+1)=1.698662e+002;
n=42; farx(n+1)=6.717640e-001; foe(n+1)=3.713744e+000; krok(n+1)=1.713887e-001; ng(n+1)=1.341043e+002;
n=43; farx(n+1)=7.822875e-001; foe(n+1)=3.560475e+000; krok(n+1)=9.110982e-001; ng(n+1)=3.195044e+002;
n=44; farx(n+1)=7.854565e-001; foe(n+1)=3.449687e+000; krok(n+1)=1.447680e+000; ng(n+1)=1.625452e+002;
n=45; farx(n+1)=7.304062e-001; foe(n+1)=3.317772e+000; krok(n+1)=1.404256e+000; ng(n+1)=1.353263e+002;
n=46; farx(n+1)=6.951928e-001; foe(n+1)=3.213202e+000; krok(n+1)=3.015923e-001; ng(n+1)=4.503381e+002;
n=47; farx(n+1)=6.243672e-001; foe(n+1)=3.144768e+000; krok(n+1)=6.658246e-001; ng(n+1)=7.968134e+001;
n=48; farx(n+1)=5.804023e-001; foe(n+1)=3.089202e+000; krok(n+1)=3.839848e-001; ng(n+1)=1.927972e+002;
n=49; farx(n+1)=4.441975e-001; foe(n+1)=2.876525e+000; krok(n+1)=9.001093e-001; ng(n+1)=5.268034e+001;
n=50; farx(n+1)=4.195286e-001; foe(n+1)=2.823615e+000; krok(n+1)=3.477470e-001; ng(n+1)=3.227108e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
