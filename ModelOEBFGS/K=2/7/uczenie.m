%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.007682e+002; foe(n+1)=3.006634e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.788377e+002; foe(n+1)=1.787812e+002; krok(n+1)=4.957630e-004; ng(n+1)=7.166043e+002;
n=2; farx(n+1)=1.711685e+002; foe(n+1)=1.727916e+002; krok(n+1)=1.725161e-002; ng(n+1)=4.959733e+001;
n=3; farx(n+1)=8.821532e+001; foe(n+1)=9.234995e+001; krok(n+1)=3.272337e-003; ng(n+1)=2.651431e+002;
n=4; farx(n+1)=6.475182e+001; foe(n+1)=7.242241e+001; krok(n+1)=2.081087e-003; ng(n+1)=6.871396e+002;
n=5; farx(n+1)=5.610862e+001; foe(n+1)=6.542930e+001; krok(n+1)=4.015818e-004; ng(n+1)=5.895696e+002;
n=6; farx(n+1)=6.157802e+001; foe(n+1)=5.800976e+001; krok(n+1)=5.128285e-003; ng(n+1)=2.870216e+002;
n=7; farx(n+1)=5.531890e+001; foe(n+1)=5.011071e+001; krok(n+1)=2.426108e-002; ng(n+1)=2.381496e+002;
n=8; farx(n+1)=5.424487e+001; foe(n+1)=4.940724e+001; krok(n+1)=3.103068e-002; ng(n+1)=1.402805e+002;
n=9; farx(n+1)=5.223375e+001; foe(n+1)=4.855144e+001; krok(n+1)=5.801457e-002; ng(n+1)=1.402717e+002;
n=10; farx(n+1)=5.260645e+001; foe(n+1)=4.794231e+001; krok(n+1)=9.363811e-002; ng(n+1)=1.363246e+002;
n=11; farx(n+1)=5.172131e+001; foe(n+1)=4.472895e+001; krok(n+1)=8.764941e-002; ng(n+1)=1.438824e+002;
n=12; farx(n+1)=5.033203e+001; foe(n+1)=4.321612e+001; krok(n+1)=5.312625e-001; ng(n+1)=1.724470e+002;
n=13; farx(n+1)=3.937605e+001; foe(n+1)=4.072113e+001; krok(n+1)=8.773192e-001; ng(n+1)=8.821641e+001;
n=14; farx(n+1)=2.840286e+001; foe(n+1)=3.775351e+001; krok(n+1)=6.970601e-001; ng(n+1)=1.526450e+002;
n=15; farx(n+1)=2.662472e+001; foe(n+1)=3.747327e+001; krok(n+1)=1.900448e-002; ng(n+1)=5.670753e+002;
n=16; farx(n+1)=2.390422e+001; foe(n+1)=3.608640e+001; krok(n+1)=2.144024e-001; ng(n+1)=7.570607e+002;
n=17; farx(n+1)=2.253985e+001; foe(n+1)=3.542694e+001; krok(n+1)=1.150668e-001; ng(n+1)=4.212399e+002;
n=18; farx(n+1)=2.087896e+001; foe(n+1)=3.286781e+001; krok(n+1)=7.612154e-001; ng(n+1)=4.835192e+002;
n=19; farx(n+1)=2.004673e+001; foe(n+1)=3.194116e+001; krok(n+1)=2.522670e-001; ng(n+1)=3.987242e+002;
n=20; farx(n+1)=1.815187e+001; foe(n+1)=3.089436e+001; krok(n+1)=3.404866e-001; ng(n+1)=2.105609e+002;
n=21; farx(n+1)=1.344489e+001; foe(n+1)=2.864580e+001; krok(n+1)=8.295027e-001; ng(n+1)=4.505041e+002;
n=22; farx(n+1)=1.174779e+001; foe(n+1)=2.772561e+001; krok(n+1)=8.641149e-002; ng(n+1)=7.873463e+002;
n=23; farx(n+1)=8.547685e+000; foe(n+1)=2.413200e+001; krok(n+1)=2.114117e-001; ng(n+1)=2.419716e+002;
n=24; farx(n+1)=7.488211e+000; foe(n+1)=2.301347e+001; krok(n+1)=4.568872e-002; ng(n+1)=4.018336e+002;
n=25; farx(n+1)=7.307145e+000; foe(n+1)=2.165469e+001; krok(n+1)=1.865388e-001; ng(n+1)=5.568176e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.012659e+000; foe(n+1)=2.099872e+001; krok(n+1)=6.596475e-005; ng(n+1)=2.880814e+002;
n=27; farx(n+1)=6.752181e+000; foe(n+1)=2.035234e+001; krok(n+1)=6.065098e-005; ng(n+1)=2.936925e+002;
n=28; farx(n+1)=5.999889e+000; foe(n+1)=1.984761e+001; krok(n+1)=1.605669e-003; ng(n+1)=4.751874e+001;
n=29; farx(n+1)=4.821511e+000; foe(n+1)=1.833972e+001; krok(n+1)=1.477175e-002; ng(n+1)=6.178159e+001;
n=30; farx(n+1)=3.808395e+000; foe(n+1)=1.716550e+001; krok(n+1)=2.569527e-003; ng(n+1)=2.375145e+002;
n=31; farx(n+1)=4.011324e+000; foe(n+1)=1.640842e+001; krok(n+1)=4.687691e-003; ng(n+1)=5.834104e+002;
n=32; farx(n+1)=3.143510e+000; foe(n+1)=1.285571e+001; krok(n+1)=1.111520e-002; ng(n+1)=6.118245e+002;
n=33; farx(n+1)=2.652058e+000; foe(n+1)=1.190677e+001; krok(n+1)=3.263302e-003; ng(n+1)=2.330468e+002;
n=34; farx(n+1)=1.971394e+000; foe(n+1)=1.043794e+001; krok(n+1)=1.522640e-002; ng(n+1)=5.253449e+002;
n=35; farx(n+1)=1.546903e+000; foe(n+1)=9.531538e+000; krok(n+1)=2.583432e-001; ng(n+1)=5.617591e+002;
n=36; farx(n+1)=1.239695e+000; foe(n+1)=8.840555e+000; krok(n+1)=4.171622e-002; ng(n+1)=7.602551e+002;
n=37; farx(n+1)=1.085692e+000; foe(n+1)=7.989072e+000; krok(n+1)=1.890204e-001; ng(n+1)=3.961406e+002;
n=38; farx(n+1)=1.021282e+000; foe(n+1)=7.454779e+000; krok(n+1)=6.871474e-001; ng(n+1)=2.110273e+002;
n=39; farx(n+1)=1.005724e+000; foe(n+1)=7.330288e+000; krok(n+1)=7.178655e-001; ng(n+1)=1.225125e+002;
n=40; farx(n+1)=1.061206e+000; foe(n+1)=6.985256e+000; krok(n+1)=6.575937e-001; ng(n+1)=1.446060e+002;
n=41; farx(n+1)=1.168372e+000; foe(n+1)=6.606130e+000; krok(n+1)=2.357265e-001; ng(n+1)=3.719382e+002;
n=42; farx(n+1)=1.318987e+000; foe(n+1)=6.231598e+000; krok(n+1)=3.819429e-001; ng(n+1)=4.294785e+002;
n=43; farx(n+1)=1.357478e+000; foe(n+1)=5.181862e+000; krok(n+1)=1.065517e+000; ng(n+1)=3.080375e+002;
n=44; farx(n+1)=1.247118e+000; foe(n+1)=4.667179e+000; krok(n+1)=4.788369e-001; ng(n+1)=1.953760e+002;
n=45; farx(n+1)=1.172934e+000; foe(n+1)=4.352886e+000; krok(n+1)=2.798246e-001; ng(n+1)=3.151978e+002;
n=46; farx(n+1)=1.202613e+000; foe(n+1)=4.235001e+000; krok(n+1)=6.014376e-001; ng(n+1)=5.387954e+001;
n=47; farx(n+1)=1.146695e+000; foe(n+1)=4.163720e+000; krok(n+1)=8.707243e-001; ng(n+1)=8.378500e+001;
n=48; farx(n+1)=1.092852e+000; foe(n+1)=3.978123e+000; krok(n+1)=1.616601e+000; ng(n+1)=1.112489e+002;
n=49; farx(n+1)=1.085491e+000; foe(n+1)=3.862174e+000; krok(n+1)=9.740223e-001; ng(n+1)=2.042132e+002;
n=50; farx(n+1)=1.060244e+000; foe(n+1)=3.800067e+000; krok(n+1)=1.174409e+000; ng(n+1)=6.055076e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
