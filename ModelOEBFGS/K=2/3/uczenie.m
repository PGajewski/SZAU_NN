%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.872525e+002; foe(n+1)=2.862941e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.797550e+002; foe(n+1)=1.794401e+002; krok(n+1)=5.002119e-004; ng(n+1)=6.026035e+002;
n=2; farx(n+1)=1.619976e+002; foe(n+1)=1.679918e+002; krok(n+1)=1.080437e-002; ng(n+1)=7.494734e+001;
n=3; farx(n+1)=5.540421e+001; foe(n+1)=6.300281e+001; krok(n+1)=3.201476e-003; ng(n+1)=2.002150e+002;
n=4; farx(n+1)=5.244640e+001; foe(n+1)=5.870509e+001; krok(n+1)=1.742666e-003; ng(n+1)=1.827288e+002;
n=5; farx(n+1)=5.316326e+001; foe(n+1)=5.602465e+001; krok(n+1)=4.017797e-002; ng(n+1)=1.613676e+002;
n=6; farx(n+1)=5.027571e+001; foe(n+1)=5.478962e+001; krok(n+1)=3.344126e-002; ng(n+1)=6.906073e+001;
n=7; farx(n+1)=4.241273e+001; foe(n+1)=4.813041e+001; krok(n+1)=1.538927e-001; ng(n+1)=1.307672e+002;
n=8; farx(n+1)=3.072041e+001; foe(n+1)=4.272008e+001; krok(n+1)=1.600146e-001; ng(n+1)=5.006285e+001;
n=9; farx(n+1)=2.455259e+001; foe(n+1)=4.082013e+001; krok(n+1)=5.625683e-002; ng(n+1)=1.135081e+002;
n=10; farx(n+1)=1.463284e+001; foe(n+1)=3.495903e+001; krok(n+1)=5.520515e-001; ng(n+1)=2.346413e+002;
n=11; farx(n+1)=1.105061e+001; foe(n+1)=2.613660e+001; krok(n+1)=4.268310e-001; ng(n+1)=4.341084e+002;
n=12; farx(n+1)=8.869177e+000; foe(n+1)=2.499322e+001; krok(n+1)=1.432811e-001; ng(n+1)=3.618377e+001;
n=13; farx(n+1)=8.116629e+000; foe(n+1)=2.489844e+001; krok(n+1)=1.048915e-001; ng(n+1)=1.302709e+002;
n=14; farx(n+1)=6.011521e+000; foe(n+1)=2.291440e+001; krok(n+1)=5.731244e-001; ng(n+1)=1.464721e+002;
n=15; farx(n+1)=5.999283e+000; foe(n+1)=2.287936e+001; krok(n+1)=6.496894e-003; ng(n+1)=1.417248e+002;
n=16; farx(n+1)=6.167240e+000; foe(n+1)=2.010945e+001; krok(n+1)=9.137743e-002; ng(n+1)=5.534357e+002;
n=17; farx(n+1)=6.001055e+000; foe(n+1)=1.961171e+001; krok(n+1)=1.444813e-001; ng(n+1)=7.363610e+001;
n=18; farx(n+1)=4.436586e+000; foe(n+1)=1.713180e+001; krok(n+1)=7.448368e-001; ng(n+1)=1.248286e+002;
n=19; farx(n+1)=3.969091e+000; foe(n+1)=1.628925e+001; krok(n+1)=1.121259e-001; ng(n+1)=1.837141e+002;
n=20; farx(n+1)=3.103184e+000; foe(n+1)=1.500344e+001; krok(n+1)=4.268310e-001; ng(n+1)=2.861045e+002;
n=21; farx(n+1)=2.688107e+000; foe(n+1)=1.433336e+001; krok(n+1)=4.164005e-001; ng(n+1)=4.009324e+002;
n=22; farx(n+1)=2.469068e+000; foe(n+1)=1.391813e+001; krok(n+1)=5.403454e-001; ng(n+1)=3.224549e+002;
n=23; farx(n+1)=2.017238e+000; foe(n+1)=1.268454e+001; krok(n+1)=1.034903e+000; ng(n+1)=3.166907e+002;
n=24; farx(n+1)=1.586643e+000; foe(n+1)=1.032405e+001; krok(n+1)=5.570755e-001; ng(n+1)=4.737199e+002;
n=25; farx(n+1)=1.372934e+000; foe(n+1)=8.789313e+000; krok(n+1)=7.626731e-002; ng(n+1)=3.054991e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.355645e+000; foe(n+1)=8.709389e+000; krok(n+1)=1.588017e-005; ng(n+1)=1.537651e+002;
n=27; farx(n+1)=1.268661e+000; foe(n+1)=8.493583e+000; krok(n+1)=2.578918e-004; ng(n+1)=7.511360e+001;
n=28; farx(n+1)=1.222672e+000; foe(n+1)=8.104710e+000; krok(n+1)=2.578785e-004; ng(n+1)=1.070041e+002;
n=29; farx(n+1)=1.100693e+000; foe(n+1)=7.697143e+000; krok(n+1)=1.742611e-003; ng(n+1)=5.768115e+001;
n=30; farx(n+1)=1.026119e+000; foe(n+1)=6.959492e+000; krok(n+1)=2.925850e-002; ng(n+1)=4.312854e+001;
n=31; farx(n+1)=9.923322e-001; foe(n+1)=6.874728e+000; krok(n+1)=7.105102e-003; ng(n+1)=2.015306e+002;
n=32; farx(n+1)=9.892397e-001; foe(n+1)=6.320833e+000; krok(n+1)=7.320182e-002; ng(n+1)=9.246486e+001;
n=33; farx(n+1)=9.997481e-001; foe(n+1)=6.152448e+000; krok(n+1)=3.778964e-002; ng(n+1)=2.015654e+002;
n=34; farx(n+1)=1.016549e+000; foe(n+1)=5.674136e+000; krok(n+1)=5.114232e-001; ng(n+1)=1.233658e+002;
n=35; farx(n+1)=1.090710e+000; foe(n+1)=4.858791e+000; krok(n+1)=1.663205e+000; ng(n+1)=1.425952e+002;
n=36; farx(n+1)=1.237065e+000; foe(n+1)=4.520392e+000; krok(n+1)=3.153338e-002; ng(n+1)=2.284899e+002;
n=37; farx(n+1)=1.263654e+000; foe(n+1)=4.291233e+000; krok(n+1)=2.921091e-001; ng(n+1)=2.950811e+002;
n=38; farx(n+1)=1.008278e+000; foe(n+1)=3.805836e+000; krok(n+1)=1.092255e+000; ng(n+1)=8.962015e+001;
n=39; farx(n+1)=9.285776e-001; foe(n+1)=3.361141e+000; krok(n+1)=1.062525e+000; ng(n+1)=5.874355e+001;
n=40; farx(n+1)=9.075205e-001; foe(n+1)=3.279220e+000; krok(n+1)=1.909506e-001; ng(n+1)=1.802630e+002;
n=41; farx(n+1)=8.560926e-001; foe(n+1)=3.091070e+000; krok(n+1)=5.281352e-001; ng(n+1)=8.826938e+001;
n=42; farx(n+1)=8.372382e-001; foe(n+1)=3.023501e+000; krok(n+1)=3.375584e-001; ng(n+1)=6.005500e+001;
n=43; farx(n+1)=7.791129e-001; foe(n+1)=2.994491e+000; krok(n+1)=1.104103e+000; ng(n+1)=5.155935e+001;
n=44; farx(n+1)=7.353001e-001; foe(n+1)=2.981405e+000; krok(n+1)=9.908265e-001; ng(n+1)=3.867695e+001;
n=45; farx(n+1)=7.206828e-001; foe(n+1)=2.975173e+000; krok(n+1)=1.295594e+000; ng(n+1)=2.044990e+001;
n=46; farx(n+1)=7.187898e-001; foe(n+1)=2.973438e+000; krok(n+1)=1.212653e+000; ng(n+1)=1.917932e+001;
n=47; farx(n+1)=7.143444e-001; foe(n+1)=2.972421e+000; krok(n+1)=1.927884e+000; ng(n+1)=8.160874e+000;
n=48; farx(n+1)=7.136440e-001; foe(n+1)=2.956486e+000; krok(n+1)=1.108813e+001; ng(n+1)=5.006855e+000;
n=49; farx(n+1)=7.194866e-001; foe(n+1)=2.933558e+000; krok(n+1)=2.336595e+000; ng(n+1)=6.199358e+001;
n=50; farx(n+1)=7.111144e-001; foe(n+1)=2.927182e+000; krok(n+1)=5.563246e-001; ng(n+1)=6.895267e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
