%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.972799e+002; foe(n+1)=2.925371e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.788736e+002; foe(n+1)=1.759935e+002; krok(n+1)=5.061965e-004; ng(n+1)=6.220133e+002;
n=2; farx(n+1)=7.024364e+001; foe(n+1)=6.643698e+001; krok(n+1)=2.486715e-002; ng(n+1)=7.876703e+001;
n=3; farx(n+1)=6.819950e+001; foe(n+1)=6.410189e+001; krok(n+1)=1.162474e-003; ng(n+1)=1.771312e+002;
n=4; farx(n+1)=6.772371e+001; foe(n+1)=6.108093e+001; krok(n+1)=8.055458e-003; ng(n+1)=1.834557e+002;
n=5; farx(n+1)=5.162468e+001; foe(n+1)=5.845277e+001; krok(n+1)=2.527804e-002; ng(n+1)=2.456351e+001;
n=6; farx(n+1)=4.060829e+000; foe(n+1)=3.313347e+001; krok(n+1)=7.539806e-002; ng(n+1)=1.076977e+002;
n=7; farx(n+1)=3.894892e+000; foe(n+1)=3.308676e+001; krok(n+1)=4.446352e-007; ng(n+1)=2.086372e+003;
n=8; farx(n+1)=3.836506e+000; foe(n+1)=3.287299e+001; krok(n+1)=8.672124e-003; ng(n+1)=2.217084e+003;
n=9; farx(n+1)=4.970132e+000; foe(n+1)=2.902761e+001; krok(n+1)=2.928765e-002; ng(n+1)=2.302611e+003;
n=10; farx(n+1)=4.689550e+000; foe(n+1)=2.314912e+001; krok(n+1)=6.105720e-002; ng(n+1)=1.792704e+003;
n=11; farx(n+1)=4.254349e+000; foe(n+1)=1.716122e+001; krok(n+1)=5.680644e-002; ng(n+1)=7.355546e+002;
n=12; farx(n+1)=3.199684e+000; foe(n+1)=1.318791e+001; krok(n+1)=9.714883e-002; ng(n+1)=1.257142e+002;
n=13; farx(n+1)=2.585908e+000; foe(n+1)=1.164618e+001; krok(n+1)=5.312625e-001; ng(n+1)=3.451473e+002;
n=14; farx(n+1)=1.958861e+000; foe(n+1)=1.047114e+001; krok(n+1)=3.020544e-001; ng(n+1)=1.767918e+002;
n=15; farx(n+1)=1.304357e+000; foe(n+1)=9.104920e+000; krok(n+1)=9.906032e-001; ng(n+1)=1.674878e+002;
n=16; farx(n+1)=1.109695e+000; foe(n+1)=8.684899e+000; krok(n+1)=5.039997e-001; ng(n+1)=1.384209e+002;
n=17; farx(n+1)=1.096184e+000; foe(n+1)=8.492591e+000; krok(n+1)=1.174181e+000; ng(n+1)=4.846197e+001;
n=18; farx(n+1)=1.099616e+000; foe(n+1)=8.119313e+000; krok(n+1)=8.377184e-001; ng(n+1)=5.708611e+001;
n=19; farx(n+1)=1.152334e+000; foe(n+1)=7.726848e+000; krok(n+1)=1.485218e+000; ng(n+1)=1.462230e+002;
n=20; farx(n+1)=1.155269e+000; foe(n+1)=7.574502e+000; krok(n+1)=4.065930e-001; ng(n+1)=1.054663e+002;
n=21; farx(n+1)=1.101211e+000; foe(n+1)=7.321402e+000; krok(n+1)=8.426513e-001; ng(n+1)=5.311885e+001;
n=22; farx(n+1)=1.058106e+000; foe(n+1)=7.140803e+000; krok(n+1)=4.556164e-001; ng(n+1)=1.411811e+002;
n=23; farx(n+1)=1.034374e+000; foe(n+1)=6.946606e+000; krok(n+1)=3.923690e-001; ng(n+1)=1.585750e+002;
n=24; farx(n+1)=1.007386e+000; foe(n+1)=6.662093e+000; krok(n+1)=1.158471e+000; ng(n+1)=1.067598e+002;
n=25; farx(n+1)=1.134891e+000; foe(n+1)=6.309689e+000; krok(n+1)=6.137814e-001; ng(n+1)=1.660962e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.122006e+000; foe(n+1)=6.240118e+000; krok(n+1)=9.766516e-006; ng(n+1)=1.896715e+002;
n=27; farx(n+1)=1.107269e+000; foe(n+1)=6.190286e+000; krok(n+1)=1.205178e-004; ng(n+1)=4.923045e+001;
n=28; farx(n+1)=1.086623e+000; foe(n+1)=6.155019e+000; krok(n+1)=1.154043e-004; ng(n+1)=4.175332e+001;
n=29; farx(n+1)=1.130522e+000; foe(n+1)=5.759415e+000; krok(n+1)=9.213222e-003; ng(n+1)=2.011687e+001;
n=30; farx(n+1)=1.124958e+000; foe(n+1)=5.649793e+000; krok(n+1)=1.004449e-002; ng(n+1)=7.943568e+001;
n=31; farx(n+1)=1.070094e+000; foe(n+1)=5.592046e+000; krok(n+1)=1.614645e-002; ng(n+1)=1.678676e+002;
n=32; farx(n+1)=1.079200e+000; foe(n+1)=5.574847e+000; krok(n+1)=1.296098e-002; ng(n+1)=2.126454e+002;
n=33; farx(n+1)=9.914867e-001; foe(n+1)=5.412296e+000; krok(n+1)=2.590696e-001; ng(n+1)=1.342661e+002;
n=34; farx(n+1)=9.765407e-001; foe(n+1)=5.365846e+000; krok(n+1)=8.322808e-002; ng(n+1)=1.683201e+002;
n=35; farx(n+1)=9.149438e-001; foe(n+1)=5.237501e+000; krok(n+1)=1.500565e-001; ng(n+1)=1.675201e+002;
n=36; farx(n+1)=8.653511e-001; foe(n+1)=4.985650e+000; krok(n+1)=5.524354e-001; ng(n+1)=1.142907e+002;
n=37; farx(n+1)=9.504590e-001; foe(n+1)=4.706940e+000; krok(n+1)=6.268073e-001; ng(n+1)=2.499701e+002;
n=38; farx(n+1)=9.198253e-001; foe(n+1)=4.653041e+000; krok(n+1)=3.923690e-001; ng(n+1)=1.707698e+001;
n=39; farx(n+1)=8.654616e-001; foe(n+1)=4.586373e+000; krok(n+1)=6.710813e-001; ng(n+1)=1.418849e+002;
n=40; farx(n+1)=7.946061e-001; foe(n+1)=4.513264e+000; krok(n+1)=1.512163e+000; ng(n+1)=1.694467e+002;
n=41; farx(n+1)=7.713097e-001; foe(n+1)=4.443777e+000; krok(n+1)=9.372047e-001; ng(n+1)=1.029948e+002;
n=42; farx(n+1)=7.637809e-001; foe(n+1)=4.290611e+000; krok(n+1)=1.127230e+000; ng(n+1)=2.621451e+001;
n=43; farx(n+1)=8.018264e-001; foe(n+1)=4.111097e+000; krok(n+1)=7.650627e-001; ng(n+1)=1.659513e+002;
n=44; farx(n+1)=7.900711e-001; foe(n+1)=3.878533e+000; krok(n+1)=1.274317e+000; ng(n+1)=1.691906e+002;
n=45; farx(n+1)=8.177142e-001; foe(n+1)=3.782663e+000; krok(n+1)=4.013589e-001; ng(n+1)=2.352689e+002;
n=46; farx(n+1)=7.800850e-001; foe(n+1)=3.620866e+000; krok(n+1)=1.924468e+000; ng(n+1)=7.174140e+001;
n=47; farx(n+1)=7.575523e-001; foe(n+1)=3.511201e+000; krok(n+1)=9.073805e-001; ng(n+1)=1.374766e+002;
n=48; farx(n+1)=7.228629e-001; foe(n+1)=3.260032e+000; krok(n+1)=9.145402e-001; ng(n+1)=1.125915e+002;
n=49; farx(n+1)=6.711613e-001; foe(n+1)=3.145818e+000; krok(n+1)=2.689113e-001; ng(n+1)=1.380189e+002;
n=50; farx(n+1)=5.327079e-001; foe(n+1)=2.869790e+000; krok(n+1)=6.855549e-001; ng(n+1)=2.219371e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
