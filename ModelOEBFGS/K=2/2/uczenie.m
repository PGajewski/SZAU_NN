%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.844921e+002; foe(n+1)=2.907151e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.699109e+002; foe(n+1)=1.733947e+002; krok(n+1)=4.884852e-004; ng(n+1)=6.654868e+002;
n=2; farx(n+1)=6.144442e+001; foe(n+1)=6.788854e+001; krok(n+1)=1.559274e-002; ng(n+1)=1.114073e+002;
n=3; farx(n+1)=5.827105e+001; foe(n+1)=6.354991e+001; krok(n+1)=9.064776e-004; ng(n+1)=2.586459e+002;
n=4; farx(n+1)=5.865999e+001; foe(n+1)=6.024199e+001; krok(n+1)=4.090464e-003; ng(n+1)=2.317885e+002;
n=5; farx(n+1)=2.908486e+001; foe(n+1)=5.073576e+001; krok(n+1)=3.946598e-002; ng(n+1)=4.482325e+001;
n=6; farx(n+1)=1.958575e+001; foe(n+1)=4.694473e+001; krok(n+1)=7.737158e-003; ng(n+1)=3.445186e+002;
n=7; farx(n+1)=1.763595e+001; foe(n+1)=4.298605e+001; krok(n+1)=4.653602e-003; ng(n+1)=6.994618e+002;
n=8; farx(n+1)=1.342961e+001; foe(n+1)=3.721977e+001; krok(n+1)=1.545508e-001; ng(n+1)=6.748764e+002;
n=9; farx(n+1)=1.286486e+001; foe(n+1)=3.620548e+001; krok(n+1)=6.475792e-003; ng(n+1)=7.037370e+002;
n=10; farx(n+1)=1.441411e+001; foe(n+1)=3.424302e+001; krok(n+1)=9.431389e-002; ng(n+1)=6.825363e+002;
n=11; farx(n+1)=1.112808e+001; foe(n+1)=2.934664e+001; krok(n+1)=3.772555e-001; ng(n+1)=4.564527e+002;
n=12; farx(n+1)=7.453977e+000; foe(n+1)=2.474961e+001; krok(n+1)=1.076361e-001; ng(n+1)=2.693396e+002;
n=13; farx(n+1)=6.425530e+000; foe(n+1)=2.236825e+001; krok(n+1)=9.363811e-002; ng(n+1)=2.477064e+002;
n=14; farx(n+1)=2.775595e+000; foe(n+1)=1.283533e+001; krok(n+1)=9.937057e-001; ng(n+1)=4.598356e+002;
n=15; farx(n+1)=1.967572e+000; foe(n+1)=1.077785e+001; krok(n+1)=2.640676e-001; ng(n+1)=5.609393e+002;
n=16; farx(n+1)=1.410363e+000; foe(n+1)=7.770498e+000; krok(n+1)=2.539877e-001; ng(n+1)=2.469313e+002;
n=17; farx(n+1)=1.225856e+000; foe(n+1)=6.960561e+000; krok(n+1)=2.134155e-001; ng(n+1)=1.466043e+002;
n=18; farx(n+1)=1.155664e+000; foe(n+1)=6.839496e+000; krok(n+1)=1.414327e-001; ng(n+1)=1.202157e+002;
n=19; farx(n+1)=1.187271e+000; foe(n+1)=6.764151e+000; krok(n+1)=6.404647e-001; ng(n+1)=5.144159e+001;
n=20; farx(n+1)=1.232374e+000; foe(n+1)=6.694780e+000; krok(n+1)=3.223140e-001; ng(n+1)=8.148430e+001;
n=21; farx(n+1)=1.257355e+000; foe(n+1)=6.573432e+000; krok(n+1)=1.264530e+000; ng(n+1)=5.280466e+001;
n=22; farx(n+1)=1.208547e+000; foe(n+1)=6.476804e+000; krok(n+1)=1.594157e+000; ng(n+1)=5.701914e+001;
n=23; farx(n+1)=1.107276e+000; foe(n+1)=6.414909e+000; krok(n+1)=1.206842e+000; ng(n+1)=8.534704e+001;
n=24; farx(n+1)=1.047655e+000; foe(n+1)=6.363399e+000; krok(n+1)=6.107131e-001; ng(n+1)=3.671255e+001;
n=25; farx(n+1)=1.013548e+000; foe(n+1)=6.314878e+000; krok(n+1)=1.616601e+000; ng(n+1)=2.583073e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.014577e+000; foe(n+1)=6.298857e+000; krok(n+1)=7.258975e-006; ng(n+1)=1.126745e+002;
n=27; farx(n+1)=1.013847e+000; foe(n+1)=6.289684e+000; krok(n+1)=3.117913e-005; ng(n+1)=5.608407e+001;
n=28; farx(n+1)=1.009103e+000; foe(n+1)=6.287868e+000; krok(n+1)=5.067687e-004; ng(n+1)=4.835266e+000;
n=29; farx(n+1)=1.000837e+000; foe(n+1)=6.276231e+000; krok(n+1)=4.723705e-003; ng(n+1)=5.333107e+000;
n=30; farx(n+1)=9.519920e-001; foe(n+1)=6.218117e+000; krok(n+1)=2.556212e-002; ng(n+1)=4.524972e+000;
n=31; farx(n+1)=9.404351e-001; foe(n+1)=6.191306e+000; krok(n+1)=1.308616e-002; ng(n+1)=9.058101e+001;
n=32; farx(n+1)=9.189955e-001; foe(n+1)=6.182221e+000; krok(n+1)=1.053841e-002; ng(n+1)=7.294837e+001;
n=33; farx(n+1)=9.241831e-001; foe(n+1)=6.168826e+000; krok(n+1)=7.327928e-002; ng(n+1)=7.361638e+001;
n=34; farx(n+1)=9.706859e-001; foe(n+1)=6.157896e+000; krok(n+1)=6.101994e-002; ng(n+1)=1.397851e+002;
n=35; farx(n+1)=9.940383e-001; foe(n+1)=6.104423e+000; krok(n+1)=3.106282e-001; ng(n+1)=1.214678e+002;
n=36; farx(n+1)=8.723310e-001; foe(n+1)=6.062034e+000; krok(n+1)=6.400584e-001; ng(n+1)=4.767085e+001;
n=37; farx(n+1)=8.535505e-001; foe(n+1)=6.027667e+000; krok(n+1)=2.577175e-001; ng(n+1)=5.062523e+001;
n=38; farx(n+1)=8.407701e-001; foe(n+1)=5.996769e+000; krok(n+1)=3.031633e-001; ng(n+1)=5.464811e+001;
n=39; farx(n+1)=8.955629e-001; foe(n+1)=5.895131e+000; krok(n+1)=1.348916e+000; ng(n+1)=1.139388e+002;
n=40; farx(n+1)=8.643744e-001; foe(n+1)=5.835943e+000; krok(n+1)=5.770438e-001; ng(n+1)=6.699597e+001;
n=41; farx(n+1)=8.206941e-001; foe(n+1)=5.712582e+000; krok(n+1)=6.258076e-001; ng(n+1)=9.685568e+001;
n=42; farx(n+1)=7.613449e-001; foe(n+1)=5.658285e+000; krok(n+1)=1.550419e-001; ng(n+1)=4.145943e+001;
n=43; farx(n+1)=7.793709e-001; foe(n+1)=5.537836e+000; krok(n+1)=6.855549e-001; ng(n+1)=1.481850e+002;
n=44; farx(n+1)=7.230185e-001; foe(n+1)=5.301269e+000; krok(n+1)=7.178655e-001; ng(n+1)=1.649880e+002;
n=45; farx(n+1)=6.353487e-001; foe(n+1)=5.128162e+000; krok(n+1)=2.800362e-001; ng(n+1)=2.641118e+002;
n=46; farx(n+1)=5.682470e-001; foe(n+1)=5.031955e+000; krok(n+1)=1.344556e-001; ng(n+1)=2.443854e+002;
n=47; farx(n+1)=5.951464e-001; foe(n+1)=4.890566e+000; krok(n+1)=2.176076e-001; ng(n+1)=8.646535e+001;
n=48; farx(n+1)=5.832918e-001; foe(n+1)=4.786444e+000; krok(n+1)=5.810114e-001; ng(n+1)=1.245768e+002;
n=49; farx(n+1)=5.591335e-001; foe(n+1)=4.738785e+000; krok(n+1)=2.488881e-001; ng(n+1)=2.243954e+002;
n=50; farx(n+1)=5.438648e-001; foe(n+1)=4.689692e+000; krok(n+1)=3.106282e-001; ng(n+1)=2.478136e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
