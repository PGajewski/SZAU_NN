%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.838357e+002; foe(n+1)=2.884671e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.778003e+002; foe(n+1)=1.806382e+002; krok(n+1)=4.957630e-004; ng(n+1)=6.280778e+002;
n=2; farx(n+1)=1.592520e+002; foe(n+1)=1.566498e+002; krok(n+1)=1.005588e-002; ng(n+1)=1.126831e+002;
n=3; farx(n+1)=6.447371e+001; foe(n+1)=6.482420e+001; krok(n+1)=1.934289e-003; ng(n+1)=3.638123e+002;
n=4; farx(n+1)=6.202562e+001; foe(n+1)=6.269710e+001; krok(n+1)=4.820713e-004; ng(n+1)=1.546139e+002;
n=5; farx(n+1)=5.267715e+001; foe(n+1)=6.179461e+001; krok(n+1)=7.990988e-003; ng(n+1)=5.928097e+001;
n=6; farx(n+1)=4.535012e+001; foe(n+1)=5.142836e+001; krok(n+1)=6.826594e-002; ng(n+1)=1.804616e+002;
n=7; farx(n+1)=3.280135e+001; foe(n+1)=4.650575e+001; krok(n+1)=2.407667e-002; ng(n+1)=1.501146e+002;
n=8; farx(n+1)=3.076771e+001; foe(n+1)=4.613091e+001; krok(n+1)=3.968650e-004; ng(n+1)=2.571629e+002;
n=9; farx(n+1)=2.645542e+001; foe(n+1)=4.504895e+001; krok(n+1)=3.475168e-003; ng(n+1)=2.387265e+002;
n=10; farx(n+1)=2.291861e+001; foe(n+1)=4.300864e+001; krok(n+1)=2.768235e-002; ng(n+1)=4.174757e+002;
n=11; farx(n+1)=2.215261e+001; foe(n+1)=4.264107e+001; krok(n+1)=8.471113e-004; ng(n+1)=5.166306e+002;
n=12; farx(n+1)=2.055936e+001; foe(n+1)=4.104871e+001; krok(n+1)=5.883374e-002; ng(n+1)=4.925553e+002;
n=13; farx(n+1)=1.454238e+001; foe(n+1)=3.658959e+001; krok(n+1)=9.089589e-002; ng(n+1)=2.349667e+002;
n=14; farx(n+1)=8.580065e+000; foe(n+1)=2.648380e+001; krok(n+1)=1.722157e-001; ng(n+1)=2.803063e+002;
n=15; farx(n+1)=4.436647e+000; foe(n+1)=1.855420e+001; krok(n+1)=1.931257e-001; ng(n+1)=5.608978e+002;
n=16; farx(n+1)=3.896556e+000; foe(n+1)=1.659568e+001; krok(n+1)=1.732520e-001; ng(n+1)=3.362926e+002;
n=17; farx(n+1)=2.770692e+000; foe(n+1)=1.389947e+001; krok(n+1)=4.306047e-001; ng(n+1)=2.233168e+002;
n=18; farx(n+1)=1.991519e+000; foe(n+1)=9.827942e+000; krok(n+1)=3.200292e-001; ng(n+1)=1.546197e+002;
n=19; farx(n+1)=1.673026e+000; foe(n+1)=8.708881e+000; krok(n+1)=1.269153e-001; ng(n+1)=2.080041e+002;
n=20; farx(n+1)=1.661490e+000; foe(n+1)=8.626043e+000; krok(n+1)=2.381694e-001; ng(n+1)=4.643899e+001;
n=21; farx(n+1)=1.384890e+000; foe(n+1)=8.378862e+000; krok(n+1)=2.645939e+000; ng(n+1)=3.479799e+001;
n=22; farx(n+1)=1.128569e+000; foe(n+1)=7.650194e+000; krok(n+1)=2.760063e+000; ng(n+1)=4.464342e+001;
n=23; farx(n+1)=1.099546e+000; foe(n+1)=7.466635e+000; krok(n+1)=5.534700e-001; ng(n+1)=5.252118e+001;
n=24; farx(n+1)=1.162628e+000; foe(n+1)=7.256537e+000; krok(n+1)=4.015963e-001; ng(n+1)=1.301525e+002;
n=25; farx(n+1)=1.199115e+000; foe(n+1)=6.952734e+000; krok(n+1)=1.289896e+000; ng(n+1)=4.692879e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.198751e+000; foe(n+1)=6.928767e+000; krok(n+1)=1.881044e-005; ng(n+1)=1.044114e+002;
n=27; farx(n+1)=1.184054e+000; foe(n+1)=6.870716e+000; krok(n+1)=2.002680e-004; ng(n+1)=4.549256e+001;
n=28; farx(n+1)=1.132717e+000; foe(n+1)=6.741879e+000; krok(n+1)=1.130654e-003; ng(n+1)=3.024360e+001;
n=29; farx(n+1)=1.160026e+000; foe(n+1)=6.045697e+000; krok(n+1)=1.181843e-003; ng(n+1)=6.261734e+001;
n=30; farx(n+1)=1.208085e+000; foe(n+1)=5.812566e+000; krok(n+1)=8.029022e-003; ng(n+1)=2.082230e+002;
n=31; farx(n+1)=1.202696e+000; foe(n+1)=5.742805e+000; krok(n+1)=1.082825e-002; ng(n+1)=7.192474e+001;
n=32; farx(n+1)=1.350469e+000; foe(n+1)=5.437998e+000; krok(n+1)=1.400181e-001; ng(n+1)=1.908791e+002;
n=33; farx(n+1)=1.311211e+000; foe(n+1)=5.383601e+000; krok(n+1)=8.268560e-002; ng(n+1)=2.901003e+001;
n=34; farx(n+1)=1.192240e+000; foe(n+1)=5.046323e+000; krok(n+1)=3.556863e-001; ng(n+1)=1.418084e+002;
n=35; farx(n+1)=1.038248e+000; foe(n+1)=4.879221e+000; krok(n+1)=4.726961e-001; ng(n+1)=3.912777e+001;
n=36; farx(n+1)=9.472785e-001; foe(n+1)=4.648967e+000; krok(n+1)=3.435737e-001; ng(n+1)=1.167581e+002;
n=37; farx(n+1)=9.427505e-001; foe(n+1)=4.349724e+000; krok(n+1)=7.679697e-001; ng(n+1)=1.407897e+002;
n=38; farx(n+1)=8.564365e-001; foe(n+1)=4.196837e+000; krok(n+1)=4.102061e-001; ng(n+1)=4.775798e+001;
n=39; farx(n+1)=7.113777e-001; foe(n+1)=4.028692e+000; krok(n+1)=9.169512e-001; ng(n+1)=1.472005e+002;
n=40; farx(n+1)=6.439018e-001; foe(n+1)=3.958153e+000; krok(n+1)=3.550835e-001; ng(n+1)=3.118678e+001;
n=41; farx(n+1)=6.031056e-001; foe(n+1)=3.818335e+000; krok(n+1)=7.571530e-001; ng(n+1)=3.693338e+001;
n=42; farx(n+1)=5.351225e-001; foe(n+1)=3.585898e+000; krok(n+1)=5.203615e-001; ng(n+1)=7.605565e+001;
n=43; farx(n+1)=5.041930e-001; foe(n+1)=3.448338e+000; krok(n+1)=2.063035e-001; ng(n+1)=7.214709e+001;
n=44; farx(n+1)=4.879071e-001; foe(n+1)=3.326863e+000; krok(n+1)=8.892157e-002; ng(n+1)=2.100374e+002;
n=45; farx(n+1)=4.621390e-001; foe(n+1)=3.262152e+000; krok(n+1)=2.944474e-001; ng(n+1)=6.870830e+001;
n=46; farx(n+1)=4.488620e-001; foe(n+1)=3.221009e+000; krok(n+1)=4.485036e-001; ng(n+1)=7.817802e+001;
n=47; farx(n+1)=4.244247e-001; foe(n+1)=3.163821e+000; krok(n+1)=3.550835e-001; ng(n+1)=5.983039e+001;
n=48; farx(n+1)=4.125176e-001; foe(n+1)=3.109417e+000; krok(n+1)=6.666685e-001; ng(n+1)=3.248656e+001;
n=49; farx(n+1)=3.973114e-001; foe(n+1)=3.054270e+000; krok(n+1)=1.981558e-001; ng(n+1)=1.250786e+002;
n=50; farx(n+1)=4.003848e-001; foe(n+1)=3.019885e+000; krok(n+1)=6.620810e-001; ng(n+1)=6.202203e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
