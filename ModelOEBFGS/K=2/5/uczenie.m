%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.863398e+002; foe(n+1)=2.926147e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.791736e+002; foe(n+1)=1.830288e+002; krok(n+1)=4.957630e-004; ng(n+1)=6.143562e+002;
n=2; farx(n+1)=1.779256e+002; foe(n+1)=1.749129e+002; krok(n+1)=3.692938e-003; ng(n+1)=8.884409e+001;
n=3; farx(n+1)=7.248118e+001; foe(n+1)=6.641388e+001; krok(n+1)=1.496365e-002; ng(n+1)=1.098357e+002;
n=4; farx(n+1)=7.064511e+001; foe(n+1)=6.456911e+001; krok(n+1)=3.403614e-004; ng(n+1)=1.848808e+002;
n=5; farx(n+1)=8.090730e+001; foe(n+1)=6.392018e+001; krok(n+1)=1.007731e-002; ng(n+1)=1.884145e+002;
n=6; farx(n+1)=8.057191e+001; foe(n+1)=6.094097e+001; krok(n+1)=1.150658e-001; ng(n+1)=7.965447e+001;
n=7; farx(n+1)=6.716481e+001; foe(n+1)=5.880603e+001; krok(n+1)=1.039939e-001; ng(n+1)=9.695890e+001;
n=8; farx(n+1)=4.825362e+001; foe(n+1)=5.611543e+001; krok(n+1)=5.234463e-002; ng(n+1)=1.103159e+002;
n=9; farx(n+1)=2.532316e+001; foe(n+1)=5.142523e+001; krok(n+1)=1.464382e-002; ng(n+1)=1.253604e+002;
n=10; farx(n+1)=4.427143e+000; foe(n+1)=2.638542e+001; krok(n+1)=9.213222e-003; ng(n+1)=4.842769e+002;
n=11; farx(n+1)=4.211162e+000; foe(n+1)=2.445654e+001; krok(n+1)=1.353531e-003; ng(n+1)=6.356456e+002;
n=12; farx(n+1)=3.500456e+000; foe(n+1)=2.123214e+001; krok(n+1)=9.363811e-002; ng(n+1)=6.858136e+002;
n=13; farx(n+1)=2.643499e+000; foe(n+1)=1.681400e+001; krok(n+1)=1.278106e-002; ng(n+1)=1.343116e+003;
n=14; farx(n+1)=1.657505e+000; foe(n+1)=1.119669e+001; krok(n+1)=2.394184e-001; ng(n+1)=9.754393e+002;
n=15; farx(n+1)=1.181850e+000; foe(n+1)=8.987281e+000; krok(n+1)=1.865458e-001; ng(n+1)=2.780133e+002;
n=16; farx(n+1)=7.848927e-001; foe(n+1)=7.440981e+000; krok(n+1)=3.745525e-001; ng(n+1)=2.008005e+002;
n=17; farx(n+1)=8.373169e-001; foe(n+1)=6.044190e+000; krok(n+1)=1.321671e+000; ng(n+1)=2.218504e+002;
n=18; farx(n+1)=9.684605e-001; foe(n+1)=4.827262e+000; krok(n+1)=2.476508e-001; ng(n+1)=2.960419e+002;
n=19; farx(n+1)=1.027912e+000; foe(n+1)=4.333256e+000; krok(n+1)=7.571530e-001; ng(n+1)=2.607453e+002;
n=20; farx(n+1)=9.920653e-001; foe(n+1)=3.972976e+000; krok(n+1)=4.635137e-001; ng(n+1)=1.265272e+002;
n=21; farx(n+1)=9.251202e-001; foe(n+1)=3.523869e+000; krok(n+1)=1.187855e+000; ng(n+1)=4.083828e+001;
n=22; farx(n+1)=9.625167e-001; foe(n+1)=3.385288e+000; krok(n+1)=5.736932e-001; ng(n+1)=1.667680e+002;
n=23; farx(n+1)=9.436009e-001; foe(n+1)=3.266198e+000; krok(n+1)=1.033731e+000; ng(n+1)=5.359135e+001;
n=24; farx(n+1)=9.140859e-001; foe(n+1)=3.188236e+000; krok(n+1)=1.355274e+000; ng(n+1)=3.231810e+001;
n=25; farx(n+1)=8.790465e-001; foe(n+1)=3.061485e+000; krok(n+1)=1.784434e+000; ng(n+1)=3.309453e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.773746e-001; foe(n+1)=3.052136e+000; krok(n+1)=1.054828e-005; ng(n+1)=6.650006e+001;
n=27; farx(n+1)=8.797360e-001; foe(n+1)=3.047199e+000; krok(n+1)=2.215284e-004; ng(n+1)=1.099613e+001;
n=28; farx(n+1)=8.771781e-001; foe(n+1)=3.042551e+000; krok(n+1)=1.606327e-003; ng(n+1)=5.386485e+000;
n=29; farx(n+1)=8.003551e-001; foe(n+1)=2.981997e+000; krok(n+1)=2.607206e-003; ng(n+1)=1.183815e+001;
n=30; farx(n+1)=7.629886e-001; foe(n+1)=2.936558e+000; krok(n+1)=8.662598e-002; ng(n+1)=1.664657e+001;
n=31; farx(n+1)=7.604037e-001; foe(n+1)=2.922115e+000; krok(n+1)=1.111520e-002; ng(n+1)=7.822452e+001;
n=32; farx(n+1)=7.789667e-001; foe(n+1)=2.857417e+000; krok(n+1)=1.025515e-001; ng(n+1)=8.368308e+001;
n=33; farx(n+1)=8.245730e-001; foe(n+1)=2.754401e+000; krok(n+1)=1.096649e-001; ng(n+1)=6.932750e+001;
n=34; farx(n+1)=9.005990e-001; foe(n+1)=2.705264e+000; krok(n+1)=1.738735e-001; ng(n+1)=9.731749e+001;
n=35; farx(n+1)=8.739096e-001; foe(n+1)=2.649802e+000; krok(n+1)=8.551938e-001; ng(n+1)=3.556544e+001;
n=36; farx(n+1)=8.619863e-001; foe(n+1)=2.630489e+000; krok(n+1)=2.656312e-001; ng(n+1)=2.777304e+001;
n=37; farx(n+1)=7.797582e-001; foe(n+1)=2.586876e+000; krok(n+1)=2.608981e+000; ng(n+1)=3.861819e+001;
n=38; farx(n+1)=7.569404e-001; foe(n+1)=2.574880e+000; krok(n+1)=2.465387e-001; ng(n+1)=5.263634e+001;
n=39; farx(n+1)=7.331593e-001; foe(n+1)=2.557834e+000; krok(n+1)=4.992693e-001; ng(n+1)=1.427712e+001;
n=40; farx(n+1)=7.242183e-001; foe(n+1)=2.546195e+000; krok(n+1)=6.665509e-001; ng(n+1)=7.882546e+000;
n=41; farx(n+1)=6.957181e-001; foe(n+1)=2.541034e+000; krok(n+1)=1.341860e+000; ng(n+1)=1.244103e+001;
n=42; farx(n+1)=6.733328e-001; foe(n+1)=2.538846e+000; krok(n+1)=1.049915e+000; ng(n+1)=1.667431e+001;
n=43; farx(n+1)=6.772515e-001; foe(n+1)=2.535009e+000; krok(n+1)=3.024326e+000; ng(n+1)=1.238126e+001;
n=44; farx(n+1)=6.619245e-001; foe(n+1)=2.531445e+000; krok(n+1)=8.127796e-001; ng(n+1)=5.052355e+000;
n=45; farx(n+1)=6.653563e-001; foe(n+1)=2.529093e+000; krok(n+1)=6.788102e-001; ng(n+1)=7.283349e+000;
n=46; farx(n+1)=6.625347e-001; foe(n+1)=2.528821e+000; krok(n+1)=6.970601e-001; ng(n+1)=2.468329e+000;
n=47; farx(n+1)=6.498857e-001; foe(n+1)=2.528194e+000; krok(n+1)=2.225298e+000; ng(n+1)=8.248877e+000;
n=48; farx(n+1)=6.422482e-001; foe(n+1)=2.527195e+000; krok(n+1)=2.042882e+000; ng(n+1)=1.318310e+001;
n=49; farx(n+1)=6.392165e-001; foe(n+1)=2.523366e+000; krok(n+1)=2.742220e+000; ng(n+1)=5.610553e+000;
n=50; farx(n+1)=6.426669e-001; foe(n+1)=2.520973e+000; krok(n+1)=5.138574e-001; ng(n+1)=2.237545e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
