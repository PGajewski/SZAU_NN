%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.756751e+002; foe(n+1)=1.819473e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.615345e+002; foe(n+1)=1.689842e+002; krok(n+1)=5.885427e-004; ng(n+1)=4.128211e+002;
n=2; farx(n+1)=5.972992e+001; foe(n+1)=6.995160e+001; krok(n+1)=7.504897e-003; ng(n+1)=3.054493e+002;
n=3; farx(n+1)=5.385071e+001; foe(n+1)=6.206028e+001; krok(n+1)=1.250114e-003; ng(n+1)=4.071466e+002;
n=4; farx(n+1)=5.331387e+001; foe(n+1)=6.067336e+001; krok(n+1)=2.161992e-003; ng(n+1)=2.010348e+002;
n=5; farx(n+1)=1.943141e+001; foe(n+1)=5.114946e+001; krok(n+1)=4.818488e-002; ng(n+1)=5.826389e+001;
n=6; farx(n+1)=8.752628e+000; foe(n+1)=4.662459e+001; krok(n+1)=2.659087e-003; ng(n+1)=7.918803e+002;
n=7; farx(n+1)=5.685325e+000; foe(n+1)=4.491706e+001; krok(n+1)=1.518185e-003; ng(n+1)=1.900196e+003;
n=8; farx(n+1)=4.307611e+000; foe(n+1)=4.331412e+001; krok(n+1)=3.643336e-004; ng(n+1)=3.123392e+003;
n=9; farx(n+1)=3.763267e+000; foe(n+1)=4.162439e+001; krok(n+1)=3.259300e-003; ng(n+1)=4.442861e+003;
n=10; farx(n+1)=3.640947e+000; foe(n+1)=4.137993e+001; krok(n+1)=1.157695e-004; ng(n+1)=5.174806e+003;
n=11; farx(n+1)=3.716161e+000; foe(n+1)=4.100833e+001; krok(n+1)=3.835857e-003; ng(n+1)=5.088041e+003;
n=12; farx(n+1)=5.534811e+000; foe(n+1)=3.414869e+001; krok(n+1)=1.450364e-002; ng(n+1)=4.938038e+003;
n=13; farx(n+1)=6.276047e+000; foe(n+1)=3.240590e+001; krok(n+1)=2.550371e-004; ng(n+1)=1.987903e+003;
n=14; farx(n+1)=6.542627e+000; foe(n+1)=3.175811e+001; krok(n+1)=3.831728e-004; ng(n+1)=1.484773e+003;
n=15; farx(n+1)=8.586344e+000; foe(n+1)=2.597449e+001; krok(n+1)=1.970594e-002; ng(n+1)=1.303934e+003;
n=16; farx(n+1)=8.525748e+000; foe(n+1)=2.535904e+001; krok(n+1)=5.485375e-003; ng(n+1)=5.695199e+002;
n=17; farx(n+1)=7.910588e+000; foe(n+1)=2.067453e+001; krok(n+1)=3.715822e-002; ng(n+1)=4.906564e+002;
n=18; farx(n+1)=7.307201e+000; foe(n+1)=1.962375e+001; krok(n+1)=2.720095e-002; ng(n+1)=3.495900e+002;
n=19; farx(n+1)=6.298471e+000; foe(n+1)=1.803428e+001; krok(n+1)=1.378623e-002; ng(n+1)=3.403881e+002;
n=20; farx(n+1)=5.266199e+000; foe(n+1)=1.703705e+001; krok(n+1)=1.775074e-002; ng(n+1)=2.664537e+002;
n=21; farx(n+1)=3.250373e+000; foe(n+1)=1.386728e+001; krok(n+1)=5.244574e-002; ng(n+1)=4.802017e+002;
n=22; farx(n+1)=2.454599e+000; foe(n+1)=1.287413e+001; krok(n+1)=1.253365e-001; ng(n+1)=1.768733e+002;
n=23; farx(n+1)=2.122305e+000; foe(n+1)=1.246019e+001; krok(n+1)=9.240905e-003; ng(n+1)=5.392546e+002;
n=24; farx(n+1)=2.024378e+000; foe(n+1)=1.006875e+001; krok(n+1)=8.209742e-001; ng(n+1)=4.829637e+002;
n=25; farx(n+1)=1.774525e+000; foe(n+1)=9.381885e+000; krok(n+1)=2.103304e-001; ng(n+1)=1.782590e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.731670e+000; foe(n+1)=9.276896e+000; krok(n+1)=3.823382e-005; ng(n+1)=2.016426e+002;
n=27; farx(n+1)=1.674703e+000; foe(n+1)=9.069979e+000; krok(n+1)=8.923578e-005; ng(n+1)=1.698102e+002;
n=28; farx(n+1)=1.604874e+000; foe(n+1)=8.916932e+000; krok(n+1)=1.187393e-004; ng(n+1)=1.466576e+002;
n=29; farx(n+1)=1.146317e+000; foe(n+1)=7.383998e+000; krok(n+1)=8.988693e-003; ng(n+1)=5.323594e+001;
n=30; farx(n+1)=1.020626e+000; foe(n+1)=6.066790e+000; krok(n+1)=6.414404e-003; ng(n+1)=4.140941e+002;
n=31; farx(n+1)=9.600946e-001; foe(n+1)=5.119264e+000; krok(n+1)=4.884963e-003; ng(n+1)=3.152975e+002;
n=32; farx(n+1)=9.130021e-001; foe(n+1)=4.565852e+000; krok(n+1)=8.839546e-003; ng(n+1)=4.182320e+002;
n=33; farx(n+1)=9.145254e-001; foe(n+1)=4.036934e+000; krok(n+1)=8.928204e-003; ng(n+1)=3.313401e+002;
n=34; farx(n+1)=9.278853e-001; foe(n+1)=3.935866e+000; krok(n+1)=1.971058e-003; ng(n+1)=2.642459e+002;
n=35; farx(n+1)=8.259535e-001; foe(n+1)=3.538697e+000; krok(n+1)=4.681906e-002; ng(n+1)=2.411626e+002;
n=36; farx(n+1)=7.817909e-001; foe(n+1)=3.079150e+000; krok(n+1)=1.158426e-002; ng(n+1)=4.196649e+002;
n=37; farx(n+1)=6.717168e-001; foe(n+1)=2.675296e+000; krok(n+1)=1.033570e-002; ng(n+1)=3.357988e+002;
n=38; farx(n+1)=6.230796e-001; foe(n+1)=2.273330e+000; krok(n+1)=1.238677e-002; ng(n+1)=2.911794e+002;
n=39; farx(n+1)=6.161505e-001; foe(n+1)=2.155671e+000; krok(n+1)=7.366454e-003; ng(n+1)=2.365949e+002;
n=40; farx(n+1)=5.924220e-001; foe(n+1)=1.949510e+000; krok(n+1)=1.199493e-002; ng(n+1)=1.991906e+002;
n=41; farx(n+1)=5.530678e-001; foe(n+1)=1.806569e+000; krok(n+1)=2.800363e-002; ng(n+1)=8.525008e+001;
n=42; farx(n+1)=5.574403e-001; foe(n+1)=1.635139e+000; krok(n+1)=1.190847e-001; ng(n+1)=2.525516e+002;
n=43; farx(n+1)=5.643529e-001; foe(n+1)=1.508903e+000; krok(n+1)=9.326940e-002; ng(n+1)=6.774367e+001;
n=44; farx(n+1)=5.460734e-001; foe(n+1)=1.401128e+000; krok(n+1)=1.365319e-001; ng(n+1)=2.083573e+002;
n=45; farx(n+1)=5.268931e-001; foe(n+1)=1.347188e+000; krok(n+1)=2.730638e-001; ng(n+1)=1.004177e+002;
n=46; farx(n+1)=4.860936e-001; foe(n+1)=1.247771e+000; krok(n+1)=1.933624e-001; ng(n+1)=2.773514e+001;
n=47; farx(n+1)=4.609156e-001; foe(n+1)=1.205245e+000; krok(n+1)=2.373843e-001; ng(n+1)=8.220176e+001;
n=48; farx(n+1)=4.514788e-001; foe(n+1)=1.119577e+000; krok(n+1)=4.164005e-001; ng(n+1)=1.118656e+002;
n=49; farx(n+1)=4.479117e-001; foe(n+1)=1.087396e+000; krok(n+1)=1.627922e-001; ng(n+1)=1.492702e+002;
n=50; farx(n+1)=4.104734e-001; foe(n+1)=9.983899e-001; krok(n+1)=6.058278e-001; ng(n+1)=5.824437e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
