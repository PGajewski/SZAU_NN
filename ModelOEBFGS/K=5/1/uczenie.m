%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.994950e+002; foe(n+1)=1.988552e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.833885e+002; foe(n+1)=1.838506e+002; krok(n+1)=6.586506e-004; ng(n+1)=4.683611e+002;
n=2; farx(n+1)=1.498578e+002; foe(n+1)=1.548471e+002; krok(n+1)=4.375565e-003; ng(n+1)=2.984738e+002;
n=3; farx(n+1)=5.402960e+001; foe(n+1)=6.074819e+001; krok(n+1)=3.146871e-003; ng(n+1)=4.087581e+002;
n=4; farx(n+1)=4.361219e+001; foe(n+1)=5.907866e+001; krok(n+1)=9.317009e-003; ng(n+1)=4.940562e+001;
n=5; farx(n+1)=3.978196e+001; foe(n+1)=5.826076e+001; krok(n+1)=1.150185e-003; ng(n+1)=2.008442e+002;
n=6; farx(n+1)=2.575158e+001; foe(n+1)=4.498286e+001; krok(n+1)=1.589287e-002; ng(n+1)=2.217585e+002;
n=7; farx(n+1)=2.503260e+001; foe(n+1)=4.372981e+001; krok(n+1)=4.792105e-003; ng(n+1)=2.347617e+002;
n=8; farx(n+1)=2.260647e+001; foe(n+1)=3.830108e+001; krok(n+1)=8.076021e-003; ng(n+1)=3.276655e+002;
n=9; farx(n+1)=2.084557e+001; foe(n+1)=3.702098e+001; krok(n+1)=3.334617e-003; ng(n+1)=3.222770e+002;
n=10; farx(n+1)=1.569463e+001; foe(n+1)=3.093480e+001; krok(n+1)=5.455281e-002; ng(n+1)=4.062742e+002;
n=11; farx(n+1)=1.369688e+001; foe(n+1)=2.946335e+001; krok(n+1)=3.460293e-003; ng(n+1)=2.243044e+002;
n=12; farx(n+1)=1.229846e+001; foe(n+1)=2.704238e+001; krok(n+1)=3.868579e-003; ng(n+1)=4.793842e+002;
n=13; farx(n+1)=1.186363e+001; foe(n+1)=2.593104e+001; krok(n+1)=1.775074e-002; ng(n+1)=2.300172e+002;
n=14; farx(n+1)=8.852639e+000; foe(n+1)=2.304367e+001; krok(n+1)=6.601690e-002; ng(n+1)=6.280716e+001;
n=15; farx(n+1)=8.205406e+000; foe(n+1)=2.222034e+001; krok(n+1)=2.502130e-002; ng(n+1)=2.917971e+002;
n=16; farx(n+1)=7.712130e+000; foe(n+1)=2.190277e+001; krok(n+1)=1.305754e-002; ng(n+1)=2.772547e+002;
n=17; farx(n+1)=7.362533e+000; foe(n+1)=2.148055e+001; krok(n+1)=4.464102e-003; ng(n+1)=2.787015e+002;
n=18; farx(n+1)=7.063656e+000; foe(n+1)=2.124584e+001; krok(n+1)=3.151553e-003; ng(n+1)=4.320152e+002;
n=19; farx(n+1)=6.194915e+000; foe(n+1)=2.052776e+001; krok(n+1)=8.205256e-002; ng(n+1)=4.250604e+002;
n=20; farx(n+1)=3.914749e+000; foe(n+1)=1.583453e+001; krok(n+1)=2.578794e-002; ng(n+1)=5.530838e+002;
n=21; farx(n+1)=3.173167e+000; foe(n+1)=1.372251e+001; krok(n+1)=6.101054e-002; ng(n+1)=5.158538e+002;
n=22; farx(n+1)=3.066764e+000; foe(n+1)=1.352100e+001; krok(n+1)=5.242823e-003; ng(n+1)=3.620498e+002;
n=23; farx(n+1)=3.136521e+000; foe(n+1)=1.273602e+001; krok(n+1)=3.920662e-002; ng(n+1)=4.664079e+002;
n=24; farx(n+1)=2.824082e+000; foe(n+1)=1.236906e+001; krok(n+1)=6.524238e-002; ng(n+1)=2.470876e+002;
n=25; farx(n+1)=2.403837e+000; foe(n+1)=1.157063e+001; krok(n+1)=1.329492e-001; ng(n+1)=2.819072e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.376581e+000; foe(n+1)=1.148073e+001; krok(n+1)=1.567018e-005; ng(n+1)=1.978318e+002;
n=27; farx(n+1)=2.138466e+000; foe(n+1)=1.108001e+001; krok(n+1)=5.440190e-004; ng(n+1)=9.031409e+001;
n=28; farx(n+1)=2.000612e+000; foe(n+1)=1.026011e+001; krok(n+1)=1.043660e-003; ng(n+1)=1.041221e+002;
n=29; farx(n+1)=2.020227e+000; foe(n+1)=9.750054e+000; krok(n+1)=9.985203e-005; ng(n+1)=2.604264e+002;
n=30; farx(n+1)=1.799747e+000; foe(n+1)=8.982979e+000; krok(n+1)=6.699412e-003; ng(n+1)=6.652961e+001;
n=31; farx(n+1)=1.589900e+000; foe(n+1)=8.316035e+000; krok(n+1)=7.088910e-003; ng(n+1)=3.764170e+002;
n=32; farx(n+1)=1.465075e+000; foe(n+1)=8.076258e+000; krok(n+1)=1.129495e-002; ng(n+1)=1.173114e+002;
n=33; farx(n+1)=1.342854e+000; foe(n+1)=7.570785e+000; krok(n+1)=1.226153e-002; ng(n+1)=1.054258e+002;
n=34; farx(n+1)=1.281156e+000; foe(n+1)=7.240684e+000; krok(n+1)=5.160128e-002; ng(n+1)=1.565163e+002;
n=35; farx(n+1)=1.239905e+000; foe(n+1)=6.826483e+000; krok(n+1)=1.304868e-003; ng(n+1)=4.565759e+002;
n=36; farx(n+1)=1.194098e+000; foe(n+1)=6.591213e+000; krok(n+1)=1.203191e-003; ng(n+1)=3.485607e+002;
n=37; farx(n+1)=1.101772e+000; foe(n+1)=6.186504e+000; krok(n+1)=7.772060e-003; ng(n+1)=3.408411e+002;
n=38; farx(n+1)=1.022657e+000; foe(n+1)=5.772184e+000; krok(n+1)=1.053841e-002; ng(n+1)=4.774479e+002;
n=39; farx(n+1)=1.020254e+000; foe(n+1)=5.549833e+000; krok(n+1)=1.565005e-002; ng(n+1)=4.997441e+002;
n=40; farx(n+1)=9.915876e-001; foe(n+1)=5.315051e+000; krok(n+1)=2.502130e-002; ng(n+1)=3.299460e+002;
n=41; farx(n+1)=9.944449e-001; foe(n+1)=4.964869e+000; krok(n+1)=1.647425e-002; ng(n+1)=6.299159e+002;
n=42; farx(n+1)=1.028959e+000; foe(n+1)=4.621697e+000; krok(n+1)=3.730542e-002; ng(n+1)=8.497930e+002;
n=43; farx(n+1)=1.098311e+000; foe(n+1)=4.276488e+000; krok(n+1)=6.699412e-003; ng(n+1)=8.558766e+002;
n=44; farx(n+1)=1.054603e+000; foe(n+1)=3.961655e+000; krok(n+1)=6.733630e-002; ng(n+1)=6.098933e+002;
n=45; farx(n+1)=9.249485e-001; foe(n+1)=3.259493e+000; krok(n+1)=1.027628e-001; ng(n+1)=2.991510e+002;
n=46; farx(n+1)=8.850081e-001; foe(n+1)=2.904559e+000; krok(n+1)=8.643496e-002; ng(n+1)=3.132962e+002;
n=47; farx(n+1)=7.382246e-001; foe(n+1)=2.513217e+000; krok(n+1)=2.821404e-001; ng(n+1)=1.760563e+002;
n=48; farx(n+1)=6.779302e-001; foe(n+1)=2.234762e+000; krok(n+1)=7.682071e-002; ng(n+1)=3.105281e+002;
n=49; farx(n+1)=6.856497e-001; foe(n+1)=2.020604e+000; krok(n+1)=1.567018e-001; ng(n+1)=1.888982e+002;
n=50; farx(n+1)=6.524908e-001; foe(n+1)=1.930266e+000; krok(n+1)=3.119600e-001; ng(n+1)=1.116539e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
