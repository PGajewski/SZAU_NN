%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.857395e+002; foe(n+1)=1.874554e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.673105e+002; foe(n+1)=1.699263e+002; krok(n+1)=5.897838e-004; ng(n+1)=5.071267e+002;
n=2; farx(n+1)=5.913979e+001; foe(n+1)=6.322953e+001; krok(n+1)=8.625805e-003; ng(n+1)=3.044840e+002;
n=3; farx(n+1)=5.670944e+001; foe(n+1)=6.025334e+001; krok(n+1)=1.116161e-003; ng(n+1)=2.177292e+002;
n=4; farx(n+1)=2.010763e+001; foe(n+1)=4.837414e+001; krok(n+1)=4.797973e-002; ng(n+1)=5.700251e+001;
n=5; farx(n+1)=1.252820e+001; foe(n+1)=4.512155e+001; krok(n+1)=2.308086e-004; ng(n+1)=6.621700e+002;
n=6; farx(n+1)=7.295315e+000; foe(n+1)=4.014604e+001; krok(n+1)=1.053676e-002; ng(n+1)=1.217251e+003;
n=7; farx(n+1)=6.684790e+000; foe(n+1)=3.948893e+001; krok(n+1)=3.751011e-005; ng(n+1)=3.060825e+003;
n=8; farx(n+1)=6.730031e+000; foe(n+1)=3.906203e+001; krok(n+1)=3.751501e-003; ng(n+1)=3.739278e+003;
n=9; farx(n+1)=1.000667e+001; foe(n+1)=2.985062e+001; krok(n+1)=1.071180e-002; ng(n+1)=3.746688e+003;
n=10; farx(n+1)=1.064608e+001; foe(n+1)=2.683398e+001; krok(n+1)=1.189159e-003; ng(n+1)=1.402195e+003;
n=11; farx(n+1)=1.109506e+001; foe(n+1)=2.596308e+001; krok(n+1)=7.248866e-004; ng(n+1)=8.954536e+002;
n=12; farx(n+1)=1.182657e+001; foe(n+1)=2.345278e+001; krok(n+1)=1.506159e-002; ng(n+1)=5.474305e+002;
n=13; farx(n+1)=1.111650e+001; foe(n+1)=2.260804e+001; krok(n+1)=5.457942e-003; ng(n+1)=2.197891e+002;
n=14; farx(n+1)=9.335186e+000; foe(n+1)=2.116555e+001; krok(n+1)=4.799811e-002; ng(n+1)=3.341509e+002;
n=15; farx(n+1)=7.898896e+000; foe(n+1)=1.990448e+001; krok(n+1)=4.678366e-003; ng(n+1)=5.937277e+002;
n=16; farx(n+1)=6.909098e+000; foe(n+1)=1.914497e+001; krok(n+1)=3.478135e-003; ng(n+1)=5.751487e+002;
n=17; farx(n+1)=4.243212e+000; foe(n+1)=1.513040e+001; krok(n+1)=2.243330e-002; ng(n+1)=5.428599e+002;
n=18; farx(n+1)=3.944042e+000; foe(n+1)=1.476976e+001; krok(n+1)=1.108189e-003; ng(n+1)=7.591731e+002;
n=19; farx(n+1)=2.982395e+000; foe(n+1)=1.216458e+001; krok(n+1)=3.230408e-002; ng(n+1)=1.000259e+003;
n=20; farx(n+1)=2.818948e+000; foe(n+1)=1.141582e+001; krok(n+1)=3.751501e-003; ng(n+1)=3.589718e+002;
n=21; farx(n+1)=2.490600e+000; foe(n+1)=1.064877e+001; krok(n+1)=2.972664e-002; ng(n+1)=4.184773e+002;
n=22; farx(n+1)=2.186735e+000; foe(n+1)=8.789988e+000; krok(n+1)=7.709486e-002; ng(n+1)=3.182602e+002;
n=23; farx(n+1)=1.361554e+000; foe(n+1)=6.524055e+000; krok(n+1)=1.619492e-001; ng(n+1)=4.418113e+002;
n=24; farx(n+1)=9.639891e-001; foe(n+1)=5.581893e+000; krok(n+1)=3.497807e-002; ng(n+1)=2.834193e+002;
n=25; farx(n+1)=7.624032e-001; foe(n+1)=4.570843e+000; krok(n+1)=1.728699e-001; ng(n+1)=1.348093e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.329982e-001; foe(n+1)=4.151181e+000; krok(n+1)=6.859775e-006; ng(n+1)=6.997104e+002;
n=27; farx(n+1)=7.262615e-001; foe(n+1)=4.097239e+000; krok(n+1)=4.334515e-005; ng(n+1)=1.363959e+002;
n=28; farx(n+1)=6.823567e-001; foe(n+1)=3.812115e+000; krok(n+1)=1.215721e-003; ng(n+1)=4.877283e+001;
n=29; farx(n+1)=7.104991e-001; foe(n+1)=3.291941e+000; krok(n+1)=4.302964e-004; ng(n+1)=1.661263e+002;
n=30; farx(n+1)=7.381799e-001; foe(n+1)=2.940737e+000; krok(n+1)=1.376894e-002; ng(n+1)=3.329948e+001;
n=31; farx(n+1)=7.108216e-001; foe(n+1)=2.759088e+000; krok(n+1)=1.333847e-002; ng(n+1)=9.112699e+001;
n=32; farx(n+1)=6.718134e-001; foe(n+1)=2.471656e+000; krok(n+1)=5.915528e-003; ng(n+1)=3.268785e+002;
n=33; farx(n+1)=6.592734e-001; foe(n+1)=2.247073e+000; krok(n+1)=1.763378e-002; ng(n+1)=1.469799e+002;
n=34; farx(n+1)=6.760623e-001; foe(n+1)=2.106423e+000; krok(n+1)=2.107682e-002; ng(n+1)=1.630108e+002;
n=35; farx(n+1)=6.659009e-001; foe(n+1)=2.065094e+000; krok(n+1)=6.893113e-003; ng(n+1)=1.462616e+002;
n=36; farx(n+1)=5.670274e-001; foe(n+1)=1.724731e+000; krok(n+1)=2.876670e-002; ng(n+1)=2.788286e+002;
n=37; farx(n+1)=5.472499e-001; foe(n+1)=1.629554e+000; krok(n+1)=1.505454e-002; ng(n+1)=1.070048e+002;
n=38; farx(n+1)=5.137238e-001; foe(n+1)=1.526505e+000; krok(n+1)=1.789637e-002; ng(n+1)=2.551085e+002;
n=39; farx(n+1)=5.024634e-001; foe(n+1)=1.460232e+000; krok(n+1)=6.525058e-003; ng(n+1)=2.743648e+002;
n=40; farx(n+1)=4.638310e-001; foe(n+1)=1.370911e+000; krok(n+1)=3.469665e-002; ng(n+1)=9.342693e+001;
n=41; farx(n+1)=4.638286e-001; foe(n+1)=1.328062e+000; krok(n+1)=4.028924e-002; ng(n+1)=8.231758e+001;
n=42; farx(n+1)=4.803155e-001; foe(n+1)=1.294743e+000; krok(n+1)=1.625772e-002; ng(n+1)=1.015681e+002;
n=43; farx(n+1)=4.892593e-001; foe(n+1)=1.231589e+000; krok(n+1)=1.538927e-001; ng(n+1)=3.838247e+001;
n=44; farx(n+1)=4.860843e-001; foe(n+1)=1.145257e+000; krok(n+1)=4.353621e-001; ng(n+1)=1.210442e+002;
n=45; farx(n+1)=4.818530e-001; foe(n+1)=1.062544e+000; krok(n+1)=1.420169e-001; ng(n+1)=9.473287e+001;
n=46; farx(n+1)=4.492443e-001; foe(n+1)=9.993649e-001; krok(n+1)=2.250273e-001; ng(n+1)=8.673627e+001;
n=47; farx(n+1)=4.622924e-001; foe(n+1)=9.521854e-001; krok(n+1)=3.337297e-001; ng(n+1)=8.639798e+001;
n=48; farx(n+1)=4.621788e-001; foe(n+1)=9.152052e-001; krok(n+1)=2.114442e-001; ng(n+1)=8.688922e+001;
n=49; farx(n+1)=4.717211e-001; foe(n+1)=8.801040e-001; krok(n+1)=1.337651e-001; ng(n+1)=9.249907e+001;
n=50; farx(n+1)=4.581170e-001; foe(n+1)=8.509889e-001; krok(n+1)=2.701916e-001; ng(n+1)=4.235674e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
