%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.843538e+002; foe(n+1)=1.877018e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.746568e+002; foe(n+1)=1.777202e+002; krok(n+1)=5.580127e-004; ng(n+1)=3.309364e+002;
n=2; farx(n+1)=7.188171e+001; foe(n+1)=6.250604e+001; krok(n+1)=3.065020e-002; ng(n+1)=1.958146e+002;
n=3; farx(n+1)=7.008334e+001; foe(n+1)=6.220784e+001; krok(n+1)=8.336543e-004; ng(n+1)=9.065900e+001;
n=4; farx(n+1)=3.350978e+001; foe(n+1)=5.342030e+001; krok(n+1)=1.610734e-002; ng(n+1)=8.529925e+001;
n=5; farx(n+1)=1.774983e+001; foe(n+1)=4.757533e+001; krok(n+1)=2.681467e-004; ng(n+1)=5.485973e+002;
n=6; farx(n+1)=7.066547e+000; foe(n+1)=3.658824e+001; krok(n+1)=2.106662e-003; ng(n+1)=1.071322e+003;
n=7; farx(n+1)=6.524304e+000; foe(n+1)=3.559397e+001; krok(n+1)=3.276764e-004; ng(n+1)=1.865089e+003;
n=8; farx(n+1)=7.189043e+000; foe(n+1)=3.466631e+001; krok(n+1)=5.282547e-003; ng(n+1)=1.775049e+003;
n=9; farx(n+1)=7.285911e+000; foe(n+1)=2.604395e+001; krok(n+1)=4.080593e-003; ng(n+1)=1.859111e+003;
n=10; farx(n+1)=6.993902e+000; foe(n+1)=2.380329e+001; krok(n+1)=5.405350e-004; ng(n+1)=1.135597e+003;
n=11; farx(n+1)=6.492969e+000; foe(n+1)=2.067568e+001; krok(n+1)=6.353015e-003; ng(n+1)=1.004878e+003;
n=12; farx(n+1)=5.887218e+000; foe(n+1)=1.596105e+001; krok(n+1)=4.243311e-003; ng(n+1)=7.184541e+002;
n=13; farx(n+1)=5.689675e+000; foe(n+1)=1.420018e+001; krok(n+1)=2.167321e-003; ng(n+1)=8.517857e+002;
n=14; farx(n+1)=5.224020e+000; foe(n+1)=1.346984e+001; krok(n+1)=5.107684e-003; ng(n+1)=3.773944e+002;
n=15; farx(n+1)=5.107416e+000; foe(n+1)=1.336551e+001; krok(n+1)=2.774090e-003; ng(n+1)=1.835221e+002;
n=16; farx(n+1)=3.954290e+000; foe(n+1)=1.173144e+001; krok(n+1)=2.399905e-002; ng(n+1)=3.313875e+002;
n=17; farx(n+1)=3.395254e+000; foe(n+1)=1.077488e+001; krok(n+1)=3.979978e-002; ng(n+1)=3.917222e+002;
n=18; farx(n+1)=2.842893e+000; foe(n+1)=9.913446e+000; krok(n+1)=1.263902e-002; ng(n+1)=1.731334e+002;
n=19; farx(n+1)=2.576838e+000; foe(n+1)=8.869047e+000; krok(n+1)=2.611507e-002; ng(n+1)=3.836884e+002;
n=20; farx(n+1)=1.781750e+000; foe(n+1)=6.771778e+000; krok(n+1)=4.000365e-002; ng(n+1)=2.205865e+002;
n=21; farx(n+1)=1.181960e+000; foe(n+1)=5.436640e+000; krok(n+1)=2.857373e-001; ng(n+1)=2.061621e+002;
n=22; farx(n+1)=9.690867e-001; foe(n+1)=4.483850e+000; krok(n+1)=2.494838e-001; ng(n+1)=3.760860e+002;
n=23; farx(n+1)=8.902428e-001; foe(n+1)=3.544253e+000; krok(n+1)=2.591726e-001; ng(n+1)=5.844893e+002;
n=24; farx(n+1)=8.732097e-001; foe(n+1)=3.029680e+000; krok(n+1)=1.028050e-001; ng(n+1)=1.999230e+002;
n=25; farx(n+1)=7.216628e-001; foe(n+1)=2.164107e+000; krok(n+1)=6.371584e-001; ng(n+1)=2.958117e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.279935e-001; foe(n+1)=2.115705e+000; krok(n+1)=2.336603e-005; ng(n+1)=1.421517e+002;
n=27; farx(n+1)=7.403849e-001; foe(n+1)=2.081684e+000; krok(n+1)=4.041939e-005; ng(n+1)=8.389736e+001;
n=28; farx(n+1)=7.244541e-001; foe(n+1)=2.020509e+000; krok(n+1)=2.201622e-003; ng(n+1)=2.044416e+001;
n=29; farx(n+1)=6.959000e-001; foe(n+1)=1.960084e+000; krok(n+1)=4.342261e-004; ng(n+1)=3.799914e+001;
n=30; farx(n+1)=6.781214e-001; foe(n+1)=1.861292e+000; krok(n+1)=1.226153e-002; ng(n+1)=2.066863e+001;
n=31; farx(n+1)=6.480739e-001; foe(n+1)=1.776479e+000; krok(n+1)=2.378798e-002; ng(n+1)=2.597529e+001;
n=32; farx(n+1)=6.239495e-001; foe(n+1)=1.609218e+000; krok(n+1)=1.869617e-002; ng(n+1)=1.452931e+002;
n=33; farx(n+1)=6.119225e-001; foe(n+1)=1.518312e+000; krok(n+1)=2.392360e-002; ng(n+1)=6.045882e+001;
n=34; farx(n+1)=6.157154e-001; foe(n+1)=1.505328e+000; krok(n+1)=5.858547e-003; ng(n+1)=9.987564e+001;
n=35; farx(n+1)=6.133672e-001; foe(n+1)=1.442606e+000; krok(n+1)=4.953895e-002; ng(n+1)=3.059928e+001;
n=36; farx(n+1)=6.088648e-001; foe(n+1)=1.408141e+000; krok(n+1)=5.142836e-002; ng(n+1)=5.764387e+001;
n=37; farx(n+1)=6.016770e-001; foe(n+1)=1.373010e+000; krok(n+1)=4.438543e-002; ng(n+1)=2.142965e+001;
n=38; farx(n+1)=5.935305e-001; foe(n+1)=1.299179e+000; krok(n+1)=8.512166e-002; ng(n+1)=4.980878e+001;
n=39; farx(n+1)=5.965350e-001; foe(n+1)=1.239989e+000; krok(n+1)=4.438543e-002; ng(n+1)=1.499708e+002;
n=40; farx(n+1)=5.844729e-001; foe(n+1)=1.211091e+000; krok(n+1)=5.857529e-002; ng(n+1)=9.851656e+001;
n=41; farx(n+1)=5.826198e-001; foe(n+1)=1.190848e+000; krok(n+1)=2.785422e-002; ng(n+1)=4.508466e+001;
n=42; farx(n+1)=5.472178e-001; foe(n+1)=1.136895e+000; krok(n+1)=2.680018e-001; ng(n+1)=5.313484e+001;
n=43; farx(n+1)=5.294884e-001; foe(n+1)=1.064276e+000; krok(n+1)=2.515191e-001; ng(n+1)=4.152789e+001;
n=44; farx(n+1)=4.780415e-001; foe(n+1)=9.662426e-001; krok(n+1)=2.039901e-001; ng(n+1)=8.150893e+001;
n=45; farx(n+1)=4.525122e-001; foe(n+1)=8.799649e-001; krok(n+1)=5.525859e-001; ng(n+1)=4.965101e+001;
n=46; farx(n+1)=4.426142e-001; foe(n+1)=8.523228e-001; krok(n+1)=8.343059e-002; ng(n+1)=4.990834e+001;
n=47; farx(n+1)=4.147273e-001; foe(n+1)=8.059732e-001; krok(n+1)=2.048545e-001; ng(n+1)=1.227061e+002;
n=48; farx(n+1)=3.634975e-001; foe(n+1)=7.439858e-001; krok(n+1)=6.268073e-001; ng(n+1)=1.533953e+002;
n=49; farx(n+1)=3.277025e-001; foe(n+1)=7.037996e-001; krok(n+1)=2.745822e-001; ng(n+1)=9.135253e+001;
n=50; farx(n+1)=3.366508e-001; foe(n+1)=6.728619e-001; krok(n+1)=4.014974e-001; ng(n+1)=2.256893e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
