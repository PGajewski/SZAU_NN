%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.793481e+002; foe(n+1)=1.806902e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.668896e+002; foe(n+1)=1.700709e+002; krok(n+1)=6.500859e-004; ng(n+1)=3.714491e+002;
n=2; farx(n+1)=5.866216e+001; foe(n+1)=7.213381e+001; krok(n+1)=7.702766e-003; ng(n+1)=2.929842e+002;
n=3; farx(n+1)=5.040820e+001; foe(n+1)=6.127942e+001; krok(n+1)=1.635770e-003; ng(n+1)=4.050087e+002;
n=4; farx(n+1)=4.752022e+001; foe(n+1)=5.789794e+001; krok(n+1)=1.995002e-003; ng(n+1)=2.709747e+002;
n=5; farx(n+1)=2.180066e+001; foe(n+1)=4.848599e+001; krok(n+1)=3.948745e-002; ng(n+1)=7.753295e+001;
n=6; farx(n+1)=1.108953e+001; foe(n+1)=4.311597e+001; krok(n+1)=1.841613e-003; ng(n+1)=4.873849e+002;
n=7; farx(n+1)=7.128004e+000; foe(n+1)=3.900781e+001; krok(n+1)=8.336543e-004; ng(n+1)=1.128191e+003;
n=8; farx(n+1)=6.820346e+000; foe(n+1)=3.851009e+001; krok(n+1)=9.152390e-004; ng(n+1)=2.367564e+003;
n=9; farx(n+1)=6.644348e+000; foe(n+1)=3.631284e+001; krok(n+1)=5.173682e-003; ng(n+1)=2.702686e+003;
n=10; farx(n+1)=6.604693e+000; foe(n+1)=3.599238e+001; krok(n+1)=4.072737e-004; ng(n+1)=2.315047e+003;
n=11; farx(n+1)=7.664165e+000; foe(n+1)=3.193217e+001; krok(n+1)=1.669856e-002; ng(n+1)=1.867138e+003;
n=12; farx(n+1)=1.044176e+001; foe(n+1)=2.911014e+001; krok(n+1)=1.226173e-003; ng(n+1)=2.600794e+003;
n=13; farx(n+1)=1.328469e+001; foe(n+1)=2.486219e+001; krok(n+1)=5.997467e-003; ng(n+1)=2.066301e+003;
n=14; farx(n+1)=1.307878e+001; foe(n+1)=2.369331e+001; krok(n+1)=3.752980e-003; ng(n+1)=7.212262e+002;
n=15; farx(n+1)=9.909888e+000; foe(n+1)=2.185448e+001; krok(n+1)=2.386882e-002; ng(n+1)=2.834109e+002;
n=16; farx(n+1)=6.070117e+000; foe(n+1)=1.952047e+001; krok(n+1)=2.015462e-002; ng(n+1)=3.379452e+002;
n=17; farx(n+1)=5.304176e+000; foe(n+1)=1.742888e+001; krok(n+1)=2.840322e-002; ng(n+1)=3.604137e+002;
n=18; farx(n+1)=4.888496e+000; foe(n+1)=1.595990e+001; krok(n+1)=4.704763e-003; ng(n+1)=6.688082e+002;
n=19; farx(n+1)=3.549355e+000; foe(n+1)=1.472828e+001; krok(n+1)=1.181377e-002; ng(n+1)=9.872446e+002;
n=20; farx(n+1)=3.227780e+000; foe(n+1)=1.235693e+001; krok(n+1)=1.846469e-003; ng(n+1)=1.754974e+003;
n=21; farx(n+1)=3.351220e+000; foe(n+1)=1.161456e+001; krok(n+1)=7.172266e-003; ng(n+1)=1.525255e+003;
n=22; farx(n+1)=2.781879e+000; foe(n+1)=1.052501e+001; krok(n+1)=7.356694e-002; ng(n+1)=1.117622e+003;
n=23; farx(n+1)=2.607736e+000; foe(n+1)=8.939554e+000; krok(n+1)=1.308935e-002; ng(n+1)=1.690567e+003;
n=24; farx(n+1)=2.411555e+000; foe(n+1)=7.798534e+000; krok(n+1)=1.031518e-001; ng(n+1)=9.560116e+002;
n=25; farx(n+1)=2.299948e+000; foe(n+1)=7.049173e+000; krok(n+1)=6.900644e-002; ng(n+1)=9.564281e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.300455e+000; foe(n+1)=6.804325e+000; krok(n+1)=2.922588e-005; ng(n+1)=3.679210e+002;
n=27; farx(n+1)=2.321670e+000; foe(n+1)=6.618410e+000; krok(n+1)=1.539716e-005; ng(n+1)=4.140592e+002;
n=28; farx(n+1)=2.210512e+000; foe(n+1)=6.279969e+000; krok(n+1)=1.495426e-003; ng(n+1)=5.692892e+001;
n=29; farx(n+1)=2.114414e+000; foe(n+1)=6.139824e+000; krok(n+1)=2.431917e-004; ng(n+1)=1.028047e+002;
n=30; farx(n+1)=1.839832e+000; foe(n+1)=5.577180e+000; krok(n+1)=7.117955e-003; ng(n+1)=5.004665e+001;
n=31; farx(n+1)=1.659161e+000; foe(n+1)=4.789398e+000; krok(n+1)=2.183177e-002; ng(n+1)=6.216916e+001;
n=32; farx(n+1)=1.447887e+000; foe(n+1)=4.424461e+000; krok(n+1)=8.307419e-003; ng(n+1)=2.666053e+002;
n=33; farx(n+1)=1.341515e+000; foe(n+1)=4.168205e+000; krok(n+1)=5.608324e-003; ng(n+1)=2.743128e+002;
n=34; farx(n+1)=1.113209e+000; foe(n+1)=3.314511e+000; krok(n+1)=5.507794e-002; ng(n+1)=1.534076e+002;
n=35; farx(n+1)=9.356377e-001; foe(n+1)=2.699627e+000; krok(n+1)=1.064021e-002; ng(n+1)=4.121655e+002;
n=36; farx(n+1)=9.301813e-001; foe(n+1)=2.376052e+000; krok(n+1)=2.456077e-003; ng(n+1)=5.782179e+002;
n=37; farx(n+1)=8.210832e-001; foe(n+1)=2.125900e+000; krok(n+1)=6.153853e-002; ng(n+1)=1.042478e+002;
n=38; farx(n+1)=7.422135e-001; foe(n+1)=1.944823e+000; krok(n+1)=1.370811e-002; ng(n+1)=1.789242e+002;
n=39; farx(n+1)=7.084654e-001; foe(n+1)=1.829646e+000; krok(n+1)=7.883344e-003; ng(n+1)=2.027149e+002;
n=40; farx(n+1)=6.857201e-001; foe(n+1)=1.752119e+000; krok(n+1)=1.394089e-002; ng(n+1)=2.499399e+002;
n=41; farx(n+1)=7.378529e-001; foe(n+1)=1.455991e+000; krok(n+1)=4.663645e-002; ng(n+1)=7.943558e+001;
n=42; farx(n+1)=7.760724e-001; foe(n+1)=1.222035e+000; krok(n+1)=9.907791e-002; ng(n+1)=1.241059e+002;
n=43; farx(n+1)=7.524735e-001; foe(n+1)=1.140145e+000; krok(n+1)=3.670029e-002; ng(n+1)=2.010771e+002;
n=44; farx(n+1)=6.713201e-001; foe(n+1)=1.071066e+000; krok(n+1)=3.143988e-002; ng(n+1)=6.441471e+001;
n=45; farx(n+1)=5.777926e-001; foe(n+1)=9.538809e-001; krok(n+1)=1.579498e-001; ng(n+1)=8.658117e+001;
n=46; farx(n+1)=5.356755e-001; foe(n+1)=8.877537e-001; krok(n+1)=2.114442e-001; ng(n+1)=1.910999e+002;
n=47; farx(n+1)=4.967983e-001; foe(n+1)=8.189489e-001; krok(n+1)=4.930774e-001; ng(n+1)=8.421873e+001;
n=48; farx(n+1)=4.557878e-001; foe(n+1)=7.626529e-001; krok(n+1)=3.223140e-001; ng(n+1)=1.091432e+002;
n=49; farx(n+1)=4.227812e-001; foe(n+1)=7.111024e-001; krok(n+1)=4.003408e-001; ng(n+1)=5.671032e+001;
n=50; farx(n+1)=4.070457e-001; foe(n+1)=6.678649e-001; krok(n+1)=5.327583e-001; ng(n+1)=1.975468e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
