%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.937660e+002; foe(n+1)=1.925712e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.823642e+002; foe(n+1)=1.817396e+002; krok(n+1)=6.326141e-004; ng(n+1)=3.528127e+002;
n=2; farx(n+1)=1.586078e+002; foe(n+1)=1.567734e+002; krok(n+1)=5.767896e-003; ng(n+1)=2.265605e+002;
n=3; farx(n+1)=6.003211e+001; foe(n+1)=6.058701e+001; krok(n+1)=2.804162e-003; ng(n+1)=4.643814e+002;
n=4; farx(n+1)=5.863545e+001; foe(n+1)=5.955176e+001; krok(n+1)=7.209870e-004; ng(n+1)=1.602691e+002;
n=5; farx(n+1)=4.682499e+001; foe(n+1)=5.810422e+001; krok(n+1)=1.111520e-002; ng(n+1)=7.894811e+001;
n=6; farx(n+1)=3.472563e+001; foe(n+1)=4.785665e+001; krok(n+1)=2.243330e-002; ng(n+1)=3.036727e+002;
n=7; farx(n+1)=3.366301e+001; foe(n+1)=4.679079e+001; krok(n+1)=4.065324e-003; ng(n+1)=2.563691e+002;
n=8; farx(n+1)=2.858766e+001; foe(n+1)=4.169638e+001; krok(n+1)=1.189189e-002; ng(n+1)=3.321628e+002;
n=9; farx(n+1)=2.512558e+001; foe(n+1)=4.022561e+001; krok(n+1)=3.334617e-003; ng(n+1)=3.376983e+002;
n=10; farx(n+1)=1.935206e+001; foe(n+1)=3.803134e+001; krok(n+1)=2.194150e-002; ng(n+1)=4.261200e+002;
n=11; farx(n+1)=1.681205e+001; foe(n+1)=3.676334e+001; krok(n+1)=3.544455e-003; ng(n+1)=6.745783e+002;
n=12; farx(n+1)=1.372569e+001; foe(n+1)=3.528723e+001; krok(n+1)=2.348414e-003; ng(n+1)=7.376090e+002;
n=13; farx(n+1)=1.321067e+001; foe(n+1)=3.455668e+001; krok(n+1)=2.548617e-003; ng(n+1)=1.062806e+003;
n=14; farx(n+1)=1.282314e+001; foe(n+1)=3.288515e+001; krok(n+1)=7.825027e-003; ng(n+1)=1.123102e+003;
n=15; farx(n+1)=1.285693e+001; foe(n+1)=2.551788e+001; krok(n+1)=3.497807e-002; ng(n+1)=9.673757e+002;
n=16; farx(n+1)=1.252524e+001; foe(n+1)=2.517706e+001; krok(n+1)=2.204222e-003; ng(n+1)=1.696195e+002;
n=17; farx(n+1)=1.159809e+001; foe(n+1)=2.400554e+001; krok(n+1)=8.300976e-003; ng(n+1)=3.916980e+002;
n=18; farx(n+1)=1.093544e+001; foe(n+1)=2.338025e+001; krok(n+1)=2.641274e-003; ng(n+1)=1.884663e+002;
n=19; farx(n+1)=1.044528e+001; foe(n+1)=2.279976e+001; krok(n+1)=6.051627e-003; ng(n+1)=2.963734e+002;
n=20; farx(n+1)=8.703078e+000; foe(n+1)=2.075734e+001; krok(n+1)=5.142093e-002; ng(n+1)=3.898159e+002;
n=21; farx(n+1)=5.280063e+000; foe(n+1)=1.443204e+001; krok(n+1)=4.050274e-002; ng(n+1)=6.390984e+002;
n=22; farx(n+1)=4.924827e+000; foe(n+1)=1.299324e+001; krok(n+1)=6.970444e-003; ng(n+1)=6.655863e+002;
n=23; farx(n+1)=4.765780e+000; foe(n+1)=1.265914e+001; krok(n+1)=7.321912e-003; ng(n+1)=6.205611e+002;
n=24; farx(n+1)=4.600402e+000; foe(n+1)=1.200538e+001; krok(n+1)=2.440235e-002; ng(n+1)=5.369234e+002;
n=25; farx(n+1)=3.820576e+000; foe(n+1)=1.132577e+001; krok(n+1)=1.697325e-002; ng(n+1)=3.027059e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=3.818361e+000; foe(n+1)=1.126342e+001; krok(n+1)=1.066004e-005; ng(n+1)=3.535991e+002;
n=27; farx(n+1)=3.824596e+000; foe(n+1)=1.111308e+001; krok(n+1)=4.856864e-005; ng(n+1)=2.234106e+002;
n=28; farx(n+1)=3.927398e+000; foe(n+1)=1.091074e+001; krok(n+1)=7.907676e-005; ng(n+1)=2.168617e+002;
n=29; farx(n+1)=3.378448e+000; foe(n+1)=9.511460e+000; krok(n+1)=3.127663e-003; ng(n+1)=9.535555e+001;
n=30; farx(n+1)=2.360010e+000; foe(n+1)=6.904782e+000; krok(n+1)=7.032104e-003; ng(n+1)=2.711064e+002;
n=31; farx(n+1)=2.280355e+000; foe(n+1)=6.599730e+000; krok(n+1)=3.551278e-004; ng(n+1)=1.134528e+003;
n=32; farx(n+1)=1.803634e+000; foe(n+1)=5.190357e+000; krok(n+1)=1.153579e-002; ng(n+1)=5.361398e+002;
n=33; farx(n+1)=1.635645e+000; foe(n+1)=4.468480e+000; krok(n+1)=5.282547e-003; ng(n+1)=7.391111e+002;
n=34; farx(n+1)=1.344944e+000; foe(n+1)=3.889089e+000; krok(n+1)=4.419773e-003; ng(n+1)=5.344309e+002;
n=35; farx(n+1)=1.024138e+000; foe(n+1)=3.144984e+000; krok(n+1)=7.242402e-003; ng(n+1)=4.581865e+002;
n=36; farx(n+1)=8.834467e-001; foe(n+1)=3.021290e+000; krok(n+1)=5.214527e-003; ng(n+1)=8.862987e+001;
n=37; farx(n+1)=7.311672e-001; foe(n+1)=2.759721e+000; krok(n+1)=1.448480e-002; ng(n+1)=2.313547e+002;
n=38; farx(n+1)=6.811426e-001; foe(n+1)=2.676358e+000; krok(n+1)=2.054980e-002; ng(n+1)=1.390472e+002;
n=39; farx(n+1)=6.346136e-001; foe(n+1)=2.481404e+000; krok(n+1)=5.767896e-003; ng(n+1)=4.489029e+002;
n=40; farx(n+1)=6.355149e-001; foe(n+1)=2.207781e+000; krok(n+1)=4.382471e-002; ng(n+1)=1.399719e+002;
n=41; farx(n+1)=6.716174e-001; foe(n+1)=2.015984e+000; krok(n+1)=3.497807e-002; ng(n+1)=2.015854e+002;
n=42; farx(n+1)=7.350098e-001; foe(n+1)=1.577898e+000; krok(n+1)=8.973423e-002; ng(n+1)=2.519915e+002;
n=43; farx(n+1)=6.971131e-001; foe(n+1)=1.455100e+000; krok(n+1)=5.234463e-002; ng(n+1)=7.055628e+001;
n=44; farx(n+1)=6.325744e-001; foe(n+1)=1.346233e+000; krok(n+1)=1.470844e-002; ng(n+1)=6.514094e+001;
n=45; farx(n+1)=6.116581e-001; foe(n+1)=1.281640e+000; krok(n+1)=3.719679e-002; ng(n+1)=2.174952e+002;
n=46; farx(n+1)=5.933704e-001; foe(n+1)=1.205426e+000; krok(n+1)=5.101860e-002; ng(n+1)=4.147727e+002;
n=47; farx(n+1)=4.313632e-001; foe(n+1)=1.014163e+000; krok(n+1)=1.399123e-001; ng(n+1)=3.261200e+002;
n=48; farx(n+1)=4.109224e-001; foe(n+1)=9.680558e-001; krok(n+1)=3.061194e-001; ng(n+1)=1.926816e+002;
n=49; farx(n+1)=4.023639e-001; foe(n+1)=9.244144e-001; krok(n+1)=4.555491e-001; ng(n+1)=7.568950e+001;
n=50; farx(n+1)=3.927947e-001; foe(n+1)=8.969561e-001; krok(n+1)=7.248392e-001; ng(n+1)=9.344632e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
