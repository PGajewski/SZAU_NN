%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.694754e+002; foe(n+1)=1.768614e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.560659e+002; foe(n+1)=1.643423e+002; krok(n+1)=6.038301e-004; ng(n+1)=4.037693e+002;
n=2; farx(n+1)=6.304529e+001; foe(n+1)=7.467651e+001; krok(n+1)=6.099924e-003; ng(n+1)=2.811915e+002;
n=3; farx(n+1)=5.633222e+001; foe(n+1)=6.490154e+001; krok(n+1)=1.568736e-003; ng(n+1)=4.265591e+002;
n=4; farx(n+1)=5.648174e+001; foe(n+1)=5.976815e+001; krok(n+1)=4.944619e-003; ng(n+1)=3.813606e+002;
n=5; farx(n+1)=3.739717e+001; foe(n+1)=5.482565e+001; krok(n+1)=2.936823e-002; ng(n+1)=5.653693e+001;
n=6; farx(n+1)=9.965101e+000; foe(n+1)=4.057479e+001; krok(n+1)=1.384176e-002; ng(n+1)=2.994281e+002;
n=7; farx(n+1)=8.707335e+000; foe(n+1)=4.008435e+001; krok(n+1)=2.369246e-005; ng(n+1)=1.144330e+003;
n=8; farx(n+1)=6.353218e+000; foe(n+1)=3.313732e+001; krok(n+1)=3.141070e-002; ng(n+1)=1.373717e+003;
n=9; farx(n+1)=6.314479e+000; foe(n+1)=3.287798e+001; krok(n+1)=1.565988e-005; ng(n+1)=2.166118e+003;
n=10; farx(n+1)=6.575624e+000; foe(n+1)=3.238042e+001; krok(n+1)=2.032662e-003; ng(n+1)=2.095203e+003;
n=11; farx(n+1)=7.644237e+000; foe(n+1)=3.094363e+001; krok(n+1)=1.726831e-002; ng(n+1)=2.091006e+003;
n=12; farx(n+1)=8.270326e+000; foe(n+1)=2.891715e+001; krok(n+1)=3.911100e-003; ng(n+1)=1.779713e+003;
n=13; farx(n+1)=8.897506e+000; foe(n+1)=2.700403e+001; krok(n+1)=4.372259e-003; ng(n+1)=1.872556e+003;
n=14; farx(n+1)=8.860423e+000; foe(n+1)=2.616859e+001; krok(n+1)=1.427772e-003; ng(n+1)=1.085914e+003;
n=15; farx(n+1)=9.569167e+000; foe(n+1)=2.521851e+001; krok(n+1)=6.607631e-003; ng(n+1)=9.816156e+002;
n=16; farx(n+1)=9.960456e+000; foe(n+1)=2.410450e+001; krok(n+1)=1.572086e-002; ng(n+1)=3.164537e+002;
n=17; farx(n+1)=9.984080e+000; foe(n+1)=2.354007e+001; krok(n+1)=1.473291e-002; ng(n+1)=3.707746e+002;
n=18; farx(n+1)=8.961388e+000; foe(n+1)=2.110135e+001; krok(n+1)=1.909176e-002; ng(n+1)=4.898897e+002;
n=19; farx(n+1)=5.168901e+000; foe(n+1)=1.427846e+001; krok(n+1)=6.137372e-002; ng(n+1)=7.574195e+002;
n=20; farx(n+1)=1.837432e+000; foe(n+1)=8.807470e+000; krok(n+1)=3.370660e-002; ng(n+1)=8.128760e+002;
n=21; farx(n+1)=1.536656e+000; foe(n+1)=8.077163e+000; krok(n+1)=8.368557e-003; ng(n+1)=4.552024e+002;
n=22; farx(n+1)=1.350238e+000; foe(n+1)=7.050018e+000; krok(n+1)=8.704305e-003; ng(n+1)=6.181416e+002;
n=23; farx(n+1)=1.139305e+000; foe(n+1)=6.680638e+000; krok(n+1)=3.262119e-002; ng(n+1)=2.838652e+002;
n=24; farx(n+1)=1.057707e+000; foe(n+1)=6.307952e+000; krok(n+1)=8.430727e-002; ng(n+1)=5.457662e+002;
n=25; farx(n+1)=1.006608e+000; foe(n+1)=5.893034e+000; krok(n+1)=1.728699e-001; ng(n+1)=3.118132e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.009271e+000; foe(n+1)=5.841609e+000; krok(n+1)=2.829063e-005; ng(n+1)=1.913104e+002;
n=27; farx(n+1)=1.008304e+000; foe(n+1)=5.835735e+000; krok(n+1)=1.266631e-005; ng(n+1)=6.735007e+001;
n=28; farx(n+1)=9.539718e-001; foe(n+1)=5.721487e+000; krok(n+1)=5.112119e-004; ng(n+1)=6.377484e+001;
n=29; farx(n+1)=8.646947e-001; foe(n+1)=5.140998e+000; krok(n+1)=3.096185e-003; ng(n+1)=6.528975e+001;
n=30; farx(n+1)=7.764950e-001; foe(n+1)=4.796421e+000; krok(n+1)=5.214527e-003; ng(n+1)=7.888730e+001;
n=31; farx(n+1)=7.136671e-001; foe(n+1)=4.107856e+000; krok(n+1)=5.906887e-003; ng(n+1)=5.137728e+002;
n=32; farx(n+1)=7.130150e-001; foe(n+1)=3.071227e+000; krok(n+1)=7.032104e-003; ng(n+1)=3.115796e+002;
n=33; farx(n+1)=7.507864e-001; foe(n+1)=2.681279e+000; krok(n+1)=1.532691e-003; ng(n+1)=4.874064e+002;
n=34; farx(n+1)=7.657807e-001; foe(n+1)=2.500761e+000; krok(n+1)=3.813746e-003; ng(n+1)=2.031762e+002;
n=35; farx(n+1)=7.612919e-001; foe(n+1)=2.449799e+000; krok(n+1)=3.806601e-003; ng(n+1)=2.504078e+002;
n=36; farx(n+1)=7.898635e-001; foe(n+1)=2.297047e+000; krok(n+1)=3.497807e-002; ng(n+1)=2.135898e+002;
n=37; farx(n+1)=7.618646e-001; foe(n+1)=2.208270e+000; krok(n+1)=3.406610e-002; ng(n+1)=1.110510e+002;
n=38; farx(n+1)=7.431323e-001; foe(n+1)=2.164222e+000; krok(n+1)=1.042882e-002; ng(n+1)=1.648447e+002;
n=39; farx(n+1)=7.004500e-001; foe(n+1)=2.031014e+000; krok(n+1)=2.502768e-002; ng(n+1)=1.544775e+002;
n=40; farx(n+1)=6.859057e-001; foe(n+1)=1.904640e+000; krok(n+1)=5.160128e-002; ng(n+1)=2.044116e+002;
n=41; farx(n+1)=6.928404e-001; foe(n+1)=1.854352e+000; krok(n+1)=3.281725e-002; ng(n+1)=1.239911e+002;
n=42; farx(n+1)=7.467497e-001; foe(n+1)=1.723835e+000; krok(n+1)=1.662031e-001; ng(n+1)=1.467694e+002;
n=43; farx(n+1)=8.530654e-001; foe(n+1)=1.572435e+000; krok(n+1)=3.201356e-002; ng(n+1)=3.011156e+002;
n=44; farx(n+1)=8.500006e-001; foe(n+1)=1.531933e+000; krok(n+1)=6.079450e-002; ng(n+1)=1.138969e+002;
n=45; farx(n+1)=8.218280e-001; foe(n+1)=1.470328e+000; krok(n+1)=1.213676e-001; ng(n+1)=1.036670e+002;
n=46; farx(n+1)=5.895592e-001; foe(n+1)=1.122198e+000; krok(n+1)=8.162976e-001; ng(n+1)=1.828978e+002;
n=47; farx(n+1)=5.818984e-001; foe(n+1)=1.084447e+000; krok(n+1)=6.863735e-002; ng(n+1)=1.651157e+002;
n=48; farx(n+1)=5.151951e-001; foe(n+1)=9.717454e-001; krok(n+1)=2.192961e-001; ng(n+1)=6.863087e+001;
n=49; farx(n+1)=4.794810e-001; foe(n+1)=9.032427e-001; krok(n+1)=8.191626e-002; ng(n+1)=9.731923e+001;
n=50; farx(n+1)=4.661203e-001; foe(n+1)=8.531560e-001; krok(n+1)=4.228235e-001; ng(n+1)=1.160072e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
