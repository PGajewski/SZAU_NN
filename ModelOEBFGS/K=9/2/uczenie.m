%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.016151e+002; foe(n+1)=2.010837e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.614481e+002; foe(n+1)=1.592021e+002; krok(n+1)=5.157570e-004; ng(n+1)=9.875098e+002;
n=2; farx(n+1)=7.201636e+001; foe(n+1)=6.617410e+001; krok(n+1)=6.303106e-003; ng(n+1)=4.673533e+002;
n=3; farx(n+1)=7.016445e+001; foe(n+1)=6.364995e+001; krok(n+1)=2.569527e-003; ng(n+1)=2.104761e+002;
n=4; farx(n+1)=4.784124e+001; foe(n+1)=6.105451e+001; krok(n+1)=3.407387e-002; ng(n+1)=4.570410e+001;
n=5; farx(n+1)=2.174808e+001; foe(n+1)=4.669288e+001; krok(n+1)=4.201093e-003; ng(n+1)=2.615847e+002;
n=6; farx(n+1)=1.780366e+001; foe(n+1)=4.516524e+001; krok(n+1)=1.749592e-003; ng(n+1)=3.589869e+002;
n=7; farx(n+1)=1.505209e+001; foe(n+1)=4.395917e+001; krok(n+1)=2.431442e-003; ng(n+1)=5.597864e+002;
n=8; farx(n+1)=5.976051e+000; foe(n+1)=2.444079e+001; krok(n+1)=1.314565e-002; ng(n+1)=9.620849e+002;
n=9; farx(n+1)=5.695997e+000; foe(n+1)=2.396106e+001; krok(n+1)=1.629504e-004; ng(n+1)=1.338509e+003;
n=10; farx(n+1)=5.166353e+000; foe(n+1)=1.847885e+001; krok(n+1)=2.001452e-002; ng(n+1)=1.395883e+003;
n=11; farx(n+1)=5.540243e+000; foe(n+1)=1.728386e+001; krok(n+1)=7.209870e-004; ng(n+1)=1.212056e+003;
n=12; farx(n+1)=5.098465e+000; foe(n+1)=1.645221e+001; krok(n+1)=1.269968e-002; ng(n+1)=8.119250e+002;
n=13; farx(n+1)=3.965438e+000; foe(n+1)=1.443026e+001; krok(n+1)=8.625805e-003; ng(n+1)=4.002953e+002;
n=14; farx(n+1)=3.740984e+000; foe(n+1)=1.322578e+001; krok(n+1)=5.214412e-003; ng(n+1)=3.579408e+002;
n=15; farx(n+1)=3.512332e+000; foe(n+1)=1.268334e+001; krok(n+1)=1.810600e-003; ng(n+1)=4.659136e+002;
n=16; farx(n+1)=2.815002e+000; foe(n+1)=1.102210e+001; krok(n+1)=1.575380e-002; ng(n+1)=2.271498e+002;
n=17; farx(n+1)=2.853385e+000; foe(n+1)=1.069091e+001; krok(n+1)=1.177085e-003; ng(n+1)=8.357451e+002;
n=18; farx(n+1)=2.744298e+000; foe(n+1)=9.356010e+000; krok(n+1)=1.000726e-002; ng(n+1)=8.182446e+002;
n=19; farx(n+1)=2.417391e+000; foe(n+1)=8.461536e+000; krok(n+1)=1.063635e-002; ng(n+1)=3.256984e+002;
n=20; farx(n+1)=2.312531e+000; foe(n+1)=8.174291e+000; krok(n+1)=1.548092e-003; ng(n+1)=4.261259e+002;
n=21; farx(n+1)=2.078207e+000; foe(n+1)=7.267247e+000; krok(n+1)=6.572826e-003; ng(n+1)=4.075892e+002;
n=22; farx(n+1)=1.906288e+000; foe(n+1)=5.374416e+000; krok(n+1)=6.349841e-003; ng(n+1)=9.309488e+002;
n=23; farx(n+1)=1.933796e+000; foe(n+1)=4.956705e+000; krok(n+1)=1.324250e-003; ng(n+1)=1.269270e+003;
n=24; farx(n+1)=1.804768e+000; foe(n+1)=4.646001e+000; krok(n+1)=6.130766e-003; ng(n+1)=7.568654e+002;
n=25; farx(n+1)=1.364399e+000; foe(n+1)=3.700644e+000; krok(n+1)=2.410544e-002; ng(n+1)=6.243144e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.340721e+000; foe(n+1)=3.421209e+000; krok(n+1)=9.173490e-006; ng(n+1)=6.676262e+002;
n=27; farx(n+1)=1.320530e+000; foe(n+1)=3.335971e+000; krok(n+1)=3.678392e-005; ng(n+1)=2.555372e+002;
n=28; farx(n+1)=1.330860e+000; foe(n+1)=3.310217e+000; krok(n+1)=1.418599e-004; ng(n+1)=6.721074e+001;
n=29; farx(n+1)=1.088861e+000; foe(n+1)=2.692176e+000; krok(n+1)=6.130766e-003; ng(n+1)=6.684206e+001;
n=30; farx(n+1)=9.068707e-001; foe(n+1)=2.403462e+000; krok(n+1)=5.915258e-003; ng(n+1)=5.287155e+001;
n=31; farx(n+1)=7.609081e-001; foe(n+1)=2.089414e+000; krok(n+1)=9.859852e-003; ng(n+1)=2.920386e+002;
n=32; farx(n+1)=6.647379e-001; foe(n+1)=1.928568e+000; krok(n+1)=1.054870e-002; ng(n+1)=6.234517e+001;
n=33; farx(n+1)=6.216044e-001; foe(n+1)=1.832407e+000; krok(n+1)=6.256921e-003; ng(n+1)=1.935424e+002;
n=34; farx(n+1)=6.097235e-001; foe(n+1)=1.732337e+000; krok(n+1)=2.191235e-002; ng(n+1)=6.356763e+001;
n=35; farx(n+1)=6.125046e-001; foe(n+1)=1.663576e+000; krok(n+1)=5.478088e-003; ng(n+1)=2.619847e+002;
n=36; farx(n+1)=6.346295e-001; foe(n+1)=1.607747e+000; krok(n+1)=3.006802e-002; ng(n+1)=1.375456e+002;
n=37; farx(n+1)=6.514106e-001; foe(n+1)=1.493118e+000; krok(n+1)=7.596282e-002; ng(n+1)=8.093559e+001;
n=38; farx(n+1)=6.593167e-001; foe(n+1)=1.444231e+000; krok(n+1)=2.641497e-003; ng(n+1)=2.155418e+002;
n=39; farx(n+1)=6.618898e-001; foe(n+1)=1.399489e+000; krok(n+1)=7.632150e-003; ng(n+1)=1.257455e+002;
n=40; farx(n+1)=6.470429e-001; foe(n+1)=1.368956e+000; krok(n+1)=2.629130e-002; ng(n+1)=1.787585e+002;
n=41; farx(n+1)=6.115818e-001; foe(n+1)=1.328645e+000; krok(n+1)=2.272818e-002; ng(n+1)=1.274535e+002;
n=42; farx(n+1)=5.702741e-001; foe(n+1)=1.251849e+000; krok(n+1)=5.857529e-002; ng(n+1)=1.295606e+002;
n=43; farx(n+1)=5.717728e-001; foe(n+1)=1.226310e+000; krok(n+1)=5.801457e-002; ng(n+1)=1.176756e+002;
n=44; farx(n+1)=5.729224e-001; foe(n+1)=1.200172e+000; krok(n+1)=8.166461e-003; ng(n+1)=1.184136e+002;
n=45; farx(n+1)=5.648508e-001; foe(n+1)=1.167203e+000; krok(n+1)=3.542231e-002; ng(n+1)=1.045834e+002;
n=46; farx(n+1)=5.065943e-001; foe(n+1)=1.124246e+000; krok(n+1)=1.252004e-001; ng(n+1)=8.268259e+001;
n=47; farx(n+1)=4.949778e-001; foe(n+1)=1.111282e+000; krok(n+1)=1.417782e-002; ng(n+1)=1.449048e+002;
n=48; farx(n+1)=4.807000e-001; foe(n+1)=1.087855e+000; krok(n+1)=6.935426e-002; ng(n+1)=1.625167e+002;
n=49; farx(n+1)=4.776878e-001; foe(n+1)=1.083015e+000; krok(n+1)=1.136199e-002; ng(n+1)=2.991642e+001;
n=50; farx(n+1)=4.689707e-001; foe(n+1)=1.060132e+000; krok(n+1)=9.019770e-002; ng(n+1)=6.597979e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
