%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.156552e+002; foe(n+1)=2.170943e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.671454e+002; foe(n+1)=1.679589e+002; krok(n+1)=5.067685e-004; ng(n+1)=6.908053e+002;
n=2; farx(n+1)=6.596990e+001; foe(n+1)=6.622370e+001; krok(n+1)=9.030079e-003; ng(n+1)=3.349256e+002;
n=3; farx(n+1)=6.274076e+001; foe(n+1)=6.195334e+001; krok(n+1)=1.207428e-003; ng(n+1)=3.327107e+002;
n=4; farx(n+1)=5.995671e+001; foe(n+1)=6.111996e+001; krok(n+1)=5.355898e-003; ng(n+1)=1.056189e+002;
n=5; farx(n+1)=1.761901e+001; foe(n+1)=5.077961e+001; krok(n+1)=2.097129e-002; ng(n+1)=1.337370e+002;
n=6; farx(n+1)=9.981333e+000; foe(n+1)=4.849320e+001; krok(n+1)=9.722412e-004; ng(n+1)=1.387899e+003;
n=7; farx(n+1)=4.367159e+000; foe(n+1)=3.716972e+001; krok(n+1)=9.307204e-003; ng(n+1)=2.627601e+003;
n=8; farx(n+1)=4.327787e+000; foe(n+1)=3.700265e+001; krok(n+1)=4.083402e-006; ng(n+1)=4.856054e+003;
n=9; farx(n+1)=5.025816e+000; foe(n+1)=3.563747e+001; krok(n+1)=1.109636e-002; ng(n+1)=4.790167e+003;
n=10; farx(n+1)=6.839255e+000; foe(n+1)=3.228936e+001; krok(n+1)=2.778799e-003; ng(n+1)=4.737204e+003;
n=11; farx(n+1)=8.347402e+000; foe(n+1)=3.053946e+001; krok(n+1)=1.841613e-003; ng(n+1)=3.656761e+003;
n=12; farx(n+1)=9.123708e+000; foe(n+1)=2.767778e+001; krok(n+1)=1.251384e-002; ng(n+1)=2.468442e+003;
n=13; farx(n+1)=9.152720e+000; foe(n+1)=2.717421e+001; krok(n+1)=9.710641e-004; ng(n+1)=7.619454e+002;
n=14; farx(n+1)=9.176901e+000; foe(n+1)=2.536775e+001; krok(n+1)=1.165868e-002; ng(n+1)=4.831622e+002;
n=15; farx(n+1)=9.000174e+000; foe(n+1)=2.304550e+001; krok(n+1)=1.142218e-002; ng(n+1)=3.877632e+002;
n=16; farx(n+1)=9.336419e+000; foe(n+1)=2.206157e+001; krok(n+1)=7.144846e-003; ng(n+1)=7.562053e+002;
n=17; farx(n+1)=8.652360e+000; foe(n+1)=2.049920e+001; krok(n+1)=2.165649e-002; ng(n+1)=4.390947e+002;
n=18; farx(n+1)=6.473397e+000; foe(n+1)=1.700819e+001; krok(n+1)=2.272818e-002; ng(n+1)=2.845802e+002;
n=19; farx(n+1)=6.241355e+000; foe(n+1)=1.641965e+001; krok(n+1)=2.681146e-004; ng(n+1)=7.480660e+002;
n=20; farx(n+1)=5.723445e+000; foe(n+1)=1.482760e+001; krok(n+1)=4.478448e-003; ng(n+1)=4.801358e+002;
n=21; farx(n+1)=5.375585e+000; foe(n+1)=1.366107e+001; krok(n+1)=8.031637e-004; ng(n+1)=1.043966e+003;
n=22; farx(n+1)=4.897661e+000; foe(n+1)=1.199998e+001; krok(n+1)=5.433546e-003; ng(n+1)=8.545057e+002;
n=23; farx(n+1)=4.396654e+000; foe(n+1)=9.431612e+000; krok(n+1)=1.524981e-003; ng(n+1)=1.673411e+003;
n=24; farx(n+1)=3.920923e+000; foe(n+1)=8.282191e+000; krok(n+1)=5.631405e-003; ng(n+1)=7.675931e+002;
n=25; farx(n+1)=3.743161e+000; foe(n+1)=8.019041e+000; krok(n+1)=1.723278e-003; ng(n+1)=4.708850e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=3.742394e+000; foe(n+1)=7.888232e+000; krok(n+1)=9.667524e-006; ng(n+1)=5.582957e+002;
n=27; farx(n+1)=3.730071e+000; foe(n+1)=7.749343e+000; krok(n+1)=2.023685e-004; ng(n+1)=1.415937e+002;
n=28; farx(n+1)=3.362679e+000; foe(n+1)=6.802592e+000; krok(n+1)=2.048662e-004; ng(n+1)=2.914222e+002;
n=29; farx(n+1)=1.589055e+000; foe(n+1)=3.106170e+000; krok(n+1)=1.513410e-003; ng(n+1)=2.581346e+002;
n=30; farx(n+1)=1.506000e+000; foe(n+1)=2.838052e+000; krok(n+1)=1.621288e-003; ng(n+1)=3.037461e+002;
n=31; farx(n+1)=1.418178e+000; foe(n+1)=2.539979e+000; krok(n+1)=1.517951e-003; ng(n+1)=4.918602e+002;
n=32; farx(n+1)=1.209072e+000; foe(n+1)=2.085669e+000; krok(n+1)=5.320104e-003; ng(n+1)=1.548452e+002;
n=33; farx(n+1)=1.116909e+000; foe(n+1)=1.983832e+000; krok(n+1)=2.050616e-003; ng(n+1)=1.896107e+002;
n=34; farx(n+1)=8.775438e-001; foe(n+1)=1.709862e+000; krok(n+1)=9.078303e-003; ng(n+1)=2.623597e+002;
n=35; farx(n+1)=7.871425e-001; foe(n+1)=1.462828e+000; krok(n+1)=2.398987e-002; ng(n+1)=1.713790e+002;
n=36; farx(n+1)=7.439275e-001; foe(n+1)=1.393612e+000; krok(n+1)=8.565378e-003; ng(n+1)=1.552816e+002;
n=37; farx(n+1)=7.349572e-001; foe(n+1)=1.375458e+000; krok(n+1)=2.804162e-003; ng(n+1)=1.151943e+002;
n=38; farx(n+1)=6.962006e-001; foe(n+1)=1.317497e+000; krok(n+1)=6.875219e-003; ng(n+1)=1.939421e+002;
n=39; farx(n+1)=6.596606e-001; foe(n+1)=1.266242e+000; krok(n+1)=2.733118e-002; ng(n+1)=5.060724e+001;
n=40; farx(n+1)=6.398504e-001; foe(n+1)=1.212502e+000; krok(n+1)=1.669856e-002; ng(n+1)=1.910520e+002;
n=41; farx(n+1)=6.409202e-001; foe(n+1)=1.198611e+000; krok(n+1)=1.979909e-002; ng(n+1)=1.412048e+002;
n=42; farx(n+1)=6.281542e-001; foe(n+1)=1.137502e+000; krok(n+1)=1.000780e-001; ng(n+1)=1.310251e+002;
n=43; farx(n+1)=6.245167e-001; foe(n+1)=1.130333e+000; krok(n+1)=8.309325e-003; ng(n+1)=9.848010e+001;
n=44; farx(n+1)=6.261679e-001; foe(n+1)=1.099722e+000; krok(n+1)=3.368398e-002; ng(n+1)=1.069824e+002;
n=45; farx(n+1)=6.202929e-001; foe(n+1)=1.078406e+000; krok(n+1)=3.841036e-002; ng(n+1)=5.815657e+001;
n=46; farx(n+1)=6.443352e-001; foe(n+1)=9.703327e-001; krok(n+1)=1.292163e-001; ng(n+1)=1.233404e+002;
n=47; farx(n+1)=6.410925e-001; foe(n+1)=9.606925e-001; krok(n+1)=9.760389e-003; ng(n+1)=6.134835e+001;
n=48; farx(n+1)=6.352538e-001; foe(n+1)=9.380610e-001; krok(n+1)=7.191676e-003; ng(n+1)=1.436597e+002;
n=49; farx(n+1)=6.191078e-001; foe(n+1)=9.163832e-001; krok(n+1)=1.518514e-002; ng(n+1)=1.093740e+002;
n=50; farx(n+1)=5.247430e-001; foe(n+1)=8.480956e-001; krok(n+1)=8.005809e-002; ng(n+1)=6.531081e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
