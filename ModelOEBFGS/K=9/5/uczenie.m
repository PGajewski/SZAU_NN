%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.109688e+002; foe(n+1)=2.127730e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.721478e+002; foe(n+1)=1.734011e+002; krok(n+1)=5.230348e-004; ng(n+1)=8.231736e+002;
n=2; farx(n+1)=6.487111e+001; foe(n+1)=6.345779e+001; krok(n+1)=1.034502e-002; ng(n+1)=4.235843e+002;
n=3; farx(n+1)=6.370939e+001; foe(n+1)=6.296901e+001; krok(n+1)=1.134788e-003; ng(n+1)=1.240067e+002;
n=4; farx(n+1)=5.437529e+001; foe(n+1)=6.190831e+001; krok(n+1)=5.557598e-003; ng(n+1)=8.502916e+001;
n=5; farx(n+1)=3.300828e+000; foe(n+1)=2.634947e+001; krok(n+1)=1.082825e-002; ng(n+1)=1.966884e+002;
n=6; farx(n+1)=3.081151e+000; foe(n+1)=2.609693e+001; krok(n+1)=5.159175e-006; ng(n+1)=2.250451e+003;
n=7; farx(n+1)=3.163563e+000; foe(n+1)=2.567364e+001; krok(n+1)=2.660052e-003; ng(n+1)=2.526474e+003;
n=8; farx(n+1)=4.017479e+000; foe(n+1)=1.998572e+001; krok(n+1)=4.181404e-003; ng(n+1)=2.561890e+003;
n=9; farx(n+1)=4.222592e+000; foe(n+1)=1.914174e+001; krok(n+1)=1.040497e-003; ng(n+1)=1.492629e+003;
n=10; farx(n+1)=4.403257e+000; foe(n+1)=1.754636e+001; krok(n+1)=5.829556e-003; ng(n+1)=1.104319e+003;
n=11; farx(n+1)=4.299821e+000; foe(n+1)=1.697606e+001; krok(n+1)=4.352613e-003; ng(n+1)=3.881533e+002;
n=12; farx(n+1)=4.157690e+000; foe(n+1)=1.559789e+001; krok(n+1)=1.339882e-002; ng(n+1)=3.551741e+002;
n=13; farx(n+1)=3.827291e+000; foe(n+1)=1.390375e+001; krok(n+1)=3.625910e-003; ng(n+1)=7.046351e+002;
n=14; farx(n+1)=3.522221e+000; foe(n+1)=1.223965e+001; krok(n+1)=2.739044e-003; ng(n+1)=6.096854e+002;
n=15; farx(n+1)=3.041329e+000; foe(n+1)=1.108823e+001; krok(n+1)=8.365102e-003; ng(n+1)=1.070809e+003;
n=16; farx(n+1)=2.207205e+000; foe(n+1)=9.565104e+000; krok(n+1)=1.154146e-002; ng(n+1)=1.200892e+003;
n=17; farx(n+1)=1.319698e+000; foe(n+1)=6.961868e+000; krok(n+1)=9.175071e-003; ng(n+1)=7.222945e+002;
n=18; farx(n+1)=1.153263e+000; foe(n+1)=6.103608e+000; krok(n+1)=1.060828e-003; ng(n+1)=3.923164e+002;
n=19; farx(n+1)=1.138098e+000; foe(n+1)=5.528231e+000; krok(n+1)=9.407062e-004; ng(n+1)=1.193474e+003;
n=20; farx(n+1)=9.255585e-001; foe(n+1)=4.863316e+000; krok(n+1)=2.243330e-002; ng(n+1)=3.261457e+002;
n=21; farx(n+1)=8.180565e-001; foe(n+1)=4.351328e+000; krok(n+1)=1.071180e-002; ng(n+1)=5.430628e+002;
n=22; farx(n+1)=7.842738e-001; foe(n+1)=3.562794e+000; krok(n+1)=2.909519e-003; ng(n+1)=8.544841e+002;
n=23; farx(n+1)=7.738674e-001; foe(n+1)=3.042136e+000; krok(n+1)=4.862884e-003; ng(n+1)=5.077068e+002;
n=24; farx(n+1)=7.776163e-001; foe(n+1)=2.647802e+000; krok(n+1)=3.040838e-002; ng(n+1)=6.374199e+002;
n=25; farx(n+1)=7.569640e-001; foe(n+1)=2.484850e+000; krok(n+1)=8.516524e-003; ng(n+1)=1.944916e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.560759e-001; foe(n+1)=2.416584e+000; krok(n+1)=1.057446e-005; ng(n+1)=3.880136e+002;
n=27; farx(n+1)=7.436564e-001; foe(n+1)=2.338441e+000; krok(n+1)=1.422016e-004; ng(n+1)=9.654236e+001;
n=28; farx(n+1)=7.351690e-001; foe(n+1)=2.304578e+000; krok(n+1)=9.144347e-005; ng(n+1)=8.902143e+001;
n=29; farx(n+1)=6.626001e-001; foe(n+1)=1.687413e+000; krok(n+1)=1.729594e-002; ng(n+1)=2.865031e+001;
n=30; farx(n+1)=6.286156e-001; foe(n+1)=1.608505e+000; krok(n+1)=5.999763e-003; ng(n+1)=9.286705e+001;
n=31; farx(n+1)=5.722899e-001; foe(n+1)=1.400025e+000; krok(n+1)=1.775074e-002; ng(n+1)=6.032508e+001;
n=32; farx(n+1)=5.599429e-001; foe(n+1)=1.366810e+000; krok(n+1)=4.678366e-003; ng(n+1)=2.034111e+002;
n=33; farx(n+1)=5.204091e-001; foe(n+1)=1.270375e+000; krok(n+1)=1.063635e-002; ng(n+1)=1.807810e+002;
n=34; farx(n+1)=5.198169e-001; foe(n+1)=1.194236e+000; krok(n+1)=2.900728e-002; ng(n+1)=1.264508e+002;
n=35; farx(n+1)=5.676174e-001; foe(n+1)=1.139006e+000; krok(n+1)=4.134280e-002; ng(n+1)=6.372068e+001;
n=36; farx(n+1)=5.319967e-001; foe(n+1)=1.087473e+000; krok(n+1)=6.385486e-002; ng(n+1)=9.490040e+001;
n=37; farx(n+1)=5.152377e-001; foe(n+1)=1.040697e+000; krok(n+1)=1.392711e-002; ng(n+1)=1.552581e+002;
n=38; farx(n+1)=5.170484e-001; foe(n+1)=1.027747e+000; krok(n+1)=8.966852e-003; ng(n+1)=8.926770e+001;
n=39; farx(n+1)=5.146527e-001; foe(n+1)=1.005068e+000; krok(n+1)=3.482091e-002; ng(n+1)=5.275990e+001;
n=40; farx(n+1)=4.975996e-001; foe(n+1)=9.612596e-001; krok(n+1)=5.680644e-002; ng(n+1)=6.449401e+001;
n=41; farx(n+1)=4.970587e-001; foe(n+1)=9.374606e-001; krok(n+1)=7.525650e-003; ng(n+1)=1.903489e+002;
n=42; farx(n+1)=4.957064e-001; foe(n+1)=9.019710e-001; krok(n+1)=6.776944e-002; ng(n+1)=7.655794e+001;
n=43; farx(n+1)=4.905575e-001; foe(n+1)=8.898056e-001; krok(n+1)=1.205272e-002; ng(n+1)=1.236809e+002;
n=44; farx(n+1)=4.864262e-001; foe(n+1)=8.762904e-001; krok(n+1)=1.263902e-002; ng(n+1)=6.428135e+001;
n=45; farx(n+1)=4.406473e-001; foe(n+1)=7.955130e-001; krok(n+1)=1.962005e-001; ng(n+1)=9.862175e+001;
n=46; farx(n+1)=4.277562e-001; foe(n+1)=7.800310e-001; krok(n+1)=1.974372e-002; ng(n+1)=1.679931e+002;
n=47; farx(n+1)=4.257847e-001; foe(n+1)=7.686488e-001; krok(n+1)=2.928765e-002; ng(n+1)=7.843524e+001;
n=48; farx(n+1)=4.152513e-001; foe(n+1)=7.543222e-001; krok(n+1)=4.356626e-002; ng(n+1)=2.522017e+001;
n=49; farx(n+1)=3.787491e-001; foe(n+1)=7.084939e-001; krok(n+1)=6.222203e-002; ng(n+1)=6.889527e+001;
n=50; farx(n+1)=3.703066e-001; foe(n+1)=6.949268e-001; krok(n+1)=1.333847e-002; ng(n+1)=1.403247e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
