%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.350640e+002; foe(n+1)=2.334508e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.751354e+002; foe(n+1)=1.724102e+002; krok(n+1)=4.927090e-004; ng(n+1)=1.068446e+003;
n=2; farx(n+1)=7.042545e+001; foe(n+1)=6.244822e+001; krok(n+1)=1.170476e-002; ng(n+1)=3.693701e+002;
n=3; farx(n+1)=6.742727e+001; foe(n+1)=6.180484e+001; krok(n+1)=4.494346e-003; ng(n+1)=6.517123e+001;
n=4; farx(n+1)=4.856427e+001; foe(n+1)=5.903412e+001; krok(n+1)=9.127324e-003; ng(n+1)=1.092113e+002;
n=5; farx(n+1)=2.280500e+001; foe(n+1)=4.426056e+001; krok(n+1)=3.625910e-003; ng(n+1)=3.153718e+002;
n=6; farx(n+1)=1.928075e+001; foe(n+1)=4.150401e+001; krok(n+1)=1.163400e-003; ng(n+1)=5.352001e+002;
n=7; farx(n+1)=1.279233e+001; foe(n+1)=3.284062e+001; krok(n+1)=6.528768e-003; ng(n+1)=6.959526e+002;
n=8; farx(n+1)=1.186945e+001; foe(n+1)=3.144757e+001; krok(n+1)=1.532691e-003; ng(n+1)=9.136450e+002;
n=9; farx(n+1)=1.198729e+001; foe(n+1)=2.902082e+001; krok(n+1)=2.835564e-002; ng(n+1)=5.591695e+002;
n=10; farx(n+1)=9.967184e+000; foe(n+1)=2.783920e+001; krok(n+1)=8.252113e-003; ng(n+1)=2.104171e+002;
n=11; farx(n+1)=7.378406e+000; foe(n+1)=2.411923e+001; krok(n+1)=1.394089e-002; ng(n+1)=6.090732e+002;
n=12; farx(n+1)=6.877003e+000; foe(n+1)=2.252552e+001; krok(n+1)=2.157951e-003; ng(n+1)=4.919296e+002;
n=13; farx(n+1)=6.467128e+000; foe(n+1)=2.156198e+001; krok(n+1)=2.957764e-003; ng(n+1)=2.799445e+002;
n=14; farx(n+1)=6.684843e+000; foe(n+1)=2.075108e+001; krok(n+1)=3.151553e-003; ng(n+1)=5.622202e+002;
n=15; farx(n+1)=5.863632e+000; foe(n+1)=1.868764e+001; krok(n+1)=1.012183e-002; ng(n+1)=4.945861e+002;
n=16; farx(n+1)=5.104742e+000; foe(n+1)=1.606298e+001; krok(n+1)=8.928204e-003; ng(n+1)=7.605563e+002;
n=17; farx(n+1)=4.424600e+000; foe(n+1)=1.523475e+001; krok(n+1)=7.517005e-003; ng(n+1)=5.346182e+002;
n=18; farx(n+1)=3.818274e+000; foe(n+1)=1.348926e+001; krok(n+1)=1.417782e-002; ng(n+1)=6.219313e+002;
n=19; farx(n+1)=3.512924e+000; foe(n+1)=1.233059e+001; krok(n+1)=7.920352e-003; ng(n+1)=2.340805e+002;
n=20; farx(n+1)=3.328336e+000; foe(n+1)=1.087888e+001; krok(n+1)=1.479856e-002; ng(n+1)=5.043971e+002;
n=21; farx(n+1)=3.035931e+000; foe(n+1)=1.010544e+001; krok(n+1)=3.990004e-003; ng(n+1)=7.888978e+002;
n=22; farx(n+1)=2.741628e+000; foe(n+1)=9.594092e+000; krok(n+1)=1.314565e-002; ng(n+1)=4.873793e+002;
n=23; farx(n+1)=2.647274e+000; foe(n+1)=8.984688e+000; krok(n+1)=7.242402e-003; ng(n+1)=5.749231e+002;
n=24; farx(n+1)=2.433822e+000; foe(n+1)=8.373518e+000; krok(n+1)=3.094863e-002; ng(n+1)=2.371414e+002;
n=25; farx(n+1)=2.253139e+000; foe(n+1)=7.639592e+000; krok(n+1)=2.788265e-002; ng(n+1)=4.113657e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.255547e+000; foe(n+1)=7.622975e+000; krok(n+1)=3.039391e-005; ng(n+1)=9.640834e+001;
n=27; farx(n+1)=2.239507e+000; foe(n+1)=7.594461e+000; krok(n+1)=8.808370e-005; ng(n+1)=8.574318e+001;
n=28; farx(n+1)=2.118234e+000; foe(n+1)=7.463828e+000; krok(n+1)=2.900353e-004; ng(n+1)=8.677311e+001;
n=29; farx(n+1)=1.882160e+000; foe(n+1)=5.999933e+000; krok(n+1)=1.889294e-003; ng(n+1)=1.134199e+002;
n=30; farx(n+1)=1.867535e+000; foe(n+1)=5.646677e+000; krok(n+1)=2.133311e-003; ng(n+1)=3.404740e+002;
n=31; farx(n+1)=1.724777e+000; foe(n+1)=4.629084e+000; krok(n+1)=1.095618e-002; ng(n+1)=2.416998e+002;
n=32; farx(n+1)=1.645719e+000; foe(n+1)=4.184498e+000; krok(n+1)=1.000091e-002; ng(n+1)=1.759693e+002;
n=33; farx(n+1)=1.549175e+000; foe(n+1)=3.623956e+000; krok(n+1)=6.893113e-003; ng(n+1)=3.292088e+002;
n=34; farx(n+1)=1.448793e+000; foe(n+1)=3.187169e+000; krok(n+1)=2.594061e-002; ng(n+1)=2.051939e+002;
n=35; farx(n+1)=1.377749e+000; foe(n+1)=2.980737e+000; krok(n+1)=3.813159e-003; ng(n+1)=2.102509e+002;
n=36; farx(n+1)=1.263803e+000; foe(n+1)=2.700696e+000; krok(n+1)=2.876670e-002; ng(n+1)=1.986366e+002;
n=37; farx(n+1)=1.207993e+000; foe(n+1)=2.551282e+000; krok(n+1)=1.012568e-002; ng(n+1)=1.184898e+002;
n=38; farx(n+1)=1.175094e+000; foe(n+1)=2.399191e+000; krok(n+1)=4.150488e-003; ng(n+1)=2.474627e+002;
n=39; farx(n+1)=1.145487e+000; foe(n+1)=2.268315e+000; krok(n+1)=1.884952e-002; ng(n+1)=1.150966e+002;
n=40; farx(n+1)=1.134054e+000; foe(n+1)=2.174734e+000; krok(n+1)=9.439199e-003; ng(n+1)=2.541006e+002;
n=41; farx(n+1)=1.079138e+000; foe(n+1)=2.070333e+000; krok(n+1)=2.011176e-002; ng(n+1)=1.084635e+002;
n=42; farx(n+1)=9.965657e-001; foe(n+1)=1.916281e+000; krok(n+1)=1.935565e-002; ng(n+1)=9.682758e+001;
n=43; farx(n+1)=8.646495e-001; foe(n+1)=1.705489e+000; krok(n+1)=3.370660e-002; ng(n+1)=1.286650e+002;
n=44; farx(n+1)=8.162676e-001; foe(n+1)=1.640305e+000; krok(n+1)=1.740861e-002; ng(n+1)=1.615392e+002;
n=45; farx(n+1)=7.349351e-001; foe(n+1)=1.551777e+000; krok(n+1)=2.539936e-002; ng(n+1)=7.455747e+001;
n=46; farx(n+1)=6.439419e-001; foe(n+1)=1.430310e+000; krok(n+1)=3.154139e-002; ng(n+1)=2.401278e+002;
n=47; farx(n+1)=6.281733e-001; foe(n+1)=1.410229e+000; krok(n+1)=3.707239e-003; ng(n+1)=1.831555e+002;
n=48; farx(n+1)=5.906626e-001; foe(n+1)=1.330853e+000; krok(n+1)=6.045742e-002; ng(n+1)=1.527249e+002;
n=49; farx(n+1)=5.540642e-001; foe(n+1)=1.249156e+000; krok(n+1)=5.558094e-002; ng(n+1)=2.275437e+002;
n=50; farx(n+1)=5.324835e-001; foe(n+1)=1.194854e+000; krok(n+1)=1.545508e-001; ng(n+1)=3.018888e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
