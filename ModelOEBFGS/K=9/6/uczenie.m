%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.324311e+002; foe(n+1)=2.240025e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.823501e+002; foe(n+1)=1.761020e+002; krok(n+1)=5.252174e-004; ng(n+1)=8.454825e+002;
n=2; farx(n+1)=6.457351e+001; foe(n+1)=6.343515e+001; krok(n+1)=1.521910e-002; ng(n+1)=3.584688e+002;
n=3; farx(n+1)=4.833670e+001; foe(n+1)=6.143739e+001; krok(n+1)=1.205272e-002; ng(n+1)=7.471026e+001;
n=4; farx(n+1)=5.377736e+000; foe(n+1)=3.861699e+001; krok(n+1)=3.485222e-003; ng(n+1)=3.263335e+002;
n=5; farx(n+1)=4.721532e+000; foe(n+1)=3.821654e+001; krok(n+1)=2.272267e-006; ng(n+1)=2.294130e+003;
n=6; farx(n+1)=4.669786e+000; foe(n+1)=3.810148e+001; krok(n+1)=6.946998e-004; ng(n+1)=2.690978e+003;
n=7; farx(n+1)=8.359456e+000; foe(n+1)=2.983225e+001; krok(n+1)=3.830459e-002; ng(n+1)=2.826573e+003;
n=8; farx(n+1)=9.345170e+000; foe(n+1)=2.841771e+001; krok(n+1)=1.569452e-004; ng(n+1)=1.823149e+003;
n=9; farx(n+1)=9.669911e+000; foe(n+1)=2.719257e+001; krok(n+1)=2.921865e-003; ng(n+1)=1.489084e+003;
n=10; farx(n+1)=9.688935e+000; foe(n+1)=2.471690e+001; krok(n+1)=3.899772e-003; ng(n+1)=9.013551e+002;
n=11; farx(n+1)=9.264671e+000; foe(n+1)=2.115884e+001; krok(n+1)=1.309024e-002; ng(n+1)=6.108020e+002;
n=12; farx(n+1)=9.083788e+000; foe(n+1)=2.038991e+001; krok(n+1)=2.063134e-003; ng(n+1)=5.689655e+002;
n=13; farx(n+1)=8.191047e+000; foe(n+1)=1.898563e+001; krok(n+1)=7.088910e-003; ng(n+1)=1.996304e+002;
n=14; farx(n+1)=6.885105e+000; foe(n+1)=1.771828e+001; krok(n+1)=7.366454e-003; ng(n+1)=4.797015e+002;
n=15; farx(n+1)=5.333674e+000; foe(n+1)=1.600296e+001; krok(n+1)=8.130648e-003; ng(n+1)=5.240438e+002;
n=16; farx(n+1)=4.073970e+000; foe(n+1)=1.453466e+001; krok(n+1)=1.532691e-003; ng(n+1)=7.968077e+002;
n=17; farx(n+1)=2.210825e+000; foe(n+1)=1.035484e+001; krok(n+1)=3.852167e-003; ng(n+1)=1.771093e+003;
n=18; farx(n+1)=1.603249e+000; foe(n+1)=8.868643e+000; krok(n+1)=3.656039e-004; ng(n+1)=2.373143e+003;
n=19; farx(n+1)=1.290453e+000; foe(n+1)=7.923472e+000; krok(n+1)=2.349366e-003; ng(n+1)=2.144918e+003;
n=20; farx(n+1)=8.577914e-001; foe(n+1)=6.266774e+000; krok(n+1)=1.476722e-003; ng(n+1)=2.036855e+003;
n=21; farx(n+1)=8.124055e-001; foe(n+1)=5.785257e+000; krok(n+1)=1.376894e-002; ng(n+1)=7.893723e+002;
n=22; farx(n+1)=7.767070e-001; foe(n+1)=5.399154e+000; krok(n+1)=3.176507e-003; ng(n+1)=7.365465e+002;
n=23; farx(n+1)=7.350944e-001; foe(n+1)=5.047966e+000; krok(n+1)=2.041615e-003; ng(n+1)=3.643065e+002;
n=24; farx(n+1)=6.972350e-001; foe(n+1)=4.548973e+000; krok(n+1)=2.239224e-003; ng(n+1)=1.382182e+003;
n=25; farx(n+1)=6.505042e-001; foe(n+1)=3.882362e+000; krok(n+1)=1.360047e-002; ng(n+1)=5.643190e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=6.558049e-001; foe(n+1)=3.620686e+000; krok(n+1)=3.044565e-006; ng(n+1)=1.517444e+003;
n=27; farx(n+1)=6.581767e-001; foe(n+1)=3.607789e+000; krok(n+1)=1.961815e-005; ng(n+1)=1.192973e+002;
n=28; farx(n+1)=6.612934e-001; foe(n+1)=3.579412e+000; krok(n+1)=2.852289e-004; ng(n+1)=4.667169e+001;
n=29; farx(n+1)=5.991639e-001; foe(n+1)=2.960638e+000; krok(n+1)=3.942116e-003; ng(n+1)=8.073513e+001;
n=30; farx(n+1)=6.216407e-001; foe(n+1)=2.736619e+000; krok(n+1)=2.553842e-003; ng(n+1)=7.635394e+002;
n=31; farx(n+1)=6.341776e-001; foe(n+1)=2.540256e+000; krok(n+1)=2.316587e-003; ng(n+1)=8.340478e+002;
n=32; farx(n+1)=5.569738e-001; foe(n+1)=2.121347e+000; krok(n+1)=1.111520e-002; ng(n+1)=3.364712e+002;
n=33; farx(n+1)=5.964056e-001; foe(n+1)=1.876275e+000; krok(n+1)=6.390530e-003; ng(n+1)=7.737232e+002;
n=34; farx(n+1)=6.329234e-001; foe(n+1)=1.674832e+000; krok(n+1)=3.709130e-003; ng(n+1)=3.970103e+002;
n=35; farx(n+1)=5.743502e-001; foe(n+1)=1.480901e+000; krok(n+1)=1.352965e-002; ng(n+1)=1.662429e+002;
n=36; farx(n+1)=5.419910e-001; foe(n+1)=1.336551e+000; krok(n+1)=8.625805e-003; ng(n+1)=3.891419e+002;
n=37; farx(n+1)=4.726945e-001; foe(n+1)=1.159150e+000; krok(n+1)=2.085765e-002; ng(n+1)=1.528252e+002;
n=38; farx(n+1)=4.680234e-001; foe(n+1)=1.092251e+000; krok(n+1)=4.648167e-003; ng(n+1)=4.170366e+002;
n=39; farx(n+1)=4.577646e-001; foe(n+1)=1.014680e+000; krok(n+1)=8.483440e-003; ng(n+1)=1.364795e+002;
n=40; farx(n+1)=4.787372e-001; foe(n+1)=9.938912e-001; krok(n+1)=1.564801e-002; ng(n+1)=1.148155e+002;
n=41; farx(n+1)=5.124650e-001; foe(n+1)=9.748633e-001; krok(n+1)=1.548166e-002; ng(n+1)=7.655540e+001;
n=42; farx(n+1)=5.332639e-001; foe(n+1)=9.153374e-001; krok(n+1)=5.214880e-002; ng(n+1)=9.337494e+001;
n=43; farx(n+1)=5.007429e-001; foe(n+1)=8.969052e-001; krok(n+1)=3.535818e-002; ng(n+1)=9.674043e+001;
n=44; farx(n+1)=4.627460e-001; foe(n+1)=8.675885e-001; krok(n+1)=3.264474e-002; ng(n+1)=1.291031e+002;
n=45; farx(n+1)=4.440200e-001; foe(n+1)=8.491148e-001; krok(n+1)=1.661484e-002; ng(n+1)=1.286551e+002;
n=46; farx(n+1)=4.176094e-001; foe(n+1)=8.208031e-001; krok(n+1)=2.572279e-002; ng(n+1)=1.354544e+002;
n=47; farx(n+1)=4.066249e-001; foe(n+1)=7.972201e-001; krok(n+1)=2.812841e-002; ng(n+1)=8.017596e+001;
n=48; farx(n+1)=3.856981e-001; foe(n+1)=7.312892e-001; krok(n+1)=4.446078e-002; ng(n+1)=2.636575e+002;
n=49; farx(n+1)=3.843208e-001; foe(n+1)=7.142431e-001; krok(n+1)=2.977118e-002; ng(n+1)=1.214835e+002;
n=50; farx(n+1)=3.791942e-001; foe(n+1)=7.065779e-001; krok(n+1)=2.727111e-002; ng(n+1)=1.211776e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
