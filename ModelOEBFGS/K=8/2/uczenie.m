%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.121270e+002; foe(n+1)=2.138764e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.823193e+002; foe(n+1)=1.830768e+002; krok(n+1)=5.266656e-004; ng(n+1)=6.996101e+002;
n=2; farx(n+1)=1.476939e+002; foe(n+1)=1.424025e+002; krok(n+1)=7.032104e-003; ng(n+1)=3.289382e+002;
n=3; farx(n+1)=6.438635e+001; foe(n+1)=6.298221e+001; krok(n+1)=1.758026e-003; ng(n+1)=7.506844e+002;
n=4; farx(n+1)=6.248454e+001; foe(n+1)=6.249436e+001; krok(n+1)=1.118523e-003; ng(n+1)=1.012170e+002;
n=5; farx(n+1)=4.934322e+001; foe(n+1)=6.094627e+001; krok(n+1)=5.946996e-003; ng(n+1)=8.718337e+001;
n=6; farx(n+1)=3.507376e+001; foe(n+1)=4.909041e+001; krok(n+1)=7.301859e-002; ng(n+1)=2.512329e+002;
n=7; farx(n+1)=2.835233e+001; foe(n+1)=4.243902e+001; krok(n+1)=5.433546e-003; ng(n+1)=3.432727e+002;
n=8; farx(n+1)=2.504559e+001; foe(n+1)=3.989999e+001; krok(n+1)=6.459813e-004; ng(n+1)=5.647336e+002;
n=9; farx(n+1)=1.842705e+001; foe(n+1)=3.661130e+001; krok(n+1)=1.142218e-002; ng(n+1)=7.537766e+002;
n=10; farx(n+1)=1.544844e+001; foe(n+1)=3.437479e+001; krok(n+1)=1.949886e-003; ng(n+1)=1.175741e+003;
n=11; farx(n+1)=1.428424e+001; foe(n+1)=3.304606e+001; krok(n+1)=4.271237e-003; ng(n+1)=1.092073e+003;
n=12; farx(n+1)=1.386826e+001; foe(n+1)=3.215086e+001; krok(n+1)=7.152527e-003; ng(n+1)=8.361003e+002;
n=13; farx(n+1)=1.310588e+001; foe(n+1)=3.058280e+001; krok(n+1)=2.107682e-002; ng(n+1)=4.472775e+002;
n=14; farx(n+1)=1.216821e+001; foe(n+1)=2.690593e+001; krok(n+1)=1.196180e-002; ng(n+1)=7.995486e+002;
n=15; farx(n+1)=1.120433e+001; foe(n+1)=2.594879e+001; krok(n+1)=1.091588e-002; ng(n+1)=1.191494e+002;
n=16; farx(n+1)=1.089698e+001; foe(n+1)=2.539947e+001; krok(n+1)=4.736926e-003; ng(n+1)=3.860276e+002;
n=17; farx(n+1)=1.058319e+001; foe(n+1)=2.479080e+001; krok(n+1)=5.680993e-003; ng(n+1)=2.793345e+002;
n=18; farx(n+1)=8.228792e+000; foe(n+1)=2.271820e+001; krok(n+1)=1.785641e-002; ng(n+1)=1.583002e+002;
n=19; farx(n+1)=6.493009e+000; foe(n+1)=2.073316e+001; krok(n+1)=3.400118e-003; ng(n+1)=6.790730e+002;
n=20; farx(n+1)=5.747805e+000; foe(n+1)=1.992053e+001; krok(n+1)=2.923005e-003; ng(n+1)=7.359276e+002;
n=21; farx(n+1)=5.355237e+000; foe(n+1)=1.925365e+001; krok(n+1)=6.525058e-003; ng(n+1)=8.475620e+002;
n=22; farx(n+1)=4.855563e+000; foe(n+1)=1.568122e+001; krok(n+1)=1.012183e-002; ng(n+1)=9.546802e+002;
n=23; farx(n+1)=4.820030e+000; foe(n+1)=1.516422e+001; krok(n+1)=8.522871e-004; ng(n+1)=6.938957e+002;
n=24; farx(n+1)=4.724652e+000; foe(n+1)=1.370369e+001; krok(n+1)=6.071802e-003; ng(n+1)=6.200204e+002;
n=25; farx(n+1)=4.684487e+000; foe(n+1)=1.298989e+001; krok(n+1)=2.132304e-003; ng(n+1)=8.001331e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.691610e+000; foe(n+1)=1.256732e+001; krok(n+1)=3.282609e-005; ng(n+1)=4.617691e+002;
n=27; farx(n+1)=4.716570e+000; foe(n+1)=1.233273e+001; krok(n+1)=2.722915e-005; ng(n+1)=4.093862e+002;
n=28; farx(n+1)=3.941946e+000; foe(n+1)=1.081828e+001; krok(n+1)=5.294487e-004; ng(n+1)=2.356836e+002;
n=29; farx(n+1)=3.922059e+000; foe(n+1)=1.064536e+001; krok(n+1)=5.391128e-004; ng(n+1)=5.581931e+002;
n=30; farx(n+1)=2.535920e+000; foe(n+1)=7.587077e+000; krok(n+1)=8.426649e-003; ng(n+1)=6.002285e+002;
n=31; farx(n+1)=2.162079e+000; foe(n+1)=6.379060e+000; krok(n+1)=8.181403e-004; ng(n+1)=1.162826e+003;
n=32; farx(n+1)=1.810193e+000; foe(n+1)=5.583153e+000; krok(n+1)=1.772228e-003; ng(n+1)=1.658447e+002;
n=33; farx(n+1)=1.614844e+000; foe(n+1)=4.856635e+000; krok(n+1)=4.447430e-003; ng(n+1)=5.947145e+002;
n=34; farx(n+1)=1.238819e+000; foe(n+1)=2.390003e+000; krok(n+1)=6.819101e-003; ng(n+1)=8.100921e+002;
n=35; farx(n+1)=1.220014e+000; foe(n+1)=2.291829e+000; krok(n+1)=1.670282e-003; ng(n+1)=2.902228e+002;
n=36; farx(n+1)=1.100402e+000; foe(n+1)=1.894343e+000; krok(n+1)=1.349272e-002; ng(n+1)=2.163615e+002;
n=37; farx(n+1)=1.081348e+000; foe(n+1)=1.794315e+000; krok(n+1)=6.669234e-003; ng(n+1)=1.736417e+002;
n=38; farx(n+1)=9.185067e-001; foe(n+1)=1.584402e+000; krok(n+1)=2.107682e-002; ng(n+1)=1.534291e+002;
n=39; farx(n+1)=8.893229e-001; foe(n+1)=1.547141e+000; krok(n+1)=5.836445e-003; ng(n+1)=1.776393e+002;
n=40; farx(n+1)=7.653885e-001; foe(n+1)=1.450897e+000; krok(n+1)=1.640862e-002; ng(n+1)=8.021697e+001;
n=41; farx(n+1)=7.090013e-001; foe(n+1)=1.392188e+000; krok(n+1)=4.130221e-002; ng(n+1)=6.495359e+001;
n=42; farx(n+1)=6.788218e-001; foe(n+1)=1.365608e+000; krok(n+1)=1.696688e-002; ng(n+1)=8.189086e+001;
n=43; farx(n+1)=6.497599e-001; foe(n+1)=1.325570e+000; krok(n+1)=2.868906e-002; ng(n+1)=1.176201e+002;
n=44; farx(n+1)=6.191411e-001; foe(n+1)=1.252443e+000; krok(n+1)=7.610620e-002; ng(n+1)=1.003413e+002;
n=45; farx(n+1)=5.968678e-001; foe(n+1)=1.191841e+000; krok(n+1)=5.793922e-002; ng(n+1)=1.428850e+002;
n=46; farx(n+1)=5.951601e-001; foe(n+1)=1.119979e+000; krok(n+1)=3.825942e-002; ng(n+1)=1.167319e+002;
n=47; farx(n+1)=5.965794e-001; foe(n+1)=1.095130e+000; krok(n+1)=1.405854e-002; ng(n+1)=2.328596e+002;
n=48; farx(n+1)=5.885184e-001; foe(n+1)=1.058627e+000; krok(n+1)=3.120433e-002; ng(n+1)=6.567551e+001;
n=49; farx(n+1)=5.743362e-001; foe(n+1)=9.913666e-001; krok(n+1)=8.268560e-002; ng(n+1)=9.896655e+001;
n=50; farx(n+1)=5.659174e-001; foe(n+1)=9.708844e-001; krok(n+1)=3.650930e-002; ng(n+1)=1.378332e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
