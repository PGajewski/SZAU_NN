%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.984547e+002; foe(n+1)=1.970864e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.624980e+002; foe(n+1)=1.621040e+002; krok(n+1)=5.504055e-004; ng(n+1)=7.526622e+002;
n=2; farx(n+1)=6.378704e+001; foe(n+1)=6.796493e+001; krok(n+1)=6.042575e-003; ng(n+1)=4.455674e+002;
n=3; farx(n+1)=5.953708e+001; foe(n+1)=6.240111e+001; krok(n+1)=1.830478e-003; ng(n+1)=3.474175e+002;
n=4; farx(n+1)=5.383341e+001; foe(n+1)=6.123036e+001; krok(n+1)=9.876893e-003; ng(n+1)=7.526974e+001;
n=5; farx(n+1)=2.296047e+001; foe(n+1)=5.386464e+001; krok(n+1)=1.291090e-002; ng(n+1)=1.650911e+002;
n=6; farx(n+1)=8.336992e+000; foe(n+1)=4.719503e+001; krok(n+1)=3.427028e-003; ng(n+1)=7.970520e+002;
n=7; farx(n+1)=5.473788e+000; foe(n+1)=4.543595e+001; krok(n+1)=2.064885e-004; ng(n+1)=1.882278e+003;
n=8; farx(n+1)=3.743787e+000; foe(n+1)=4.056672e+001; krok(n+1)=5.197906e-003; ng(n+1)=2.789708e+003;
n=9; farx(n+1)=3.589164e+000; foe(n+1)=4.020373e+001; krok(n+1)=1.361415e-005; ng(n+1)=4.974959e+003;
n=10; farx(n+1)=3.654550e+000; foe(n+1)=3.995838e+001; krok(n+1)=1.338974e-003; ng(n+1)=5.476657e+003;
n=11; farx(n+1)=4.989247e+000; foe(n+1)=2.605904e+001; krok(n+1)=3.481722e-002; ng(n+1)=5.169153e+003;
n=12; farx(n+1)=5.882137e+000; foe(n+1)=2.400329e+001; krok(n+1)=6.090040e-004; ng(n+1)=3.101029e+003;
n=13; farx(n+1)=6.530492e+000; foe(n+1)=2.302929e+001; krok(n+1)=1.830478e-003; ng(n+1)=2.560830e+003;
n=14; farx(n+1)=6.858205e+000; foe(n+1)=2.037340e+001; krok(n+1)=4.255284e-003; ng(n+1)=1.689099e+003;
n=15; farx(n+1)=6.843433e+000; foe(n+1)=1.904484e+001; krok(n+1)=4.761479e-003; ng(n+1)=1.099220e+003;
n=16; farx(n+1)=6.834683e+000; foe(n+1)=1.679156e+001; krok(n+1)=1.086709e-002; ng(n+1)=8.351170e+002;
n=17; farx(n+1)=6.401934e+000; foe(n+1)=1.481459e+001; krok(n+1)=6.951230e-003; ng(n+1)=5.186785e+002;
n=18; farx(n+1)=5.090602e+000; foe(n+1)=1.262971e+001; krok(n+1)=1.750226e-002; ng(n+1)=4.453691e+002;
n=19; farx(n+1)=4.622398e+000; foe(n+1)=1.197126e+001; krok(n+1)=4.221744e-003; ng(n+1)=4.743170e+002;
n=20; farx(n+1)=3.584236e+000; foe(n+1)=1.050572e+001; krok(n+1)=4.049572e-003; ng(n+1)=3.988914e+002;
n=21; farx(n+1)=2.901509e+000; foe(n+1)=9.418764e+000; krok(n+1)=2.187783e-003; ng(n+1)=7.864464e+002;
n=22; farx(n+1)=2.006674e+000; foe(n+1)=7.805486e+000; krok(n+1)=1.399673e-002; ng(n+1)=7.126362e+002;
n=23; farx(n+1)=1.878971e+000; foe(n+1)=7.299766e+000; krok(n+1)=2.080994e-003; ng(n+1)=3.457570e+002;
n=24; farx(n+1)=1.549346e+000; foe(n+1)=5.888519e+000; krok(n+1)=8.704305e-003; ng(n+1)=9.218107e+002;
n=25; farx(n+1)=1.408071e+000; foe(n+1)=5.174881e+000; krok(n+1)=5.003630e-003; ng(n+1)=7.116147e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.400738e+000; foe(n+1)=4.674958e+000; krok(n+1)=3.632716e-006; ng(n+1)=1.404567e+003;
n=27; farx(n+1)=1.402473e+000; foe(n+1)=4.537632e+000; krok(n+1)=1.976919e-005; ng(n+1)=4.051625e+002;
n=28; farx(n+1)=1.422551e+000; foe(n+1)=4.474601e+000; krok(n+1)=5.018139e-004; ng(n+1)=7.143118e+001;
n=29; farx(n+1)=1.380589e+000; foe(n+1)=3.351652e+000; krok(n+1)=4.221744e-003; ng(n+1)=1.521122e+002;
n=30; farx(n+1)=1.370806e+000; foe(n+1)=3.139716e+000; krok(n+1)=1.739067e-003; ng(n+1)=2.713839e+002;
n=31; farx(n+1)=1.288665e+000; foe(n+1)=2.912599e+000; krok(n+1)=1.086709e-002; ng(n+1)=3.333964e+002;
n=32; farx(n+1)=1.208265e+000; foe(n+1)=2.733939e+000; krok(n+1)=2.110724e-003; ng(n+1)=5.165072e+002;
n=33; farx(n+1)=1.007753e+000; foe(n+1)=2.445115e+000; krok(n+1)=1.131031e-002; ng(n+1)=2.371290e+002;
n=34; farx(n+1)=9.598644e-001; foe(n+1)=2.343696e+000; krok(n+1)=4.738412e-003; ng(n+1)=3.013877e+002;
n=35; farx(n+1)=9.442989e-001; foe(n+1)=2.268131e+000; krok(n+1)=9.127324e-003; ng(n+1)=1.117993e+002;
n=36; farx(n+1)=8.907205e-001; foe(n+1)=2.131325e+000; krok(n+1)=1.333847e-002; ng(n+1)=2.802045e+002;
n=37; farx(n+1)=8.826120e-001; foe(n+1)=2.042236e+000; krok(n+1)=8.108299e-003; ng(n+1)=4.033454e+002;
n=38; farx(n+1)=8.499329e-001; foe(n+1)=1.937369e+000; krok(n+1)=2.362755e-002; ng(n+1)=5.860112e+001;
n=39; farx(n+1)=7.538027e-001; foe(n+1)=1.761025e+000; krok(n+1)=2.490870e-002; ng(n+1)=3.833056e+002;
n=40; farx(n+1)=7.221428e-001; foe(n+1)=1.722747e+000; krok(n+1)=2.021294e-003; ng(n+1)=2.990749e+002;
n=41; farx(n+1)=6.316964e-001; foe(n+1)=1.582408e+000; krok(n+1)=7.841323e-002; ng(n+1)=1.507116e+002;
n=42; farx(n+1)=6.339457e-001; foe(n+1)=1.509483e+000; krok(n+1)=6.947618e-003; ng(n+1)=3.590376e+002;
n=43; farx(n+1)=6.217187e-001; foe(n+1)=1.451331e+000; krok(n+1)=1.199953e-002; ng(n+1)=2.706555e+002;
n=44; farx(n+1)=6.275016e-001; foe(n+1)=1.402979e+000; krok(n+1)=1.525264e-002; ng(n+1)=2.221096e+002;
n=45; farx(n+1)=6.538927e-001; foe(n+1)=1.307441e+000; krok(n+1)=2.617232e-002; ng(n+1)=9.963823e+001;
n=46; farx(n+1)=6.572356e-001; foe(n+1)=1.250658e+000; krok(n+1)=4.568872e-002; ng(n+1)=8.352164e+001;
n=47; farx(n+1)=6.668817e-001; foe(n+1)=1.198917e+000; krok(n+1)=4.715694e-002; ng(n+1)=1.377282e+002;
n=48; farx(n+1)=6.364794e-001; foe(n+1)=1.167590e+000; krok(n+1)=3.079079e-002; ng(n+1)=1.014933e+002;
n=49; farx(n+1)=5.298008e-001; foe(n+1)=1.062525e+000; krok(n+1)=2.191235e-002; ng(n+1)=2.036956e+002;
n=50; farx(n+1)=4.879090e-001; foe(n+1)=1.043021e+000; krok(n+1)=3.012318e-002; ng(n+1)=5.452248e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
