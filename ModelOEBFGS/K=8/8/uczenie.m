%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.131263e+002; foe(n+1)=2.098526e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.808596e+002; foe(n+1)=1.780832e+002; krok(n+1)=5.394877e-004; ng(n+1)=7.509160e+002;
n=2; farx(n+1)=6.728481e+001; foe(n+1)=6.797767e+001; krok(n+1)=1.725161e-002; ng(n+1)=3.754811e+002;
n=3; farx(n+1)=5.890388e+001; foe(n+1)=6.144604e+001; krok(n+1)=4.079127e-004; ng(n+1)=6.797176e+002;
n=4; farx(n+1)=5.683203e+001; foe(n+1)=6.061328e+001; krok(n+1)=8.160960e-004; ng(n+1)=1.710155e+002;
n=5; farx(n+1)=1.988538e+001; foe(n+1)=4.893871e+001; krok(n+1)=1.857911e-002; ng(n+1)=7.521265e+001;
n=6; farx(n+1)=6.080661e+000; foe(n+1)=3.231166e+001; krok(n+1)=4.667933e-003; ng(n+1)=9.081464e+002;
n=7; farx(n+1)=5.968173e+000; foe(n+1)=3.195568e+001; krok(n+1)=1.525247e-005; ng(n+1)=3.525061e+003;
n=8; farx(n+1)=6.330863e+000; foe(n+1)=3.132171e+001; krok(n+1)=1.605669e-003; ng(n+1)=3.531933e+003;
n=9; farx(n+1)=7.804640e+000; foe(n+1)=2.825116e+001; krok(n+1)=1.481935e-002; ng(n+1)=3.108437e+003;
n=10; farx(n+1)=7.928485e+000; foe(n+1)=2.693030e+001; krok(n+1)=2.232322e-003; ng(n+1)=1.870652e+003;
n=11; farx(n+1)=8.412624e+000; foe(n+1)=2.373300e+001; krok(n+1)=7.191676e-003; ng(n+1)=1.100641e+003;
n=12; farx(n+1)=8.893915e+000; foe(n+1)=2.071550e+001; krok(n+1)=4.449709e-003; ng(n+1)=7.077740e+002;
n=13; farx(n+1)=8.171216e+000; foe(n+1)=1.905739e+001; krok(n+1)=2.261999e-002; ng(n+1)=1.958192e+002;
n=14; farx(n+1)=7.329491e+000; foe(n+1)=1.678476e+001; krok(n+1)=1.417782e-002; ng(n+1)=3.989309e+002;
n=15; farx(n+1)=7.035281e+000; foe(n+1)=1.610016e+001; krok(n+1)=3.214272e-003; ng(n+1)=3.063806e+002;
n=16; farx(n+1)=6.536847e+000; foe(n+1)=1.518608e+001; krok(n+1)=5.478088e-003; ng(n+1)=1.906221e+002;
n=17; farx(n+1)=4.701213e+000; foe(n+1)=1.172186e+001; krok(n+1)=3.387226e-002; ng(n+1)=3.018208e+002;
n=18; farx(n+1)=4.473065e+000; foe(n+1)=1.109657e+001; krok(n+1)=1.587460e-003; ng(n+1)=8.467642e+002;
n=19; farx(n+1)=4.231466e+000; foe(n+1)=1.044415e+001; krok(n+1)=6.023036e-004; ng(n+1)=5.708324e+002;
n=20; farx(n+1)=3.724653e+000; foe(n+1)=9.432437e+000; krok(n+1)=4.001696e-003; ng(n+1)=2.925072e+002;
n=21; farx(n+1)=3.479101e+000; foe(n+1)=9.180003e+000; krok(n+1)=3.778589e-003; ng(n+1)=1.120690e+003;
n=22; farx(n+1)=2.649367e+000; foe(n+1)=7.479090e+000; krok(n+1)=1.391254e-002; ng(n+1)=1.285914e+003;
n=23; farx(n+1)=2.124162e+000; foe(n+1)=6.109692e+000; krok(n+1)=3.248447e-003; ng(n+1)=1.204194e+003;
n=24; farx(n+1)=1.936582e+000; foe(n+1)=5.837893e+000; krok(n+1)=3.485222e-003; ng(n+1)=2.751175e+002;
n=25; farx(n+1)=1.720296e+000; foe(n+1)=5.377750e+000; krok(n+1)=1.975828e-002; ng(n+1)=1.987184e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.705949e+000; foe(n+1)=5.144337e+000; krok(n+1)=1.178746e-005; ng(n+1)=5.840287e+002;
n=27; farx(n+1)=1.718470e+000; foe(n+1)=5.069703e+000; krok(n+1)=1.782680e-005; ng(n+1)=2.291679e+002;
n=28; farx(n+1)=1.654853e+000; foe(n+1)=4.881255e+000; krok(n+1)=3.019151e-004; ng(n+1)=1.021488e+002;
n=29; farx(n+1)=1.609807e+000; foe(n+1)=4.642092e+000; krok(n+1)=8.704444e-004; ng(n+1)=8.011174e+001;
n=30; farx(n+1)=1.526621e+000; foe(n+1)=3.347519e+000; krok(n+1)=5.282547e-003; ng(n+1)=6.369334e+001;
n=31; farx(n+1)=1.486117e+000; foe(n+1)=2.739156e+000; krok(n+1)=2.634602e-003; ng(n+1)=6.955417e+002;
n=32; farx(n+1)=1.291959e+000; foe(n+1)=2.312433e+000; krok(n+1)=1.680696e-002; ng(n+1)=2.362821e+002;
n=33; farx(n+1)=1.133471e+000; foe(n+1)=1.908738e+000; krok(n+1)=1.033570e-002; ng(n+1)=4.404212e+002;
n=34; farx(n+1)=9.585295e-001; foe(n+1)=1.734432e+000; krok(n+1)=1.464382e-002; ng(n+1)=2.096053e+002;
n=35; farx(n+1)=8.567329e-001; foe(n+1)=1.615752e+000; krok(n+1)=8.806488e-003; ng(n+1)=2.315266e+002;
n=36; farx(n+1)=7.914148e-001; foe(n+1)=1.560044e+000; krok(n+1)=1.952078e-002; ng(n+1)=1.642354e+002;
n=37; farx(n+1)=7.391781e-001; foe(n+1)=1.514623e+000; krok(n+1)=1.007231e-002; ng(n+1)=8.758032e+001;
n=38; farx(n+1)=6.333990e-001; foe(n+1)=1.414481e+000; krok(n+1)=2.896961e-002; ng(n+1)=1.074311e+002;
n=39; farx(n+1)=5.908318e-001; foe(n+1)=1.331632e+000; krok(n+1)=2.223039e-002; ng(n+1)=2.018862e+002;
n=40; farx(n+1)=5.791752e-001; foe(n+1)=1.299950e+000; krok(n+1)=1.450364e-002; ng(n+1)=1.144100e+002;
n=41; farx(n+1)=5.474224e-001; foe(n+1)=1.191309e+000; krok(n+1)=5.695205e-002; ng(n+1)=1.908682e+002;
n=42; farx(n+1)=5.470952e-001; foe(n+1)=1.179351e+000; krok(n+1)=7.453659e-003; ng(n+1)=1.259109e+002;
n=43; farx(n+1)=5.506486e-001; foe(n+1)=1.136152e+000; krok(n+1)=4.219480e-002; ng(n+1)=4.336945e+001;
n=44; farx(n+1)=5.192104e-001; foe(n+1)=1.053880e+000; krok(n+1)=3.882853e-002; ng(n+1)=1.205816e+002;
n=45; farx(n+1)=5.158665e-001; foe(n+1)=1.039207e+000; krok(n+1)=2.128042e-002; ng(n+1)=7.052569e+001;
n=46; farx(n+1)=5.006566e-001; foe(n+1)=9.686930e-001; krok(n+1)=7.420579e-002; ng(n+1)=1.118094e+002;
n=47; farx(n+1)=4.927025e-001; foe(n+1)=9.478948e-001; krok(n+1)=2.331822e-002; ng(n+1)=6.978506e+001;
n=48; farx(n+1)=4.984426e-001; foe(n+1)=9.262124e-001; krok(n+1)=1.441658e-001; ng(n+1)=4.330742e+001;
n=49; farx(n+1)=5.075762e-001; foe(n+1)=8.772821e-001; krok(n+1)=7.864394e-002; ng(n+1)=1.209684e+002;
n=50; farx(n+1)=4.953539e-001; foe(n+1)=8.417928e-001; krok(n+1)=1.158784e-001; ng(n+1)=1.526562e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
