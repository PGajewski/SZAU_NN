%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.843759e+002; foe(n+1)=2.888252e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.756527e+002; foe(n+1)=1.779006e+002; krok(n+1)=4.921872e-004; ng(n+1)=5.943024e+002;
n=2; farx(n+1)=5.444894e+001; foe(n+1)=5.587770e+001; krok(n+1)=5.983917e-002; ng(n+1)=4.288711e+001;
n=3; farx(n+1)=5.201323e+001; foe(n+1)=5.282626e+001; krok(n+1)=5.997467e-003; ng(n+1)=9.208283e+001;
n=4; farx(n+1)=4.818930e+001; foe(n+1)=4.864761e+001; krok(n+1)=3.625910e-003; ng(n+1)=6.726131e+001;
n=5; farx(n+1)=3.483156e+001; foe(n+1)=4.076133e+001; krok(n+1)=2.729349e-001; ng(n+1)=3.967728e+001;
n=6; farx(n+1)=3.259586e+001; foe(n+1)=3.885377e+001; krok(n+1)=1.086288e+000; ng(n+1)=6.459371e+001;
n=7; farx(n+1)=3.045679e+001; foe(n+1)=3.803105e+001; krok(n+1)=8.067975e-001; ng(n+1)=3.644554e+001;
n=8; farx(n+1)=2.588496e+001; foe(n+1)=3.642366e+001; krok(n+1)=1.361453e+000; ng(n+1)=3.602786e+001;
n=9; farx(n+1)=1.695059e+001; foe(n+1)=3.298291e+001; krok(n+1)=1.369572e+000; ng(n+1)=4.526353e+001;
n=10; farx(n+1)=1.622684e+001; foe(n+1)=3.276559e+001; krok(n+1)=1.999069e-002; ng(n+1)=1.040788e+002;
n=11; farx(n+1)=5.614286e+000; foe(n+1)=1.889508e+001; krok(n+1)=2.097807e+000; ng(n+1)=9.748712e+001;
n=12; farx(n+1)=4.466532e+000; foe(n+1)=1.734017e+001; krok(n+1)=1.414327e-001; ng(n+1)=2.232543e+002;
n=13; farx(n+1)=3.589573e+000; foe(n+1)=1.549951e+001; krok(n+1)=2.032965e-001; ng(n+1)=4.937596e+001;
n=14; farx(n+1)=3.528841e+000; foe(n+1)=1.488435e+001; krok(n+1)=6.162212e-002; ng(n+1)=5.110218e+001;
n=15; farx(n+1)=2.925730e+000; foe(n+1)=1.400628e+001; krok(n+1)=3.456460e-001; ng(n+1)=8.735826e+001;
n=16; farx(n+1)=1.867840e+000; foe(n+1)=1.161202e+001; krok(n+1)=2.214031e+000; ng(n+1)=2.061948e+002;
n=17; farx(n+1)=1.835883e+000; foe(n+1)=1.107458e+001; krok(n+1)=1.775417e-001; ng(n+1)=1.013884e+002;
n=18; farx(n+1)=1.589031e+000; foe(n+1)=1.029858e+001; krok(n+1)=3.227510e-001; ng(n+1)=1.791130e+002;
n=19; farx(n+1)=1.328353e+000; foe(n+1)=9.971700e+000; krok(n+1)=6.522451e-001; ng(n+1)=1.135041e+002;
n=20; farx(n+1)=1.131750e+000; foe(n+1)=9.753422e+000; krok(n+1)=5.002089e-001; ng(n+1)=1.244823e+002;
n=21; farx(n+1)=1.064859e+000; foe(n+1)=9.616942e+000; krok(n+1)=3.329123e-001; ng(n+1)=5.322186e+001;
n=22; farx(n+1)=1.165011e+000; foe(n+1)=9.280057e+000; krok(n+1)=8.457767e-001; ng(n+1)=3.095894e+001;
n=23; farx(n+1)=1.133152e+000; foe(n+1)=9.018567e+000; krok(n+1)=8.674420e-001; ng(n+1)=1.213509e+002;
n=24; farx(n+1)=1.134317e+000; foe(n+1)=8.902468e+000; krok(n+1)=3.057702e-001; ng(n+1)=6.379972e+001;
n=25; farx(n+1)=1.032196e+000; foe(n+1)=8.675031e+000; krok(n+1)=1.163909e+000; ng(n+1)=6.582199e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.031271e+000; foe(n+1)=8.660385e+000; krok(n+1)=3.418410e-005; ng(n+1)=4.568613e+001;
n=27; farx(n+1)=1.020718e+000; foe(n+1)=8.635292e+000; krok(n+1)=6.028324e-005; ng(n+1)=4.878414e+001;
n=28; farx(n+1)=1.027785e+000; foe(n+1)=8.631194e+000; krok(n+1)=8.684522e-004; ng(n+1)=4.754770e+000;
n=29; farx(n+1)=1.020866e+000; foe(n+1)=8.599729e+000; krok(n+1)=3.519888e-002; ng(n+1)=2.210365e+000;
n=30; farx(n+1)=1.046796e+000; foe(n+1)=8.577322e+000; krok(n+1)=1.279622e-002; ng(n+1)=1.575919e+001;
n=31; farx(n+1)=9.389059e-001; foe(n+1)=8.541714e+000; krok(n+1)=3.735325e-001; ng(n+1)=1.480521e+001;
n=32; farx(n+1)=9.047255e-001; foe(n+1)=8.519533e+000; krok(n+1)=8.745977e-001; ng(n+1)=3.159477e+001;
n=33; farx(n+1)=8.586200e-001; foe(n+1)=8.482223e+000; krok(n+1)=2.290327e+000; ng(n+1)=1.458681e+001;
n=34; farx(n+1)=8.108253e-001; foe(n+1)=8.466837e+000; krok(n+1)=1.422745e+000; ng(n+1)=1.425730e+001;
n=35; farx(n+1)=7.726208e-001; foe(n+1)=8.456833e+000; krok(n+1)=3.655097e-001; ng(n+1)=2.042368e+001;
n=36; farx(n+1)=7.273106e-001; foe(n+1)=8.451645e+000; krok(n+1)=7.847380e-001; ng(n+1)=1.278249e+001;
n=37; farx(n+1)=7.114104e-001; foe(n+1)=8.449371e+000; krok(n+1)=1.068708e+000; ng(n+1)=1.841629e+001;
n=38; farx(n+1)=6.941378e-001; foe(n+1)=8.448003e+000; krok(n+1)=6.160336e-001; ng(n+1)=1.928170e+000;
n=39; farx(n+1)=6.854131e-001; foe(n+1)=8.446548e+000; krok(n+1)=4.187571e-001; ng(n+1)=1.272711e+001;
n=40; farx(n+1)=6.636345e-001; foe(n+1)=8.443648e+000; krok(n+1)=2.669838e+000; ng(n+1)=6.410850e+000;
n=41; farx(n+1)=6.649838e-001; foe(n+1)=8.442455e+000; krok(n+1)=7.847380e-001; ng(n+1)=4.895099e+000;
n=42; farx(n+1)=6.528946e-001; foe(n+1)=8.442144e+000; krok(n+1)=8.536620e-001; ng(n+1)=5.287780e+000;
n=43; farx(n+1)=6.323208e-001; foe(n+1)=8.441383e+000; krok(n+1)=1.114151e+000; ng(n+1)=6.621937e+000;
n=44; farx(n+1)=6.213608e-001; foe(n+1)=8.441076e+000; krok(n+1)=1.075480e+000; ng(n+1)=4.827649e+000;
n=45; farx(n+1)=6.206547e-001; foe(n+1)=8.441006e+000; krok(n+1)=9.112329e-001; ng(n+1)=1.654630e+000;
n=46; farx(n+1)=6.171924e-001; foe(n+1)=8.440977e+000; krok(n+1)=7.560816e-001; ng(n+1)=1.591008e+000;
n=47; farx(n+1)=6.167517e-001; foe(n+1)=8.440968e+000; krok(n+1)=6.930078e-001; ng(n+1)=1.852079e+000;
n=48; farx(n+1)=6.158108e-001; foe(n+1)=8.440966e+000; krok(n+1)=1.070120e+000; ng(n+1)=1.258380e-001;
n=49; farx(n+1)=6.164577e-001; foe(n+1)=8.440966e+000; krok(n+1)=3.942850e+000; ng(n+1)=1.441677e-001;
n=50; farx(n+1)=6.166149e-001; foe(n+1)=8.440965e+000; krok(n+1)=1.189063e+000; ng(n+1)=4.287059e-002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
