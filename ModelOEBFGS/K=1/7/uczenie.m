%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.858699e+002; foe(n+1)=2.868233e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.779958e+002; foe(n+1)=1.784749e+002; krok(n+1)=4.981850e-004; ng(n+1)=5.511772e+002;
n=2; farx(n+1)=5.641297e+001; foe(n+1)=5.654899e+001; krok(n+1)=1.809649e-001; ng(n+1)=2.929014e+001;
n=3; farx(n+1)=5.587185e+001; foe(n+1)=5.600490e+001; krok(n+1)=9.064776e-004; ng(n+1)=7.195055e+001;
n=4; farx(n+1)=4.756227e+001; foe(n+1)=4.734162e+001; krok(n+1)=3.192743e-002; ng(n+1)=6.133552e+001;
n=5; farx(n+1)=4.054081e+001; foe(n+1)=4.248212e+001; krok(n+1)=5.995370e-001; ng(n+1)=9.670564e+001;
n=6; farx(n+1)=3.888099e+001; foe(n+1)=4.134878e+001; krok(n+1)=1.727068e+000; ng(n+1)=2.154980e+001;
n=7; farx(n+1)=3.874489e+001; foe(n+1)=4.102697e+001; krok(n+1)=1.618997e+000; ng(n+1)=1.968247e+001;
n=8; farx(n+1)=3.768573e+001; foe(n+1)=4.047190e+001; krok(n+1)=2.984733e+000; ng(n+1)=1.804429e+001;
n=9; farx(n+1)=3.297115e+001; foe(n+1)=3.824605e+001; krok(n+1)=1.442898e+000; ng(n+1)=3.920977e+001;
n=10; farx(n+1)=3.254940e+001; foe(n+1)=3.819763e+001; krok(n+1)=2.762153e-002; ng(n+1)=6.450049e+001;
n=11; farx(n+1)=8.058805e+000; foe(n+1)=2.777425e+001; krok(n+1)=1.070332e+000; ng(n+1)=5.817969e+001;
n=12; farx(n+1)=7.901206e+000; foe(n+1)=2.771471e+001; krok(n+1)=4.541426e-003; ng(n+1)=7.323764e+001;
n=13; farx(n+1)=7.656683e+000; foe(n+1)=2.540903e+001; krok(n+1)=1.300904e-001; ng(n+1)=9.640835e+001;
n=14; farx(n+1)=7.187309e+000; foe(n+1)=2.382172e+001; krok(n+1)=3.001130e-001; ng(n+1)=2.033109e+002;
n=15; farx(n+1)=7.178326e+000; foe(n+1)=2.284431e+001; krok(n+1)=2.762177e-001; ng(n+1)=2.536701e+002;
n=16; farx(n+1)=5.806701e+000; foe(n+1)=1.997109e+001; krok(n+1)=9.709405e-001; ng(n+1)=1.201336e+002;
n=17; farx(n+1)=5.164978e+000; foe(n+1)=1.925858e+001; krok(n+1)=4.268310e-001; ng(n+1)=1.235513e+002;
n=18; farx(n+1)=4.075409e+000; foe(n+1)=1.633654e+001; krok(n+1)=1.476581e+000; ng(n+1)=4.760046e+001;
n=19; farx(n+1)=3.415394e+000; foe(n+1)=1.519698e+001; krok(n+1)=5.027444e-001; ng(n+1)=1.902084e+002;
n=20; farx(n+1)=1.941969e+000; foe(n+1)=1.344824e+001; krok(n+1)=5.030381e-001; ng(n+1)=1.005264e+002;
n=21; farx(n+1)=1.437503e+000; foe(n+1)=1.246297e+001; krok(n+1)=1.181740e-001; ng(n+1)=7.767197e+001;
n=22; farx(n+1)=1.273725e+000; foe(n+1)=1.192121e+001; krok(n+1)=3.131249e-001; ng(n+1)=6.072930e+001;
n=23; farx(n+1)=1.401542e+000; foe(n+1)=1.148733e+001; krok(n+1)=1.399123e-001; ng(n+1)=7.768788e+001;
n=24; farx(n+1)=1.381128e+000; foe(n+1)=1.105903e+001; krok(n+1)=1.162605e+000; ng(n+1)=1.858246e+002;
n=25; farx(n+1)=1.194024e+000; foe(n+1)=1.052743e+001; krok(n+1)=9.632832e-001; ng(n+1)=8.870150e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.212143e+000; foe(n+1)=1.051174e+001; krok(n+1)=1.900372e-004; ng(n+1)=2.299578e+001;
n=27; farx(n+1)=1.250847e+000; foe(n+1)=1.047531e+001; krok(n+1)=7.813213e-005; ng(n+1)=3.909661e+001;
n=28; farx(n+1)=1.211286e+000; foe(n+1)=1.042441e+001; krok(n+1)=3.812868e-004; ng(n+1)=2.100080e+001;
n=29; farx(n+1)=1.311294e+000; foe(n+1)=9.911579e+000; krok(n+1)=2.720095e-002; ng(n+1)=1.080933e+001;
n=30; farx(n+1)=1.304176e+000; foe(n+1)=9.704586e+000; krok(n+1)=9.552064e-003; ng(n+1)=9.402361e+001;
n=31; farx(n+1)=1.198886e+000; foe(n+1)=9.416942e+000; krok(n+1)=6.658246e-001; ng(n+1)=1.366011e+002;
n=32; farx(n+1)=1.152658e+000; foe(n+1)=9.010898e+000; krok(n+1)=1.368663e+000; ng(n+1)=5.836326e+001;
n=33; farx(n+1)=1.067625e+000; foe(n+1)=8.910755e+000; krok(n+1)=6.477968e-001; ng(n+1)=3.264714e+001;
n=34; farx(n+1)=1.024199e+000; foe(n+1)=8.809539e+000; krok(n+1)=7.966063e-001; ng(n+1)=3.833748e+001;
n=35; farx(n+1)=9.576645e-001; foe(n+1)=8.686126e+000; krok(n+1)=1.814761e+000; ng(n+1)=4.322183e+001;
n=36; farx(n+1)=9.392818e-001; foe(n+1)=8.584862e+000; krok(n+1)=4.448787e-001; ng(n+1)=7.399923e+001;
n=37; farx(n+1)=9.205455e-001; foe(n+1)=8.561624e+000; krok(n+1)=2.211882e-001; ng(n+1)=4.369607e+001;
n=38; farx(n+1)=9.396574e-001; foe(n+1)=8.530184e+000; krok(n+1)=9.528451e-001; ng(n+1)=2.740237e+001;
n=39; farx(n+1)=8.457685e-001; foe(n+1)=8.491232e+000; krok(n+1)=1.462039e+000; ng(n+1)=2.567931e+001;
n=40; farx(n+1)=7.917683e-001; foe(n+1)=8.474542e+000; krok(n+1)=1.015268e+000; ng(n+1)=3.759416e+001;
n=41; farx(n+1)=7.849791e-001; foe(n+1)=8.467938e+000; krok(n+1)=2.894475e-001; ng(n+1)=1.443096e+001;
n=42; farx(n+1)=7.640341e-001; foe(n+1)=8.458012e+000; krok(n+1)=7.273018e-001; ng(n+1)=1.034894e+001;
n=43; farx(n+1)=7.310193e-001; foe(n+1)=8.453568e+000; krok(n+1)=7.101669e-001; ng(n+1)=1.094533e+001;
n=44; farx(n+1)=7.101614e-001; foe(n+1)=8.449416e+000; krok(n+1)=1.201404e+000; ng(n+1)=1.377173e+001;
n=45; farx(n+1)=6.833955e-001; foe(n+1)=8.446074e+000; krok(n+1)=8.008859e-001; ng(n+1)=9.393115e+000;
n=46; farx(n+1)=6.811340e-001; foe(n+1)=8.444532e+000; krok(n+1)=5.792353e-001; ng(n+1)=8.581995e+000;
n=47; farx(n+1)=6.711000e-001; foe(n+1)=8.443272e+000; krok(n+1)=9.603842e-001; ng(n+1)=1.482192e+001;
n=48; farx(n+1)=6.637893e-001; foe(n+1)=8.442411e+000; krok(n+1)=8.838889e-001; ng(n+1)=5.710549e+000;
n=49; farx(n+1)=6.485775e-001; foe(n+1)=8.441968e+000; krok(n+1)=6.058278e-001; ng(n+1)=3.058166e+000;
n=50; farx(n+1)=6.369781e-001; foe(n+1)=8.441575e+000; krok(n+1)=1.890784e+000; ng(n+1)=2.309673e+000;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
