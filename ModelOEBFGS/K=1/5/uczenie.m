%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.925282e+002; foe(n+1)=2.905618e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.849675e+002; foe(n+1)=1.838871e+002; krok(n+1)=5.080539e-004; ng(n+1)=5.920191e+002;
n=2; farx(n+1)=1.772209e+002; foe(n+1)=1.778373e+002; krok(n+1)=2.998733e-003; ng(n+1)=7.914814e+001;
n=3; farx(n+1)=6.398189e+001; foe(n+1)=6.785397e+001; krok(n+1)=4.294671e-002; ng(n+1)=3.653546e+001;
n=4; farx(n+1)=6.345188e+001; foe(n+1)=6.734511e+001; krok(n+1)=5.538211e-005; ng(n+1)=2.191757e+002;
n=5; farx(n+1)=8.735462e+001; foe(n+1)=6.589260e+001; krok(n+1)=4.048730e-002; ng(n+1)=2.328727e+002;
n=6; farx(n+1)=8.552465e+001; foe(n+1)=6.233046e+001; krok(n+1)=3.164556e-001; ng(n+1)=1.050397e+002;
n=7; farx(n+1)=5.219761e+001; foe(n+1)=5.712662e+001; krok(n+1)=1.845727e-001; ng(n+1)=1.061842e+002;
n=8; farx(n+1)=2.995864e+001; foe(n+1)=5.302111e+001; krok(n+1)=2.699949e-002; ng(n+1)=1.758679e+002;
n=9; farx(n+1)=6.439519e+000; foe(n+1)=2.541066e+001; krok(n+1)=4.524124e-002; ng(n+1)=4.518772e+002;
n=10; farx(n+1)=6.483907e+000; foe(n+1)=2.184798e+001; krok(n+1)=7.045190e-002; ng(n+1)=3.410514e+002;
n=11; farx(n+1)=3.944242e+000; foe(n+1)=1.545651e+001; krok(n+1)=2.292378e-001; ng(n+1)=2.318623e+002;
n=12; farx(n+1)=2.763791e+000; foe(n+1)=1.354996e+001; krok(n+1)=5.086203e-001; ng(n+1)=2.870092e+002;
n=13; farx(n+1)=2.544547e+000; foe(n+1)=1.277405e+001; krok(n+1)=5.570755e-001; ng(n+1)=7.314158e+001;
n=14; farx(n+1)=1.937669e+000; foe(n+1)=1.136821e+001; krok(n+1)=2.621320e+000; ng(n+1)=5.228117e+001;
n=15; farx(n+1)=1.658907e+000; foe(n+1)=1.083901e+001; krok(n+1)=7.807902e-001; ng(n+1)=1.148199e+002;
n=16; farx(n+1)=1.553232e+000; foe(n+1)=1.070070e+001; krok(n+1)=7.748658e-001; ng(n+1)=8.248405e+001;
n=17; farx(n+1)=1.353587e+000; foe(n+1)=1.044781e+001; krok(n+1)=1.390988e+000; ng(n+1)=2.033054e+001;
n=18; farx(n+1)=1.148858e+000; foe(n+1)=9.829877e+000; krok(n+1)=2.794466e+000; ng(n+1)=6.160508e+001;
n=19; farx(n+1)=1.126368e+000; foe(n+1)=9.662509e+000; krok(n+1)=5.189311e-001; ng(n+1)=6.297998e+001;
n=20; farx(n+1)=1.096110e+000; foe(n+1)=9.581930e+000; krok(n+1)=3.390079e-001; ng(n+1)=4.378083e+001;
n=21; farx(n+1)=1.075335e+000; foe(n+1)=9.514325e+000; krok(n+1)=7.498941e-001; ng(n+1)=4.557592e+001;
n=22; farx(n+1)=1.120555e+000; foe(n+1)=9.196780e+000; krok(n+1)=2.099830e+000; ng(n+1)=4.330299e+001;
n=23; farx(n+1)=1.142262e+000; foe(n+1)=9.122556e+000; krok(n+1)=5.491644e-001; ng(n+1)=2.966094e+001;
n=24; farx(n+1)=1.115755e+000; foe(n+1)=9.039853e+000; krok(n+1)=8.341234e-001; ng(n+1)=5.118317e+001;
n=25; farx(n+1)=1.094313e+000; foe(n+1)=8.921178e+000; krok(n+1)=2.278251e+000; ng(n+1)=5.552299e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.086147e+000; foe(n+1)=8.907386e+000; krok(n+1)=5.162212e-005; ng(n+1)=3.825884e+001;
n=27; farx(n+1)=1.080502e+000; foe(n+1)=8.888813e+000; krok(n+1)=4.554340e-005; ng(n+1)=3.941490e+001;
n=28; farx(n+1)=1.088619e+000; foe(n+1)=8.875761e+000; krok(n+1)=1.016331e-003; ng(n+1)=9.423042e+000;
n=29; farx(n+1)=1.053777e+000; foe(n+1)=8.848972e+000; krok(n+1)=7.191611e-003; ng(n+1)=4.622391e+000;
n=30; farx(n+1)=1.059538e+000; foe(n+1)=8.807877e+000; krok(n+1)=1.328156e-001; ng(n+1)=3.166117e+000;
n=31; farx(n+1)=1.010105e+000; foe(n+1)=8.759626e+000; krok(n+1)=1.125137e-001; ng(n+1)=3.448891e+001;
n=32; farx(n+1)=1.005547e+000; foe(n+1)=8.571536e+000; krok(n+1)=3.505976e-001; ng(n+1)=6.818584e+001;
n=33; farx(n+1)=9.890517e-001; foe(n+1)=8.542713e+000; krok(n+1)=4.317671e-001; ng(n+1)=3.591475e+001;
n=34; farx(n+1)=9.662772e-001; foe(n+1)=8.528776e+000; krok(n+1)=1.274317e+000; ng(n+1)=1.190984e+001;
n=35; farx(n+1)=9.176249e-001; foe(n+1)=8.492481e+000; krok(n+1)=3.944619e+000; ng(n+1)=1.917057e+001;
n=36; farx(n+1)=8.076167e-001; foe(n+1)=8.467611e+000; krok(n+1)=1.368663e+000; ng(n+1)=1.911071e+001;
n=37; farx(n+1)=7.723638e-001; foe(n+1)=8.459671e+000; krok(n+1)=8.536620e-001; ng(n+1)=3.010434e+001;
n=38; farx(n+1)=7.454164e-001; foe(n+1)=8.456280e+000; krok(n+1)=5.752763e-001; ng(n+1)=5.123109e+000;
n=39; farx(n+1)=7.372296e-001; foe(n+1)=8.454759e+000; krok(n+1)=5.657309e-001; ng(n+1)=1.268632e+001;
n=40; farx(n+1)=7.094461e-001; foe(n+1)=8.452307e+000; krok(n+1)=1.507294e+000; ng(n+1)=8.571697e+000;
n=41; farx(n+1)=6.801704e-001; foe(n+1)=8.446663e+000; krok(n+1)=2.324046e+000; ng(n+1)=8.446089e+000;
n=42; farx(n+1)=6.732317e-001; foe(n+1)=8.444565e+000; krok(n+1)=8.008859e-001; ng(n+1)=4.114663e+000;
n=43; farx(n+1)=6.778171e-001; foe(n+1)=8.443866e+000; krok(n+1)=5.819545e-001; ng(n+1)=1.252655e+001;
n=44; farx(n+1)=6.595091e-001; foe(n+1)=8.442994e+000; krok(n+1)=9.490531e-001; ng(n+1)=9.401464e+000;
n=45; farx(n+1)=6.351907e-001; foe(n+1)=8.441842e+000; krok(n+1)=1.164915e+000; ng(n+1)=5.468673e+000;
n=46; farx(n+1)=6.334313e-001; foe(n+1)=8.441386e+000; krok(n+1)=6.761661e-001; ng(n+1)=7.774538e+000;
n=47; farx(n+1)=6.236204e-001; foe(n+1)=8.441025e+000; krok(n+1)=1.492366e+000; ng(n+1)=3.995583e+000;
n=48; farx(n+1)=6.230029e-001; foe(n+1)=8.440990e+000; krok(n+1)=1.054352e+000; ng(n+1)=1.356135e+000;
n=49; farx(n+1)=6.190923e-001; foe(n+1)=8.440978e+000; krok(n+1)=1.497514e+000; ng(n+1)=4.238736e-001;
n=50; farx(n+1)=6.175106e-001; foe(n+1)=8.440968e+000; krok(n+1)=3.108763e+000; ng(n+1)=6.550058e-001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
