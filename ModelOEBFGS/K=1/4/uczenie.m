%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.823953e+002; foe(n+1)=2.813202e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.801435e+002; foe(n+1)=1.793505e+002; krok(n+1)=5.033545e-004; ng(n+1)=5.227498e+002;
n=2; farx(n+1)=1.769668e+002; foe(n+1)=1.766025e+002; krok(n+1)=5.557598e-003; ng(n+1)=3.862712e+001;
n=3; farx(n+1)=6.069773e+001; foe(n+1)=5.976700e+001; krok(n+1)=1.871779e-002; ng(n+1)=4.965478e+001;
n=4; farx(n+1)=5.872458e+001; foe(n+1)=5.766279e+001; krok(n+1)=3.162104e-003; ng(n+1)=1.138055e+002;
n=5; farx(n+1)=5.741527e+001; foe(n+1)=5.279959e+001; krok(n+1)=3.550835e-001; ng(n+1)=1.166795e+002;
n=6; farx(n+1)=1.563390e+001; foe(n+1)=3.357922e+001; krok(n+1)=6.101385e-001; ng(n+1)=3.852356e+001;
n=7; farx(n+1)=1.043047e+001; foe(n+1)=3.106459e+001; krok(n+1)=1.497030e+000; ng(n+1)=6.646940e+001;
n=8; farx(n+1)=1.085361e+001; foe(n+1)=2.980724e+001; krok(n+1)=5.477226e-001; ng(n+1)=5.233776e+001;
n=9; farx(n+1)=1.228116e+001; foe(n+1)=2.856678e+001; krok(n+1)=2.677938e-001; ng(n+1)=1.016344e+002;
n=10; farx(n+1)=1.077235e+001; foe(n+1)=2.666982e+001; krok(n+1)=5.590193e-001; ng(n+1)=7.085577e+001;
n=11; farx(n+1)=1.003600e+001; foe(n+1)=2.584162e+001; krok(n+1)=1.317814e-001; ng(n+1)=6.819524e+001;
n=12; farx(n+1)=9.507140e+000; foe(n+1)=2.510446e+001; krok(n+1)=1.767909e-002; ng(n+1)=1.640896e+002;
n=13; farx(n+1)=6.463202e+000; foe(n+1)=2.191970e+001; krok(n+1)=1.098329e+000; ng(n+1)=2.282042e+002;
n=14; farx(n+1)=5.223363e+000; foe(n+1)=1.989795e+001; krok(n+1)=4.706699e-001; ng(n+1)=1.133433e+002;
n=15; farx(n+1)=4.732701e+000; foe(n+1)=1.824455e+001; krok(n+1)=5.956610e-001; ng(n+1)=9.413113e+001;
n=16; farx(n+1)=4.411488e+000; foe(n+1)=1.655282e+001; krok(n+1)=6.000244e-001; ng(n+1)=1.956277e+002;
n=17; farx(n+1)=3.055749e+000; foe(n+1)=1.352260e+001; krok(n+1)=2.781976e+000; ng(n+1)=9.281678e+001;
n=18; farx(n+1)=2.493924e+000; foe(n+1)=1.261399e+001; krok(n+1)=1.807191e-001; ng(n+1)=1.580781e+002;
n=19; farx(n+1)=2.317782e+000; foe(n+1)=1.181565e+001; krok(n+1)=2.205796e-001; ng(n+1)=6.353351e+001;
n=20; farx(n+1)=2.139600e+000; foe(n+1)=1.129856e+001; krok(n+1)=3.556863e-001; ng(n+1)=1.705717e+002;
n=21; farx(n+1)=1.902402e+000; foe(n+1)=1.093449e+001; krok(n+1)=7.113726e-001; ng(n+1)=1.726312e+002;
n=22; farx(n+1)=1.764201e+000; foe(n+1)=1.077377e+001; krok(n+1)=1.668612e-001; ng(n+1)=7.857967e+001;
n=23; farx(n+1)=1.420136e+000; foe(n+1)=1.010539e+001; krok(n+1)=1.657803e+000; ng(n+1)=3.815909e+001;
n=24; farx(n+1)=1.371853e+000; foe(n+1)=9.726387e+000; krok(n+1)=4.819709e-001; ng(n+1)=1.229021e+002;
n=25; farx(n+1)=1.456831e+000; foe(n+1)=9.434776e+000; krok(n+1)=5.154350e-001; ng(n+1)=1.917563e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.400192e+000; foe(n+1)=9.331545e+000; krok(n+1)=1.205178e-004; ng(n+1)=5.297219e+001;
n=27; farx(n+1)=1.398351e+000; foe(n+1)=9.311065e+000; krok(n+1)=2.077412e-005; ng(n+1)=5.852030e+001;
n=28; farx(n+1)=1.331809e+000; foe(n+1)=9.241703e+000; krok(n+1)=2.855545e-003; ng(n+1)=1.205936e+001;
n=29; farx(n+1)=1.287369e+000; foe(n+1)=9.134532e+000; krok(n+1)=2.883948e-003; ng(n+1)=1.563002e+001;
n=30; farx(n+1)=1.365664e+000; foe(n+1)=9.040061e+000; krok(n+1)=4.904612e-002; ng(n+1)=2.623437e+001;
n=31; farx(n+1)=1.048641e+000; foe(n+1)=8.756550e+000; krok(n+1)=7.413928e-001; ng(n+1)=9.566497e+001;
n=32; farx(n+1)=9.719942e-001; foe(n+1)=8.651656e+000; krok(n+1)=8.536620e-001; ng(n+1)=8.938913e+001;
n=33; farx(n+1)=1.008430e+000; foe(n+1)=8.576097e+000; krok(n+1)=1.104871e+000; ng(n+1)=1.874670e+001;
n=34; farx(n+1)=9.706340e-001; foe(n+1)=8.555677e+000; krok(n+1)=3.075863e-001; ng(n+1)=2.777987e+001;
n=35; farx(n+1)=9.117670e-001; foe(n+1)=8.532470e+000; krok(n+1)=1.800219e+000; ng(n+1)=3.355346e+001;
n=36; farx(n+1)=9.028563e-001; foe(n+1)=8.512302e+000; krok(n+1)=9.961132e-001; ng(n+1)=1.070416e+001;
n=37; farx(n+1)=8.757731e-001; foe(n+1)=8.490517e+000; krok(n+1)=6.046342e-001; ng(n+1)=1.278529e+001;
n=38; farx(n+1)=7.998326e-001; foe(n+1)=8.477548e+000; krok(n+1)=1.420334e+000; ng(n+1)=1.413015e+001;
n=39; farx(n+1)=7.542313e-001; foe(n+1)=8.468552e+000; krok(n+1)=8.456470e-001; ng(n+1)=3.728020e+001;
n=40; farx(n+1)=7.532479e-001; foe(n+1)=8.463926e+000; krok(n+1)=8.923142e-001; ng(n+1)=9.227649e+000;
n=41; farx(n+1)=7.381068e-001; foe(n+1)=8.459520e+000; krok(n+1)=7.215816e-001; ng(n+1)=1.505192e+001;
n=42; farx(n+1)=7.126951e-001; foe(n+1)=8.450913e+000; krok(n+1)=1.008243e+000; ng(n+1)=2.036320e+001;
n=43; farx(n+1)=7.106427e-001; foe(n+1)=8.446740e+000; krok(n+1)=1.127230e+000; ng(n+1)=2.063954e+001;
n=44; farx(n+1)=6.959891e-001; foe(n+1)=8.445377e+000; krok(n+1)=7.271671e-001; ng(n+1)=7.244918e+000;
n=45; farx(n+1)=6.847882e-001; foe(n+1)=8.444130e+000; krok(n+1)=1.062525e+000; ng(n+1)=7.736277e+000;
n=46; farx(n+1)=6.543318e-001; foe(n+1)=8.442898e+000; krok(n+1)=1.874409e+000; ng(n+1)=3.571470e+000;
n=47; farx(n+1)=6.489034e-001; foe(n+1)=8.442217e+000; krok(n+1)=1.352447e+000; ng(n+1)=1.024368e+001;
n=48; farx(n+1)=6.361299e-001; foe(n+1)=8.441532e+000; krok(n+1)=6.524460e-001; ng(n+1)=3.786757e+000;
n=49; farx(n+1)=6.330433e-001; foe(n+1)=8.441275e+000; krok(n+1)=5.491644e-001; ng(n+1)=2.836975e+000;
n=50; farx(n+1)=6.197783e-001; foe(n+1)=8.441024e+000; krok(n+1)=1.157348e+000; ng(n+1)=7.308045e+000;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
