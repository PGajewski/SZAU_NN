%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.294828e+002; foe(n+1)=2.198157e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.664312e+002; foe(n+1)=1.598964e+002; krok(n+1)=5.266656e-004; ng(n+1)=1.082055e+003;
n=2; farx(n+1)=6.490744e+001; foe(n+1)=6.508682e+001; krok(n+1)=5.849663e-003; ng(n+1)=5.166760e+002;
n=3; farx(n+1)=6.219676e+001; foe(n+1)=6.190362e+001; krok(n+1)=2.050616e-003; ng(n+1)=2.525622e+002;
n=4; farx(n+1)=2.788865e+000; foe(n+1)=1.760250e+001; krok(n+1)=1.585131e-001; ng(n+1)=5.213056e+001;
n=5; farx(n+1)=2.616577e+000; foe(n+1)=1.710047e+001; krok(n+1)=5.349422e-006; ng(n+1)=2.396202e+003;
n=6; farx(n+1)=2.540721e+000; foe(n+1)=1.693902e+001; krok(n+1)=9.998579e-005; ng(n+1)=2.857768e+003;
n=7; farx(n+1)=2.705449e+000; foe(n+1)=1.365391e+001; krok(n+1)=3.400118e-003; ng(n+1)=2.880014e+003;
n=8; farx(n+1)=2.687858e+000; foe(n+1)=1.179573e+001; krok(n+1)=4.766707e-003; ng(n+1)=2.087594e+003;
n=9; farx(n+1)=2.526655e+000; foe(n+1)=1.088391e+001; krok(n+1)=5.022246e-003; ng(n+1)=9.140386e+002;
n=10; farx(n+1)=2.438175e+000; foe(n+1)=1.020284e+001; krok(n+1)=6.511197e-003; ng(n+1)=7.913930e+002;
n=11; farx(n+1)=1.584611e+000; foe(n+1)=8.075851e+000; krok(n+1)=3.612031e-002; ng(n+1)=4.110988e+002;
n=12; farx(n+1)=1.453059e+000; foe(n+1)=7.641079e+000; krok(n+1)=5.548179e-003; ng(n+1)=1.678217e+002;
n=13; farx(n+1)=1.320760e+000; foe(n+1)=7.182220e+000; krok(n+1)=2.742688e-003; ng(n+1)=6.337632e+002;
n=14; farx(n+1)=1.092060e+000; foe(n+1)=6.735443e+000; krok(n+1)=1.567500e-002; ng(n+1)=1.435999e+002;
n=15; farx(n+1)=9.202176e-001; foe(n+1)=6.036510e+000; krok(n+1)=1.915237e-003; ng(n+1)=6.997869e+002;
n=16; farx(n+1)=7.781370e-001; foe(n+1)=5.687985e+000; krok(n+1)=9.289554e-003; ng(n+1)=1.727039e+002;
n=17; farx(n+1)=6.598908e-001; foe(n+1)=5.061716e+000; krok(n+1)=6.516379e-003; ng(n+1)=7.147288e+002;
n=18; farx(n+1)=6.478198e-001; foe(n+1)=4.847843e+000; krok(n+1)=3.023969e-003; ng(n+1)=4.371234e+002;
n=19; farx(n+1)=6.577830e-001; foe(n+1)=4.644382e+000; krok(n+1)=1.450364e-002; ng(n+1)=4.896340e+002;
n=20; farx(n+1)=6.679228e-001; foe(n+1)=4.480141e+000; krok(n+1)=6.047937e-003; ng(n+1)=3.220718e+002;
n=21; farx(n+1)=6.461986e-001; foe(n+1)=4.141453e+000; krok(n+1)=1.417782e-002; ng(n+1)=1.854918e+002;
n=22; farx(n+1)=6.246295e-001; foe(n+1)=3.858890e+000; krok(n+1)=4.162174e-003; ng(n+1)=5.531956e+002;
n=23; farx(n+1)=5.927333e-001; foe(n+1)=3.487627e+000; krok(n+1)=1.189159e-003; ng(n+1)=1.087103e+003;
n=24; farx(n+1)=5.898853e-001; foe(n+1)=3.232003e+000; krok(n+1)=6.254878e-003; ng(n+1)=4.873814e+002;
n=25; farx(n+1)=5.673496e-001; foe(n+1)=2.621126e+000; krok(n+1)=3.522595e-002; ng(n+1)=4.764477e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=5.679454e-001; foe(n+1)=2.505469e+000; krok(n+1)=4.883258e-006; ng(n+1)=7.077351e+002;
n=27; farx(n+1)=5.698725e-001; foe(n+1)=2.483023e+000; krok(n+1)=3.533295e-005; ng(n+1)=1.202508e+002;
n=28; farx(n+1)=5.805173e-001; foe(n+1)=2.435497e+000; krok(n+1)=6.836820e-005; ng(n+1)=1.273937e+002;
n=29; farx(n+1)=5.652624e-001; foe(n+1)=2.278571e+000; krok(n+1)=2.156451e-003; ng(n+1)=5.785277e+001;
n=30; farx(n+1)=5.186242e-001; foe(n+1)=2.056714e+000; krok(n+1)=1.303276e-002; ng(n+1)=8.716321e+001;
n=31; farx(n+1)=5.266167e-001; foe(n+1)=1.745973e+000; krok(n+1)=1.139839e-002; ng(n+1)=1.364311e+002;
n=32; farx(n+1)=5.486002e-001; foe(n+1)=1.553035e+000; krok(n+1)=2.232051e-003; ng(n+1)=4.804321e+002;
n=33; farx(n+1)=6.125719e-001; foe(n+1)=1.422301e+000; krok(n+1)=1.032555e-002; ng(n+1)=1.696658e+002;
n=34; farx(n+1)=6.419599e-001; foe(n+1)=1.323295e+000; krok(n+1)=9.759296e-003; ng(n+1)=2.913915e+002;
n=35; farx(n+1)=6.409596e-001; foe(n+1)=1.266991e+000; krok(n+1)=2.954351e-002; ng(n+1)=7.815255e+001;
n=36; farx(n+1)=6.043361e-001; foe(n+1)=1.224775e+000; krok(n+1)=5.793922e-002; ng(n+1)=7.108322e+001;
n=37; farx(n+1)=5.626205e-001; foe(n+1)=1.186689e+000; krok(n+1)=1.871779e-002; ng(n+1)=1.253647e+002;
n=38; farx(n+1)=5.090759e-001; foe(n+1)=1.135920e+000; krok(n+1)=2.788178e-002; ng(n+1)=1.499648e+002;
n=39; farx(n+1)=4.773067e-001; foe(n+1)=1.084428e+000; krok(n+1)=1.843937e-002; ng(n+1)=1.903338e+002;
n=40; farx(n+1)=4.669711e-001; foe(n+1)=1.060753e+000; krok(n+1)=1.650507e-002; ng(n+1)=1.478888e+002;
n=41; farx(n+1)=4.655561e-001; foe(n+1)=1.043426e+000; krok(n+1)=4.446078e-002; ng(n+1)=4.999856e+001;
n=42; farx(n+1)=4.730359e-001; foe(n+1)=1.021072e+000; krok(n+1)=8.512166e-002; ng(n+1)=7.708037e+001;
n=43; farx(n+1)=4.845844e-001; foe(n+1)=9.953973e-001; krok(n+1)=1.893212e-002; ng(n+1)=1.465011e+002;
n=44; farx(n+1)=4.926230e-001; foe(n+1)=9.729901e-001; krok(n+1)=1.278558e-001; ng(n+1)=6.049458e+001;
n=45; farx(n+1)=4.972291e-001; foe(n+1)=9.579476e-001; krok(n+1)=2.447519e-002; ng(n+1)=1.135904e+002;
n=46; farx(n+1)=4.965954e-001; foe(n+1)=9.425063e-001; krok(n+1)=4.331299e-002; ng(n+1)=6.219286e+001;
n=47; farx(n+1)=4.778594e-001; foe(n+1)=9.010115e-001; krok(n+1)=1.663330e-001; ng(n+1)=4.988470e+001;
n=48; farx(n+1)=4.746882e-001; foe(n+1)=8.909872e-001; krok(n+1)=1.634950e-002; ng(n+1)=9.780870e+001;
n=49; farx(n+1)=4.699066e-001; foe(n+1)=8.794536e-001; krok(n+1)=5.753341e-002; ng(n+1)=5.174118e+001;
n=50; farx(n+1)=4.569282e-001; foe(n+1)=8.673129e-001; krok(n+1)=3.192003e-002; ng(n+1)=8.777447e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
