%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.238260e+002; foe(n+1)=2.265199e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.698757e+002; foe(n+1)=1.705616e+002; krok(n+1)=4.923063e-004; ng(n+1)=9.394674e+002;
n=2; farx(n+1)=6.561428e+001; foe(n+1)=6.323382e+001; krok(n+1)=1.021537e-002; ng(n+1)=3.686572e+002;
n=3; farx(n+1)=6.398556e+001; foe(n+1)=6.135270e+001; krok(n+1)=1.846469e-003; ng(n+1)=2.003702e+002;
n=4; farx(n+1)=5.874791e+001; foe(n+1)=6.073183e+001; krok(n+1)=5.320104e-003; ng(n+1)=6.077663e+001;
n=5; farx(n+1)=6.740256e+000; foe(n+1)=3.522586e+001; krok(n+1)=3.244924e-002; ng(n+1)=1.086705e+002;
n=6; farx(n+1)=5.323657e+000; foe(n+1)=3.429557e+001; krok(n+1)=4.685521e-005; ng(n+1)=1.804292e+003;
n=7; farx(n+1)=5.138941e+000; foe(n+1)=2.977823e+001; krok(n+1)=1.448480e-002; ng(n+1)=2.512379e+003;
n=8; farx(n+1)=6.185788e+000; foe(n+1)=2.804523e+001; krok(n+1)=1.775310e-004; ng(n+1)=1.946005e+003;
n=9; farx(n+1)=6.724543e+000; foe(n+1)=2.700630e+001; krok(n+1)=8.003391e-003; ng(n+1)=1.351614e+003;
n=10; farx(n+1)=6.941145e+000; foe(n+1)=2.232483e+001; krok(n+1)=9.683632e-003; ng(n+1)=1.167645e+003;
n=11; farx(n+1)=6.227635e+000; foe(n+1)=2.108190e+001; krok(n+1)=5.829338e-003; ng(n+1)=4.550796e+002;
n=12; farx(n+1)=4.640412e+000; foe(n+1)=1.806134e+001; krok(n+1)=9.299198e-003; ng(n+1)=4.444500e+002;
n=13; farx(n+1)=3.001792e+000; foe(n+1)=1.479273e+001; krok(n+1)=1.525147e-003; ng(n+1)=8.228540e+002;
n=14; farx(n+1)=2.696695e+000; foe(n+1)=1.405522e+001; krok(n+1)=1.274309e-003; ng(n+1)=1.450342e+003;
n=15; farx(n+1)=2.370244e+000; foe(n+1)=1.254490e+001; krok(n+1)=3.888877e-003; ng(n+1)=1.451730e+003;
n=16; farx(n+1)=2.074907e+000; foe(n+1)=1.163663e+001; krok(n+1)=9.476825e-003; ng(n+1)=8.875862e+002;
n=17; farx(n+1)=1.742840e+000; foe(n+1)=1.033575e+001; krok(n+1)=1.111520e-002; ng(n+1)=5.318316e+002;
n=18; farx(n+1)=1.529467e+000; foe(n+1)=7.902318e+000; krok(n+1)=2.855545e-003; ng(n+1)=7.832110e+002;
n=19; farx(n+1)=1.541384e+000; foe(n+1)=7.398702e+000; krok(n+1)=1.813010e-004; ng(n+1)=1.260732e+003;
n=20; farx(n+1)=1.545509e+000; foe(n+1)=7.003569e+000; krok(n+1)=2.145173e-003; ng(n+1)=9.096274e+002;
n=21; farx(n+1)=1.332212e+000; foe(n+1)=6.528294e+000; krok(n+1)=7.592571e-003; ng(n+1)=7.847509e+002;
n=22; farx(n+1)=1.045630e+000; foe(n+1)=4.466640e+000; krok(n+1)=1.136199e-002; ng(n+1)=1.460256e+003;
n=23; farx(n+1)=1.019532e+000; foe(n+1)=4.220428e+000; krok(n+1)=1.058808e-002; ng(n+1)=3.148113e+002;
n=24; farx(n+1)=9.383391e-001; foe(n+1)=3.074749e+000; krok(n+1)=1.406421e-002; ng(n+1)=8.717213e+002;
n=25; farx(n+1)=9.319138e-001; foe(n+1)=2.523427e+000; krok(n+1)=2.187783e-003; ng(n+1)=7.798210e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.190383e-001; foe(n+1)=2.438525e+000; krok(n+1)=1.356957e-005; ng(n+1)=3.786353e+002;
n=27; farx(n+1)=9.171877e-001; foe(n+1)=2.430185e+000; krok(n+1)=9.050777e-006; ng(n+1)=1.250613e+002;
n=28; farx(n+1)=9.035233e-001; foe(n+1)=2.408851e+000; krok(n+1)=5.465324e-004; ng(n+1)=3.583128e+001;
n=29; farx(n+1)=8.042156e-001; foe(n+1)=2.119350e+000; krok(n+1)=2.953444e-003; ng(n+1)=4.992480e+001;
n=30; farx(n+1)=7.397906e-001; foe(n+1)=1.930527e+000; krok(n+1)=2.973498e-003; ng(n+1)=6.261412e+001;
n=31; farx(n+1)=6.858192e-001; foe(n+1)=1.793045e+000; krok(n+1)=6.450159e-003; ng(n+1)=6.699395e+001;
n=32; farx(n+1)=6.762181e-001; foe(n+1)=1.751681e+000; krok(n+1)=4.672280e-003; ng(n+1)=3.164387e+002;
n=33; farx(n+1)=6.287418e-001; foe(n+1)=1.589982e+000; krok(n+1)=1.725161e-002; ng(n+1)=1.295891e+002;
n=34; farx(n+1)=6.153783e-001; foe(n+1)=1.499850e+000; krok(n+1)=1.470844e-002; ng(n+1)=1.768676e+002;
n=35; farx(n+1)=6.068600e-001; foe(n+1)=1.348510e+000; krok(n+1)=9.921120e-003; ng(n+1)=2.730478e+002;
n=36; farx(n+1)=6.075952e-001; foe(n+1)=1.299289e+000; krok(n+1)=1.856226e-002; ng(n+1)=1.689075e+002;
n=37; farx(n+1)=6.103829e-001; foe(n+1)=1.260703e+000; krok(n+1)=1.109636e-002; ng(n+1)=1.455463e+002;
n=38; farx(n+1)=6.315831e-001; foe(n+1)=1.211803e+000; krok(n+1)=2.570124e-002; ng(n+1)=1.978625e+002;
n=39; farx(n+1)=6.166799e-001; foe(n+1)=1.189161e+000; krok(n+1)=3.006802e-002; ng(n+1)=5.554024e+001;
n=40; farx(n+1)=6.148063e-001; foe(n+1)=1.146741e+000; krok(n+1)=3.130011e-002; ng(n+1)=1.362029e+002;
n=41; farx(n+1)=5.985921e-001; foe(n+1)=1.108931e+000; krok(n+1)=4.756755e-002; ng(n+1)=9.706103e+001;
n=42; farx(n+1)=5.909511e-001; foe(n+1)=1.021109e+000; krok(n+1)=2.452506e-002; ng(n+1)=2.198596e+002;
n=43; farx(n+1)=5.716531e-001; foe(n+1)=9.980718e-001; krok(n+1)=2.502768e-002; ng(n+1)=4.961920e+001;
n=44; farx(n+1)=5.139151e-001; foe(n+1)=9.343020e-001; krok(n+1)=5.671128e-002; ng(n+1)=1.788721e+002;
n=45; farx(n+1)=4.946489e-001; foe(n+1)=9.041464e-001; krok(n+1)=1.894771e-002; ng(n+1)=2.101227e+002;
n=46; farx(n+1)=4.861049e-001; foe(n+1)=8.815704e-001; krok(n+1)=1.688698e-002; ng(n+1)=8.590019e+001;
n=47; farx(n+1)=4.819939e-001; foe(n+1)=8.623270e-001; krok(n+1)=5.005537e-002; ng(n+1)=5.679437e+001;
n=48; farx(n+1)=4.738133e-001; foe(n+1)=8.261326e-001; krok(n+1)=1.761298e-002; ng(n+1)=1.263186e+002;
n=49; farx(n+1)=4.646157e-001; foe(n+1)=7.986442e-001; krok(n+1)=4.502187e-002; ng(n+1)=4.052220e+001;
n=50; farx(n+1)=4.390585e-001; foe(n+1)=7.565281e-001; krok(n+1)=4.686838e-002; ng(n+1)=1.306009e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
