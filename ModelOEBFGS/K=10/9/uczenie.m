%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.284544e+002; foe(n+1)=2.261152e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.746594e+002; foe(n+1)=1.725478e+002; krok(n+1)=5.081655e-004; ng(n+1)=9.246327e+002;
n=2; farx(n+1)=6.684735e+001; foe(n+1)=6.360817e+001; krok(n+1)=1.109636e-002; ng(n+1)=4.115141e+002;
n=3; farx(n+1)=6.573719e+001; foe(n+1)=6.272099e+001; krok(n+1)=1.141051e-003; ng(n+1)=1.745258e+002;
n=4; farx(n+1)=5.035566e+001; foe(n+1)=6.083759e+001; krok(n+1)=1.251384e-002; ng(n+1)=7.111956e+001;
n=5; farx(n+1)=4.819980e+000; foe(n+1)=2.983239e+001; krok(n+1)=6.026360e-003; ng(n+1)=2.649648e+002;
n=6; farx(n+1)=4.263145e+000; foe(n+1)=2.929524e+001; krok(n+1)=1.801245e-005; ng(n+1)=2.606463e+003;
n=7; farx(n+1)=4.297395e+000; foe(n+1)=2.700321e+001; krok(n+1)=1.506159e-002; ng(n+1)=3.262179e+003;
n=8; farx(n+1)=5.083602e+000; foe(n+1)=2.366694e+001; krok(n+1)=3.063157e-004; ng(n+1)=3.011827e+003;
n=9; farx(n+1)=6.848926e+000; foe(n+1)=2.012236e+001; krok(n+1)=3.059399e-003; ng(n+1)=2.038186e+003;
n=10; farx(n+1)=7.305233e+000; foe(n+1)=1.894102e+001; krok(n+1)=7.039256e-004; ng(n+1)=1.096873e+003;
n=11; farx(n+1)=6.946346e+000; foe(n+1)=1.762196e+001; krok(n+1)=1.499359e-002; ng(n+1)=4.174655e+002;
n=12; farx(n+1)=6.417578e+000; foe(n+1)=1.686045e+001; krok(n+1)=1.131031e-002; ng(n+1)=4.287483e+002;
n=13; farx(n+1)=6.102939e+000; foe(n+1)=1.619324e+001; krok(n+1)=3.990004e-003; ng(n+1)=4.305083e+002;
n=14; farx(n+1)=5.402872e+000; foe(n+1)=1.515557e+001; krok(n+1)=1.142380e-002; ng(n+1)=1.679896e+002;
n=15; farx(n+1)=4.749083e+000; foe(n+1)=1.404056e+001; krok(n+1)=9.759296e-003; ng(n+1)=5.454192e+002;
n=16; farx(n+1)=4.168379e+000; foe(n+1)=1.332947e+001; krok(n+1)=5.433546e-003; ng(n+1)=4.019584e+002;
n=17; farx(n+1)=3.068162e+000; foe(n+1)=1.170226e+001; krok(n+1)=6.951230e-003; ng(n+1)=4.374830e+002;
n=18; farx(n+1)=2.262936e+000; foe(n+1)=9.549009e+000; krok(n+1)=2.027075e-003; ng(n+1)=1.204165e+003;
n=19; farx(n+1)=1.761350e+000; foe(n+1)=7.998911e+000; krok(n+1)=2.841023e-003; ng(n+1)=8.326657e+002;
n=20; farx(n+1)=1.591431e+000; foe(n+1)=7.346079e+000; krok(n+1)=1.486749e-003; ng(n+1)=5.023329e+002;
n=21; farx(n+1)=1.402341e+000; foe(n+1)=6.743127e+000; krok(n+1)=2.914778e-003; ng(n+1)=7.194138e+002;
n=22; farx(n+1)=1.053973e+000; foe(n+1)=5.469428e+000; krok(n+1)=1.345452e-002; ng(n+1)=8.089852e+002;
n=23; farx(n+1)=9.074851e-001; foe(n+1)=4.402293e+000; krok(n+1)=4.587536e-003; ng(n+1)=1.192945e+003;
n=24; farx(n+1)=8.675503e-001; foe(n+1)=4.128661e+000; krok(n+1)=2.312019e-003; ng(n+1)=6.595318e+002;
n=25; farx(n+1)=7.404723e-001; foe(n+1)=2.946841e+000; krok(n+1)=1.813820e-002; ng(n+1)=1.692322e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.407616e-001; foe(n+1)=2.873196e+000; krok(n+1)=5.436539e-006; ng(n+1)=5.801101e+002;
n=27; farx(n+1)=7.471138e-001; foe(n+1)=2.856621e+000; krok(n+1)=3.395536e-005; ng(n+1)=1.039351e+002;
n=28; farx(n+1)=7.514530e-001; foe(n+1)=2.813018e+000; krok(n+1)=1.281924e-004; ng(n+1)=1.065446e+002;
n=29; farx(n+1)=7.204970e-001; foe(n+1)=2.559818e+000; krok(n+1)=1.635770e-003; ng(n+1)=7.364830e+001;
n=30; farx(n+1)=6.454030e-001; foe(n+1)=2.137000e+000; krok(n+1)=1.086709e-002; ng(n+1)=4.255355e+001;
n=31; farx(n+1)=6.306968e-001; foe(n+1)=1.980231e+000; krok(n+1)=9.566232e-003; ng(n+1)=3.734065e+002;
n=32; farx(n+1)=6.520001e-001; foe(n+1)=1.662900e+000; krok(n+1)=1.019133e-002; ng(n+1)=3.512237e+002;
n=33; farx(n+1)=6.554824e-001; foe(n+1)=1.538243e+000; krok(n+1)=4.866267e-003; ng(n+1)=3.001443e+002;
n=34; farx(n+1)=6.319243e-001; foe(n+1)=1.496521e+000; krok(n+1)=1.021537e-002; ng(n+1)=1.008299e+002;
n=35; farx(n+1)=5.690561e-001; foe(n+1)=1.356816e+000; krok(n+1)=2.529683e-002; ng(n+1)=2.687598e+002;
n=36; farx(n+1)=5.460773e-001; foe(n+1)=1.263183e+000; krok(n+1)=3.413297e-002; ng(n+1)=1.227486e+002;
n=37; farx(n+1)=5.340066e-001; foe(n+1)=1.193971e+000; krok(n+1)=1.183052e-002; ng(n+1)=3.272408e+002;
n=38; farx(n+1)=5.305811e-001; foe(n+1)=1.158961e+000; krok(n+1)=2.477353e-002; ng(n+1)=9.019764e+001;
n=39; farx(n+1)=5.216986e-001; foe(n+1)=1.101691e+000; krok(n+1)=4.356626e-002; ng(n+1)=1.063106e+002;
n=40; farx(n+1)=5.105304e-001; foe(n+1)=1.070605e+000; krok(n+1)=9.513276e-003; ng(n+1)=1.827786e+002;
n=41; farx(n+1)=4.674641e-001; foe(n+1)=1.018226e+000; krok(n+1)=3.153338e-002; ng(n+1)=8.845132e+001;
n=42; farx(n+1)=4.368527e-001; foe(n+1)=9.838731e-001; krok(n+1)=1.115271e-001; ng(n+1)=4.409965e+001;
n=43; farx(n+1)=4.214087e-001; foe(n+1)=9.612755e-001; krok(n+1)=4.077788e-002; ng(n+1)=7.633456e+001;
n=44; farx(n+1)=4.144658e-001; foe(n+1)=9.111038e-001; krok(n+1)=3.347423e-002; ng(n+1)=6.963982e+001;
n=45; farx(n+1)=4.123764e-001; foe(n+1)=9.043899e-001; krok(n+1)=2.939560e-003; ng(n+1)=1.727391e+002;
n=46; farx(n+1)=4.100738e-001; foe(n+1)=8.826616e-001; krok(n+1)=2.788178e-002; ng(n+1)=8.214560e+001;
n=47; farx(n+1)=4.078733e-001; foe(n+1)=8.155745e-001; krok(n+1)=5.223014e-002; ng(n+1)=1.508935e+002;
n=48; farx(n+1)=4.064892e-001; foe(n+1)=8.023409e-001; krok(n+1)=2.173419e-002; ng(n+1)=1.209969e+002;
n=49; farx(n+1)=4.005382e-001; foe(n+1)=7.797339e-001; krok(n+1)=3.786424e-002; ng(n+1)=1.214828e+002;
n=50; farx(n+1)=3.957977e-001; foe(n+1)=7.617424e-001; krok(n+1)=3.118548e-002; ng(n+1)=9.155113e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
