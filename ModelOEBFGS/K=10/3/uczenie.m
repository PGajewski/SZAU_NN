%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.318172e+002; foe(n+1)=2.299731e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.721857e+002; foe(n+1)=1.701814e+002; krok(n+1)=5.100741e-004; ng(n+1)=1.143368e+003;
n=2; farx(n+1)=6.453907e+001; foe(n+1)=6.295629e+001; krok(n+1)=7.859971e-003; ng(n+1)=5.163903e+002;
n=3; farx(n+1)=6.311924e+001; foe(n+1)=6.253038e+001; krok(n+1)=1.870456e-003; ng(n+1)=9.672430e+001;
n=4; farx(n+1)=4.393028e+001; foe(n+1)=5.994678e+001; krok(n+1)=1.256280e-002; ng(n+1)=8.808502e+001;
n=5; farx(n+1)=4.344216e+000; foe(n+1)=2.683975e+001; krok(n+1)=5.095665e-003; ng(n+1)=3.150793e+002;
n=6; farx(n+1)=3.908016e+000; foe(n+1)=2.621446e+001; krok(n+1)=2.253084e-005; ng(n+1)=2.414633e+003;
n=7; farx(n+1)=3.763038e+000; foe(n+1)=2.599883e+001; krok(n+1)=7.843678e-004; ng(n+1)=2.961452e+003;
n=8; farx(n+1)=3.989227e+000; foe(n+1)=1.604625e+001; krok(n+1)=1.053841e-002; ng(n+1)=3.233295e+003;
n=9; farx(n+1)=4.089464e+000; foe(n+1)=1.548385e+001; krok(n+1)=5.892785e-004; ng(n+1)=1.212481e+003;
n=10; farx(n+1)=4.144077e+000; foe(n+1)=1.435415e+001; krok(n+1)=5.282995e-003; ng(n+1)=8.832039e+002;
n=11; farx(n+1)=3.827282e+000; foe(n+1)=1.343072e+001; krok(n+1)=6.450159e-003; ng(n+1)=2.179398e+002;
n=12; farx(n+1)=3.598498e+000; foe(n+1)=1.211851e+001; krok(n+1)=1.109636e-002; ng(n+1)=4.637088e+002;
n=13; farx(n+1)=3.291528e+000; foe(n+1)=1.094604e+001; krok(n+1)=9.146433e-003; ng(n+1)=4.695406e+002;
n=14; farx(n+1)=2.956247e+000; foe(n+1)=1.030537e+001; krok(n+1)=1.596002e-002; ng(n+1)=2.619274e+002;
n=15; farx(n+1)=2.555719e+000; foe(n+1)=9.559283e+000; krok(n+1)=8.204311e-003; ng(n+1)=5.175507e+002;
n=16; farx(n+1)=2.296924e+000; foe(n+1)=9.137117e+000; krok(n+1)=2.000848e-003; ng(n+1)=9.337751e+002;
n=17; farx(n+1)=2.065044e+000; foe(n+1)=8.346243e+000; krok(n+1)=3.953035e-003; ng(n+1)=1.070017e+003;
n=18; farx(n+1)=1.946256e+000; foe(n+1)=7.925817e+000; krok(n+1)=3.803076e-003; ng(n+1)=3.169511e+002;
n=19; farx(n+1)=1.742955e+000; foe(n+1)=6.694436e+000; krok(n+1)=1.095618e-002; ng(n+1)=6.499128e+002;
n=20; farx(n+1)=1.629014e+000; foe(n+1)=6.181458e+000; krok(n+1)=8.558166e-003; ng(n+1)=1.167445e+002;
n=21; farx(n+1)=1.541026e+000; foe(n+1)=5.855549e+000; krok(n+1)=1.495556e-003; ng(n+1)=6.208695e+002;
n=22; farx(n+1)=1.230931e+000; foe(n+1)=4.661960e+000; krok(n+1)=9.600724e-003; ng(n+1)=6.936142e+002;
n=23; farx(n+1)=1.037811e+000; foe(n+1)=4.133508e+000; krok(n+1)=1.946507e-002; ng(n+1)=3.263711e+002;
n=24; farx(n+1)=9.232445e-001; foe(n+1)=3.902181e+000; krok(n+1)=3.792794e-003; ng(n+1)=4.128566e+002;
n=25; farx(n+1)=7.203948e-001; foe(n+1)=3.183657e+000; krok(n+1)=3.359405e-003; ng(n+1)=4.575016e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.147416e-001; foe(n+1)=3.118433e+000; krok(n+1)=7.137645e-006; ng(n+1)=4.339985e+002;
n=27; farx(n+1)=7.119005e-001; foe(n+1)=2.986572e+000; krok(n+1)=5.581911e-005; ng(n+1)=2.673913e+002;
n=28; farx(n+1)=7.325055e-001; foe(n+1)=2.912694e+000; krok(n+1)=4.838580e-005; ng(n+1)=2.159742e+002;
n=29; farx(n+1)=5.752921e-001; foe(n+1)=2.098392e+000; krok(n+1)=9.535023e-003; ng(n+1)=6.006730e+001;
n=30; farx(n+1)=5.114080e-001; foe(n+1)=1.625880e+000; krok(n+1)=1.169202e-002; ng(n+1)=5.771548e+001;
n=31; farx(n+1)=5.003576e-001; foe(n+1)=1.470240e+000; krok(n+1)=1.908037e-003; ng(n+1)=5.057419e+002;
n=32; farx(n+1)=4.944274e-001; foe(n+1)=1.388669e+000; krok(n+1)=1.270603e-002; ng(n+1)=1.473221e+002;
n=33; farx(n+1)=5.129619e-001; foe(n+1)=1.166186e+000; krok(n+1)=1.958773e-002; ng(n+1)=2.764683e+002;
n=34; farx(n+1)=5.089150e-001; foe(n+1)=1.084882e+000; krok(n+1)=8.751130e-003; ng(n+1)=2.272903e+002;
n=35; farx(n+1)=5.009750e-001; foe(n+1)=1.050152e+000; krok(n+1)=6.349841e-003; ng(n+1)=1.323909e+002;
n=36; farx(n+1)=4.945271e-001; foe(n+1)=1.032032e+000; krok(n+1)=2.331822e-002; ng(n+1)=1.308688e+002;
n=37; farx(n+1)=4.736137e-001; foe(n+1)=1.011433e+000; krok(n+1)=2.606636e-002; ng(n+1)=4.343917e+001;
n=38; farx(n+1)=4.279983e-001; foe(n+1)=9.359726e-001; krok(n+1)=5.945329e-002; ng(n+1)=1.101156e+002;
n=39; farx(n+1)=4.176426e-001; foe(n+1)=9.112680e-001; krok(n+1)=1.360047e-002; ng(n+1)=1.383534e+002;
n=40; farx(n+1)=4.328362e-001; foe(n+1)=8.849311e-001; krok(n+1)=8.000730e-002; ng(n+1)=8.634151e+001;
n=41; farx(n+1)=4.349799e-001; foe(n+1)=8.726895e-001; krok(n+1)=2.307159e-002; ng(n+1)=7.166004e+001;
n=42; farx(n+1)=4.351934e-001; foe(n+1)=8.568660e-001; krok(n+1)=7.893195e-002; ng(n+1)=4.558755e+001;
n=43; farx(n+1)=4.135200e-001; foe(n+1)=8.234384e-001; krok(n+1)=1.019950e-001; ng(n+1)=5.327968e+001;
n=44; farx(n+1)=4.115747e-001; foe(n+1)=8.211184e-001; krok(n+1)=2.823736e-003; ng(n+1)=7.175386e+001;
n=45; farx(n+1)=3.920672e-001; foe(n+1)=7.988245e-001; krok(n+1)=9.451019e-002; ng(n+1)=6.349216e+001;
n=46; farx(n+1)=3.712453e-001; foe(n+1)=7.708140e-001; krok(n+1)=6.963444e-002; ng(n+1)=5.461748e+001;
n=47; farx(n+1)=3.549052e-001; foe(n+1)=7.505263e-001; krok(n+1)=2.549876e-002; ng(n+1)=1.115574e+002;
n=48; farx(n+1)=3.507489e-001; foe(n+1)=7.392146e-001; krok(n+1)=2.509359e-002; ng(n+1)=7.512083e+001;
n=49; farx(n+1)=3.420044e-001; foe(n+1)=7.215271e-001; krok(n+1)=5.160128e-002; ng(n+1)=9.261362e+001;
n=50; farx(n+1)=3.320049e-001; foe(n+1)=7.101935e-001; krok(n+1)=5.127576e-002; ng(n+1)=2.071125e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
