%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.983097e+002; foe(n+1)=1.918154e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.814675e+002; foe(n+1)=1.745063e+002; krok(n+1)=5.705256e-004; ng(n+1)=4.848387e+002;
n=2; farx(n+1)=8.110089e+001; foe(n+1)=6.589565e+001; krok(n+1)=1.473291e-002; ng(n+1)=2.874112e+002;
n=3; farx(n+1)=7.722720e+001; foe(n+1)=6.229399e+001; krok(n+1)=1.629147e-003; ng(n+1)=2.315002e+002;
n=4; farx(n+1)=6.635036e+001; foe(n+1)=6.099829e+001; krok(n+1)=8.174750e-003; ng(n+1)=6.443633e+001;
n=5; farx(n+1)=2.066611e+001; foe(n+1)=4.163463e+001; krok(n+1)=7.946434e-003; ng(n+1)=1.591062e+002;
n=6; farx(n+1)=1.486485e+001; foe(n+1)=3.790341e+001; krok(n+1)=1.603465e-003; ng(n+1)=6.053453e+002;
n=7; farx(n+1)=1.352201e+001; foe(n+1)=3.672828e+001; krok(n+1)=1.369522e-003; ng(n+1)=9.872044e+002;
n=8; farx(n+1)=1.229716e+001; foe(n+1)=3.222495e+001; krok(n+1)=5.062842e-003; ng(n+1)=1.303473e+003;
n=9; farx(n+1)=1.179139e+001; foe(n+1)=3.136752e+001; krok(n+1)=3.188662e-003; ng(n+1)=9.270979e+002;
n=10; farx(n+1)=1.142018e+001; foe(n+1)=3.006197e+001; krok(n+1)=1.251065e-002; ng(n+1)=4.602751e+002;
n=11; farx(n+1)=1.151705e+001; foe(n+1)=2.901710e+001; krok(n+1)=7.780842e-003; ng(n+1)=4.305351e+002;
n=12; farx(n+1)=1.175523e+001; foe(n+1)=2.434470e+001; krok(n+1)=5.344903e-002; ng(n+1)=3.468010e+002;
n=13; farx(n+1)=1.096036e+001; foe(n+1)=2.389145e+001; krok(n+1)=3.816075e-003; ng(n+1)=1.373553e+002;
n=14; farx(n+1)=8.477350e+000; foe(n+1)=2.173596e+001; krok(n+1)=3.946279e-003; ng(n+1)=3.604656e+002;
n=15; farx(n+1)=6.770231e+000; foe(n+1)=1.888327e+001; krok(n+1)=9.749342e-003; ng(n+1)=4.145220e+002;
n=16; farx(n+1)=5.013719e+000; foe(n+1)=1.687499e+001; krok(n+1)=4.792105e-003; ng(n+1)=5.327328e+002;
n=17; farx(n+1)=4.250986e+000; foe(n+1)=1.568155e+001; krok(n+1)=6.905382e-003; ng(n+1)=5.232393e+002;
n=18; farx(n+1)=3.028058e+000; foe(n+1)=1.358524e+001; krok(n+1)=4.615931e-003; ng(n+1)=4.589251e+002;
n=19; farx(n+1)=2.608711e+000; foe(n+1)=1.181547e+001; krok(n+1)=1.218594e-003; ng(n+1)=1.079522e+003;
n=20; farx(n+1)=2.659275e+000; foe(n+1)=1.069836e+001; krok(n+1)=4.883941e-003; ng(n+1)=1.320179e+003;
n=21; farx(n+1)=2.665006e+000; foe(n+1)=9.518790e+000; krok(n+1)=1.877194e-002; ng(n+1)=8.697936e+002;
n=22; farx(n+1)=2.390021e+000; foe(n+1)=8.582270e+000; krok(n+1)=6.100588e-003; ng(n+1)=3.588622e+002;
n=23; farx(n+1)=2.300564e+000; foe(n+1)=7.576399e+000; krok(n+1)=6.053639e-003; ng(n+1)=4.006099e+002;
n=24; farx(n+1)=2.203967e+000; foe(n+1)=7.231052e+000; krok(n+1)=1.142218e-002; ng(n+1)=3.326753e+002;
n=25; farx(n+1)=1.921202e+000; foe(n+1)=6.479870e+000; krok(n+1)=7.799544e-003; ng(n+1)=2.210256e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.942449e+000; foe(n+1)=6.207851e+000; krok(n+1)=1.224850e-005; ng(n+1)=6.803423e+002;
n=27; farx(n+1)=1.961895e+000; foe(n+1)=6.011573e+000; krok(n+1)=9.292181e-005; ng(n+1)=1.865695e+002;
n=28; farx(n+1)=1.907766e+000; foe(n+1)=5.900550e+000; krok(n+1)=8.459568e-005; ng(n+1)=1.395759e+002;
n=29; farx(n+1)=1.333348e+000; foe(n+1)=4.448824e+000; krok(n+1)=3.442236e-003; ng(n+1)=7.679997e+001;
n=30; farx(n+1)=1.058397e+000; foe(n+1)=3.237086e+000; krok(n+1)=3.870712e-003; ng(n+1)=1.186842e+002;
n=31; farx(n+1)=1.022873e+000; foe(n+1)=3.066655e+000; krok(n+1)=3.446556e-003; ng(n+1)=3.175431e+002;
n=32; farx(n+1)=9.418881e-001; foe(n+1)=2.803644e+000; krok(n+1)=9.281129e-003; ng(n+1)=1.719102e+002;
n=33; farx(n+1)=8.594216e-001; foe(n+1)=2.586718e+000; krok(n+1)=2.378377e-002; ng(n+1)=1.175230e+002;
n=34; farx(n+1)=7.931339e-001; foe(n+1)=2.457976e+000; krok(n+1)=8.161186e-003; ng(n+1)=2.091777e+002;
n=35; farx(n+1)=7.651466e-001; foe(n+1)=2.177070e+000; krok(n+1)=7.581460e-002; ng(n+1)=9.322295e+001;
n=36; farx(n+1)=7.497212e-001; foe(n+1)=2.085873e+000; krok(n+1)=5.557598e-003; ng(n+1)=1.554386e+002;
n=37; farx(n+1)=7.022844e-001; foe(n+1)=1.929310e+000; krok(n+1)=8.966852e-003; ng(n+1)=1.246349e+002;
n=38; farx(n+1)=6.875052e-001; foe(n+1)=1.805564e+000; krok(n+1)=4.207904e-003; ng(n+1)=2.225370e+002;
n=39; farx(n+1)=6.734801e-001; foe(n+1)=1.619519e+000; krok(n+1)=1.506159e-002; ng(n+1)=2.093239e+002;
n=40; farx(n+1)=6.539011e-001; foe(n+1)=1.502382e+000; krok(n+1)=1.280341e-002; ng(n+1)=1.248988e+002;
n=41; farx(n+1)=6.177281e-001; foe(n+1)=1.354058e+000; krok(n+1)=3.361391e-002; ng(n+1)=1.472298e+002;
n=42; farx(n+1)=6.152879e-001; foe(n+1)=1.331800e+000; krok(n+1)=6.728198e-003; ng(n+1)=1.153882e+002;
n=43; farx(n+1)=6.004660e-001; foe(n+1)=1.252390e+000; krok(n+1)=2.788178e-002; ng(n+1)=3.374061e+001;
n=44; farx(n+1)=5.981963e-001; foe(n+1)=1.245730e+000; krok(n+1)=1.793370e-002; ng(n+1)=5.121177e+001;
n=45; farx(n+1)=5.692410e-001; foe(n+1)=1.201853e+000; krok(n+1)=8.892157e-002; ng(n+1)=5.210843e+001;
n=46; farx(n+1)=5.495331e-001; foe(n+1)=1.168209e+000; krok(n+1)=1.292163e-001; ng(n+1)=6.638898e+001;
n=47; farx(n+1)=5.344012e-001; foe(n+1)=1.117280e+000; krok(n+1)=1.600146e-001; ng(n+1)=7.655590e+001;
n=48; farx(n+1)=5.414821e-001; foe(n+1)=1.052344e+000; krok(n+1)=1.962005e-001; ng(n+1)=1.344827e+002;
n=49; farx(n+1)=5.476726e-001; foe(n+1)=1.022169e+000; krok(n+1)=1.297327e-001; ng(n+1)=8.283487e+001;
n=50; farx(n+1)=5.268081e-001; foe(n+1)=9.910827e-001; krok(n+1)=6.703118e-002; ng(n+1)=1.269251e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
