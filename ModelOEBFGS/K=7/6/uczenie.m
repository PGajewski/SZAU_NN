%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.999997e+002; foe(n+1)=1.968680e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.809632e+002; foe(n+1)=1.781595e+002; krok(n+1)=6.510435e-004; ng(n+1)=5.850905e+002;
n=2; farx(n+1)=8.172191e+001; foe(n+1)=7.853397e+001; krok(n+1)=1.258748e-002; ng(n+1)=4.007703e+002;
n=3; farx(n+1)=5.986585e+001; foe(n+1)=6.052375e+001; krok(n+1)=4.283128e-004; ng(n+1)=1.158809e+003;
n=4; farx(n+1)=5.753472e+001; foe(n+1)=5.971218e+001; krok(n+1)=8.229017e-004; ng(n+1)=1.812086e+002;
n=5; farx(n+1)=2.570069e+001; foe(n+1)=5.253502e+001; krok(n+1)=1.305012e-002; ng(n+1)=1.286087e+002;
n=6; farx(n+1)=9.810698e+000; foe(n+1)=3.117679e+001; krok(n+1)=1.820180e-002; ng(n+1)=1.185688e+003;
n=7; farx(n+1)=9.106615e+000; foe(n+1)=2.917427e+001; krok(n+1)=1.523335e-004; ng(n+1)=1.704488e+003;
n=8; farx(n+1)=8.859736e+000; foe(n+1)=2.495674e+001; krok(n+1)=1.970836e-003; ng(n+1)=1.639511e+003;
n=9; farx(n+1)=9.250183e+000; foe(n+1)=2.248675e+001; krok(n+1)=1.378623e-002; ng(n+1)=7.203964e+002;
n=10; farx(n+1)=8.840852e+000; foe(n+1)=2.146362e+001; krok(n+1)=8.085176e-003; ng(n+1)=1.804057e+002;
n=11; farx(n+1)=7.393908e+000; foe(n+1)=1.904291e+001; krok(n+1)=1.165911e-002; ng(n+1)=3.078887e+002;
n=12; farx(n+1)=6.526566e+000; foe(n+1)=1.798752e+001; krok(n+1)=7.034667e-004; ng(n+1)=6.182778e+002;
n=13; farx(n+1)=5.608641e+000; foe(n+1)=1.683847e+001; krok(n+1)=4.883941e-003; ng(n+1)=9.381259e+002;
n=14; farx(n+1)=5.156277e+000; foe(n+1)=1.577575e+001; krok(n+1)=1.742611e-003; ng(n+1)=1.230895e+003;
n=15; farx(n+1)=4.827868e+000; foe(n+1)=1.542703e+001; krok(n+1)=3.595838e-003; ng(n+1)=8.095334e+002;
n=16; farx(n+1)=4.530345e+000; foe(n+1)=1.505515e+001; krok(n+1)=4.271237e-003; ng(n+1)=6.731650e+002;
n=17; farx(n+1)=3.218481e+000; foe(n+1)=1.267453e+001; krok(n+1)=3.798141e-002; ng(n+1)=7.234137e+002;
n=18; farx(n+1)=1.920922e+000; foe(n+1)=1.011473e+001; krok(n+1)=4.901052e-003; ng(n+1)=6.799845e+002;
n=19; farx(n+1)=1.763131e+000; foe(n+1)=9.295960e+000; krok(n+1)=1.323776e-003; ng(n+1)=1.168409e+003;
n=20; farx(n+1)=1.630335e+000; foe(n+1)=8.829263e+000; krok(n+1)=1.495426e-003; ng(n+1)=6.510503e+002;
n=21; farx(n+1)=1.417982e+000; foe(n+1)=7.469402e+000; krok(n+1)=6.669234e-003; ng(n+1)=2.828618e+002;
n=22; farx(n+1)=1.461590e+000; foe(n+1)=6.847756e+000; krok(n+1)=3.891067e-003; ng(n+1)=4.301271e+002;
n=23; farx(n+1)=1.347206e+000; foe(n+1)=6.126850e+000; krok(n+1)=1.204622e-002; ng(n+1)=4.975917e+002;
n=24; farx(n+1)=1.321217e+000; foe(n+1)=5.501188e+000; krok(n+1)=1.308935e-002; ng(n+1)=8.336788e+002;
n=25; farx(n+1)=1.286505e+000; foe(n+1)=4.725776e+000; krok(n+1)=1.488820e-002; ng(n+1)=8.247064e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.273119e+000; foe(n+1)=4.678200e+000; krok(n+1)=9.841122e-006; ng(n+1)=2.249455e+002;
n=27; farx(n+1)=1.265413e+000; foe(n+1)=4.660707e+000; krok(n+1)=1.895309e-005; ng(n+1)=1.208514e+002;
n=28; farx(n+1)=1.121865e+000; foe(n+1)=4.211543e+000; krok(n+1)=5.945797e-004; ng(n+1)=1.142986e+002;
n=29; farx(n+1)=1.083016e+000; foe(n+1)=3.821887e+000; krok(n+1)=3.003772e-004; ng(n+1)=1.547508e+002;
n=30; farx(n+1)=1.027292e+000; foe(n+1)=3.558249e+000; krok(n+1)=1.317301e-003; ng(n+1)=1.203717e+002;
n=31; farx(n+1)=8.794610e-001; foe(n+1)=2.779314e+000; krok(n+1)=8.579668e-003; ng(n+1)=4.123109e+001;
n=32; farx(n+1)=8.706623e-001; foe(n+1)=2.635208e+000; krok(n+1)=6.130766e-003; ng(n+1)=1.921708e+002;
n=33; farx(n+1)=8.653305e-001; foe(n+1)=2.243195e+000; krok(n+1)=6.380132e-003; ng(n+1)=3.037415e+002;
n=34; farx(n+1)=8.524053e-001; foe(n+1)=1.898043e+000; krok(n+1)=5.402185e-003; ng(n+1)=4.738692e+002;
n=35; farx(n+1)=8.411631e-001; foe(n+1)=1.836248e+000; krok(n+1)=2.282102e-003; ng(n+1)=2.267957e+002;
n=36; farx(n+1)=7.938540e-001; foe(n+1)=1.686862e+000; krok(n+1)=2.768352e-002; ng(n+1)=2.129315e+002;
n=37; farx(n+1)=7.338426e-001; foe(n+1)=1.630575e+000; krok(n+1)=4.438543e-002; ng(n+1)=1.868445e+002;
n=38; farx(n+1)=6.723226e-001; foe(n+1)=1.528541e+000; krok(n+1)=2.617232e-002; ng(n+1)=2.223173e+002;
n=39; farx(n+1)=6.591873e-001; foe(n+1)=1.513724e+000; krok(n+1)=1.806042e-002; ng(n+1)=5.864082e+001;
n=40; farx(n+1)=6.175716e-001; foe(n+1)=1.445012e+000; krok(n+1)=1.189399e-002; ng(n+1)=1.130775e+002;
n=41; farx(n+1)=5.891393e-001; foe(n+1)=1.384831e+000; krok(n+1)=2.331735e-002; ng(n+1)=1.104465e+002;
n=42; farx(n+1)=5.393664e-001; foe(n+1)=1.267880e+000; krok(n+1)=9.464413e-002; ng(n+1)=1.431809e+002;
n=43; farx(n+1)=5.202628e-001; foe(n+1)=1.207310e+000; krok(n+1)=5.258261e-002; ng(n+1)=1.676762e+002;
n=44; farx(n+1)=5.225568e-001; foe(n+1)=1.177062e+000; krok(n+1)=6.357754e-002; ng(n+1)=2.410428e+001;
n=45; farx(n+1)=5.941304e-001; foe(n+1)=1.110378e+000; krok(n+1)=1.160291e-001; ng(n+1)=9.177696e+001;
n=46; farx(n+1)=6.379787e-001; foe(n+1)=1.079396e+000; krok(n+1)=1.016482e-001; ng(n+1)=4.794468e+001;
n=47; farx(n+1)=6.370220e-001; foe(n+1)=1.071585e+000; krok(n+1)=6.130039e-002; ng(n+1)=3.208744e+001;
n=48; farx(n+1)=6.115654e-001; foe(n+1)=1.025429e+000; krok(n+1)=2.093785e-001; ng(n+1)=1.397568e+001;
n=49; farx(n+1)=5.951245e-001; foe(n+1)=1.009043e+000; krok(n+1)=9.907791e-002; ng(n+1)=7.695848e+001;
n=50; farx(n+1)=5.577823e-001; foe(n+1)=9.726966e-001; krok(n+1)=1.420813e-001; ng(n+1)=5.379551e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
