%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.929020e+002; foe(n+1)=1.922730e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.764266e+002; foe(n+1)=1.750981e+002; krok(n+1)=6.617550e-004; ng(n+1)=5.234942e+002;
n=2; farx(n+1)=7.279278e+001; foe(n+1)=6.286309e+001; krok(n+1)=1.109636e-002; ng(n+1)=3.778142e+002;
n=3; farx(n+1)=7.066169e+001; foe(n+1)=6.227881e+001; krok(n+1)=5.762304e-004; ng(n+1)=1.746964e+002;
n=4; farx(n+1)=6.460914e+001; foe(n+1)=6.143149e+001; krok(n+1)=3.025064e-003; ng(n+1)=8.198348e+001;
n=5; farx(n+1)=1.044036e+001; foe(n+1)=4.593222e+001; krok(n+1)=9.725768e-003; ng(n+1)=1.691250e+002;
n=6; farx(n+1)=7.281764e+000; foe(n+1)=4.480180e+001; krok(n+1)=5.705256e-004; ng(n+1)=1.382723e+003;
n=7; farx(n+1)=5.690486e+000; foe(n+1)=4.115704e+001; krok(n+1)=8.237127e-003; ng(n+1)=2.081400e+003;
n=8; farx(n+1)=5.563937e+000; foe(n+1)=4.007685e+001; krok(n+1)=1.837317e-004; ng(n+1)=3.044759e+003;
n=9; farx(n+1)=6.496089e+000; foe(n+1)=2.837772e+001; krok(n+1)=1.121665e-002; ng(n+1)=3.371019e+003;
n=10; farx(n+1)=6.574260e+000; foe(n+1)=2.786878e+001; krok(n+1)=2.867210e-004; ng(n+1)=3.479978e+003;
n=11; farx(n+1)=7.051026e+000; foe(n+1)=2.390642e+001; krok(n+1)=8.103099e-003; ng(n+1)=3.360333e+003;
n=12; farx(n+1)=7.124841e+000; foe(n+1)=2.347461e+001; krok(n+1)=3.824295e-004; ng(n+1)=1.346190e+003;
n=13; farx(n+1)=7.710148e+000; foe(n+1)=2.184713e+001; krok(n+1)=1.716139e-002; ng(n+1)=6.990092e+002;
n=14; farx(n+1)=7.886734e+000; foe(n+1)=1.977154e+001; krok(n+1)=1.064021e-002; ng(n+1)=7.973700e+002;
n=15; farx(n+1)=7.492999e+000; foe(n+1)=1.801038e+001; krok(n+1)=9.005086e-003; ng(n+1)=4.273560e+002;
n=16; farx(n+1)=7.228907e+000; foe(n+1)=1.719992e+001; krok(n+1)=1.020808e-003; ng(n+1)=7.668563e+002;
n=17; farx(n+1)=6.421792e+000; foe(n+1)=1.556008e+001; krok(n+1)=5.711090e-003; ng(n+1)=4.963870e+002;
n=18; farx(n+1)=5.735183e+000; foe(n+1)=1.426382e+001; krok(n+1)=2.647552e-003; ng(n+1)=4.767779e+002;
n=19; farx(n+1)=3.938409e+000; foe(n+1)=8.759589e+000; krok(n+1)=8.204311e-003; ng(n+1)=1.248828e+003;
n=20; farx(n+1)=3.454716e+000; foe(n+1)=7.666576e+000; krok(n+1)=1.181843e-003; ng(n+1)=9.792334e+002;
n=21; farx(n+1)=2.899335e+000; foe(n+1)=6.336190e+000; krok(n+1)=2.063028e-003; ng(n+1)=1.056207e+003;
n=22; farx(n+1)=2.138386e+000; foe(n+1)=4.207887e+000; krok(n+1)=1.223774e-002; ng(n+1)=7.181327e+002;
n=23; farx(n+1)=1.562965e+000; foe(n+1)=3.257958e+000; krok(n+1)=2.076180e-002; ng(n+1)=3.009710e+002;
n=24; farx(n+1)=1.510381e+000; foe(n+1)=3.084708e+000; krok(n+1)=1.750227e-003; ng(n+1)=5.004533e+002;
n=25; farx(n+1)=1.469058e+000; foe(n+1)=2.885047e+000; krok(n+1)=1.680696e-002; ng(n+1)=2.344597e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.462407e+000; foe(n+1)=2.841497e+000; krok(n+1)=1.109569e-005; ng(n+1)=2.317767e+002;
n=27; farx(n+1)=1.458115e+000; foe(n+1)=2.832383e+000; krok(n+1)=1.771309e-005; ng(n+1)=7.396674e+001;
n=28; farx(n+1)=1.441334e+000; foe(n+1)=2.794411e+000; krok(n+1)=3.383827e-004; ng(n+1)=4.540674e+001;
n=29; farx(n+1)=1.336265e+000; foe(n+1)=2.517275e+000; krok(n+1)=1.902387e-003; ng(n+1)=4.363378e+001;
n=30; farx(n+1)=1.209171e+000; foe(n+1)=2.390218e+000; krok(n+1)=5.318174e-003; ng(n+1)=8.098800e+001;
n=31; farx(n+1)=8.648029e-001; foe(n+1)=2.052531e+000; krok(n+1)=1.918067e-002; ng(n+1)=1.979892e+002;
n=32; farx(n+1)=8.212204e-001; foe(n+1)=2.004094e+000; krok(n+1)=2.391558e-003; ng(n+1)=3.339117e+002;
n=33; farx(n+1)=7.448929e-001; foe(n+1)=1.879254e+000; krok(n+1)=6.746361e-003; ng(n+1)=1.888501e+002;
n=34; farx(n+1)=7.091626e-001; foe(n+1)=1.798009e+000; krok(n+1)=6.223487e-003; ng(n+1)=2.206687e+002;
n=35; farx(n+1)=6.608820e-001; foe(n+1)=1.449742e+000; krok(n+1)=1.360507e-002; ng(n+1)=3.748446e+002;
n=36; farx(n+1)=6.333533e-001; foe(n+1)=1.320498e+000; krok(n+1)=4.494346e-003; ng(n+1)=3.038225e+002;
n=37; farx(n+1)=6.150847e-001; foe(n+1)=1.213187e+000; krok(n+1)=1.000091e-002; ng(n+1)=3.458341e+002;
n=38; farx(n+1)=6.223782e-001; foe(n+1)=1.182084e+000; krok(n+1)=3.500452e-002; ng(n+1)=6.355445e+001;
n=39; farx(n+1)=5.825508e-001; foe(n+1)=1.101627e+000; krok(n+1)=1.190847e-001; ng(n+1)=1.606779e+002;
n=40; farx(n+1)=5.662440e-001; foe(n+1)=1.060327e+000; krok(n+1)=1.634950e-002; ng(n+1)=1.930943e+002;
n=41; farx(n+1)=5.571587e-001; foe(n+1)=1.035151e+000; krok(n+1)=2.876644e-002; ng(n+1)=3.297282e+001;
n=42; farx(n+1)=5.489991e-001; foe(n+1)=9.976612e-001; krok(n+1)=9.486201e-003; ng(n+1)=9.764693e+001;
n=43; farx(n+1)=5.437739e-001; foe(n+1)=9.718722e-001; krok(n+1)=3.234070e-002; ng(n+1)=1.189090e+002;
n=44; farx(n+1)=5.144707e-001; foe(n+1)=9.186670e-001; krok(n+1)=1.677326e-001; ng(n+1)=4.563224e+001;
n=45; farx(n+1)=5.096485e-001; foe(n+1)=9.133186e-001; krok(n+1)=1.517095e-002; ng(n+1)=5.177257e+001;
n=46; farx(n+1)=4.862476e-001; foe(n+1)=8.959302e-001; krok(n+1)=1.204927e-001; ng(n+1)=4.626663e+001;
n=47; farx(n+1)=4.663028e-001; foe(n+1)=8.676011e-001; krok(n+1)=1.702433e-001; ng(n+1)=4.190704e+001;
n=48; farx(n+1)=4.388802e-001; foe(n+1)=8.404923e-001; krok(n+1)=1.277097e-001; ng(n+1)=7.648892e+001;
n=49; farx(n+1)=4.160882e-001; foe(n+1)=8.209248e-001; krok(n+1)=6.561970e-002; ng(n+1)=1.443839e+002;
n=50; farx(n+1)=4.134403e-001; foe(n+1)=8.035769e-001; krok(n+1)=1.482616e-001; ng(n+1)=5.275333e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
