%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.009801e+002; foe(n+1)=1.977440e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.803535e+002; foe(n+1)=1.782709e+002; krok(n+1)=6.190058e-004; ng(n+1)=5.620285e+002;
n=2; farx(n+1)=5.809680e+001; foe(n+1)=7.105489e+001; krok(n+1)=1.423591e-002; ng(n+1)=3.530660e+002;
n=3; farx(n+1)=4.164761e+001; foe(n+1)=5.489812e+001; krok(n+1)=3.383827e-004; ng(n+1)=1.200353e+003;
n=4; farx(n+1)=3.923730e+001; foe(n+1)=5.397764e+001; krok(n+1)=7.310963e-004; ng(n+1)=2.053226e+002;
n=5; farx(n+1)=1.778123e+001; foe(n+1)=4.592764e+001; krok(n+1)=5.381741e-003; ng(n+1)=1.969791e+002;
n=6; farx(n+1)=1.067885e+001; foe(n+1)=3.561818e+001; krok(n+1)=6.496894e-003; ng(n+1)=1.425031e+003;
n=7; farx(n+1)=9.645510e+000; foe(n+1)=3.349636e+001; krok(n+1)=1.078226e-003; ng(n+1)=1.985931e+003;
n=8; farx(n+1)=9.511009e+000; foe(n+1)=3.008007e+001; krok(n+1)=4.708341e-003; ng(n+1)=1.394323e+003;
n=9; farx(n+1)=9.139929e+000; foe(n+1)=2.917072e+001; krok(n+1)=2.218843e-003; ng(n+1)=6.812881e+002;
n=10; farx(n+1)=9.799906e+000; foe(n+1)=2.672136e+001; krok(n+1)=2.399905e-002; ng(n+1)=4.181496e+002;
n=11; farx(n+1)=1.027467e+001; foe(n+1)=2.546789e+001; krok(n+1)=8.128862e-003; ng(n+1)=5.907811e+002;
n=12; farx(n+1)=1.032056e+001; foe(n+1)=2.483455e+001; krok(n+1)=4.736926e-003; ng(n+1)=4.524842e+002;
n=13; farx(n+1)=9.940635e+000; foe(n+1)=2.399516e+001; krok(n+1)=1.069268e-002; ng(n+1)=1.993107e+002;
n=14; farx(n+1)=8.736178e+000; foe(n+1)=2.104994e+001; krok(n+1)=7.504897e-003; ng(n+1)=4.337125e+002;
n=15; farx(n+1)=8.344300e+000; foe(n+1)=2.066016e+001; krok(n+1)=3.544455e-003; ng(n+1)=3.239767e+002;
n=16; farx(n+1)=5.924207e+000; foe(n+1)=1.815892e+001; krok(n+1)=5.919426e-002; ng(n+1)=5.538459e+002;
n=17; farx(n+1)=5.559838e+000; foe(n+1)=1.750517e+001; krok(n+1)=1.711903e-004; ng(n+1)=1.366565e+003;
n=18; farx(n+1)=4.973529e+000; foe(n+1)=1.678387e+001; krok(n+1)=6.669234e-003; ng(n+1)=8.174192e+002;
n=19; farx(n+1)=4.070359e+000; foe(n+1)=1.587355e+001; krok(n+1)=8.580693e-003; ng(n+1)=2.594022e+002;
n=20; farx(n+1)=3.424231e+000; foe(n+1)=1.407591e+001; krok(n+1)=9.988568e-004; ng(n+1)=1.104467e+003;
n=21; farx(n+1)=3.235455e+000; foe(n+1)=1.370426e+001; krok(n+1)=5.428423e-004; ng(n+1)=8.133689e+002;
n=22; farx(n+1)=3.188807e+000; foe(n+1)=1.319565e+001; krok(n+1)=3.009584e-003; ng(n+1)=1.111820e+003;
n=23; farx(n+1)=2.198784e+000; foe(n+1)=9.884313e+000; krok(n+1)=1.538463e-002; ng(n+1)=1.379272e+003;
n=24; farx(n+1)=2.121835e+000; foe(n+1)=9.577213e+000; krok(n+1)=2.077331e-003; ng(n+1)=1.281032e+003;
n=25; farx(n+1)=1.818288e+000; foe(n+1)=9.022622e+000; krok(n+1)=8.155298e-003; ng(n+1)=7.519485e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.829475e+000; foe(n+1)=8.867960e+000; krok(n+1)=6.503681e-006; ng(n+1)=5.847703e+002;
n=27; farx(n+1)=1.869410e+000; foe(n+1)=8.676535e+000; krok(n+1)=1.404624e-005; ng(n+1)=4.603501e+002;
n=28; farx(n+1)=1.971966e+000; foe(n+1)=8.350153e+000; krok(n+1)=9.346411e-005; ng(n+1)=2.657936e+002;
n=29; farx(n+1)=1.628681e+000; foe(n+1)=6.019084e+000; krok(n+1)=5.173682e-003; ng(n+1)=9.604911e+001;
n=30; farx(n+1)=1.519532e+000; foe(n+1)=5.192912e+000; krok(n+1)=2.659087e-003; ng(n+1)=9.575424e+002;
n=31; farx(n+1)=1.468025e+000; foe(n+1)=4.688638e+000; krok(n+1)=5.045766e-004; ng(n+1)=1.084284e+003;
n=32; farx(n+1)=1.282835e+000; foe(n+1)=3.359170e+000; krok(n+1)=2.284436e-002; ng(n+1)=2.696125e+002;
n=33; farx(n+1)=1.229740e+000; foe(n+1)=2.918481e+000; krok(n+1)=2.236648e-003; ng(n+1)=6.386633e+002;
n=34; farx(n+1)=1.193325e+000; foe(n+1)=2.678831e+000; krok(n+1)=1.742611e-003; ng(n+1)=2.792698e+002;
n=35; farx(n+1)=1.175293e+000; foe(n+1)=2.543373e+000; krok(n+1)=3.516052e-003; ng(n+1)=3.797991e+002;
n=36; farx(n+1)=1.070940e+000; foe(n+1)=2.207927e+000; krok(n+1)=2.097129e-002; ng(n+1)=8.200358e+001;
n=37; farx(n+1)=9.738317e-001; foe(n+1)=1.979302e+000; krok(n+1)=1.576669e-002; ng(n+1)=3.771792e+002;
n=38; farx(n+1)=9.108744e-001; foe(n+1)=1.881865e+000; krok(n+1)=1.053841e-002; ng(n+1)=2.208577e+002;
n=39; farx(n+1)=8.165989e-001; foe(n+1)=1.730570e+000; krok(n+1)=1.664870e-002; ng(n+1)=2.108351e+002;
n=40; farx(n+1)=7.363449e-001; foe(n+1)=1.619392e+000; krok(n+1)=1.071180e-002; ng(n+1)=3.897040e+002;
n=41; farx(n+1)=7.108465e-001; foe(n+1)=1.508799e+000; krok(n+1)=6.864555e-002; ng(n+1)=2.204167e+002;
n=42; farx(n+1)=6.967033e-001; foe(n+1)=1.382791e+000; krok(n+1)=1.378623e-002; ng(n+1)=3.238095e+002;
n=43; farx(n+1)=6.704709e-001; foe(n+1)=1.304785e+000; krok(n+1)=3.805310e-002; ng(n+1)=1.150028e+002;
n=44; farx(n+1)=6.351804e-001; foe(n+1)=1.187399e+000; krok(n+1)=4.346837e-002; ng(n+1)=2.168937e+002;
n=45; farx(n+1)=5.994639e-001; foe(n+1)=1.057797e+000; krok(n+1)=1.280590e-002; ng(n+1)=3.800439e+002;
n=46; farx(n+1)=5.604696e-001; foe(n+1)=9.572603e-001; krok(n+1)=1.775074e-002; ng(n+1)=7.324098e+001;
n=47; farx(n+1)=5.499616e-001; foe(n+1)=9.368459e-001; krok(n+1)=3.769903e-002; ng(n+1)=1.778763e+002;
n=48; farx(n+1)=5.244336e-001; foe(n+1)=9.149463e-001; krok(n+1)=7.356694e-002; ng(n+1)=1.014101e+002;
n=49; farx(n+1)=4.863616e-001; foe(n+1)=8.841451e-001; krok(n+1)=1.275354e-001; ng(n+1)=2.543394e+001;
n=50; farx(n+1)=4.854412e-001; foe(n+1)=8.753388e-001; krok(n+1)=6.240867e-002; ng(n+1)=8.991614e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
