%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.855512e+002; foe(n+1)=1.936680e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.676649e+002; foe(n+1)=1.743068e+002; krok(n+1)=5.636956e-004; ng(n+1)=6.064733e+002;
n=2; farx(n+1)=6.734236e+001; foe(n+1)=6.221194e+001; krok(n+1)=1.160327e-002; ng(n+1)=3.805838e+002;
n=3; farx(n+1)=6.055769e+001; foe(n+1)=6.150639e+001; krok(n+1)=5.241643e-003; ng(n+1)=5.344113e+001;
n=4; farx(n+1)=2.020900e+001; foe(n+1)=4.988566e+001; krok(n+1)=5.445782e-003; ng(n+1)=1.660586e+002;
n=5; farx(n+1)=1.421539e+001; foe(n+1)=4.805454e+001; krok(n+1)=1.119325e-004; ng(n+1)=5.075426e+002;
n=6; farx(n+1)=1.115693e+001; foe(n+1)=4.589611e+001; krok(n+1)=1.417782e-002; ng(n+1)=8.737882e+002;
n=7; farx(n+1)=1.030906e+001; foe(n+1)=4.183486e+001; krok(n+1)=8.476039e-004; ng(n+1)=1.190405e+003;
n=8; farx(n+1)=1.037653e+001; foe(n+1)=4.103701e+001; krok(n+1)=3.395966e-004; ng(n+1)=1.349886e+003;
n=9; farx(n+1)=1.055678e+001; foe(n+1)=3.890571e+001; krok(n+1)=1.857911e-002; ng(n+1)=1.393102e+003;
n=10; farx(n+1)=9.162325e+000; foe(n+1)=2.659418e+001; krok(n+1)=1.302239e-002; ng(n+1)=1.675985e+003;
n=11; farx(n+1)=8.691650e+000; foe(n+1)=2.594714e+001; krok(n+1)=7.315478e-004; ng(n+1)=4.955812e+002;
n=12; farx(n+1)=8.582819e+000; foe(n+1)=2.531816e+001; krok(n+1)=3.065383e-003; ng(n+1)=1.824904e+002;
n=13; farx(n+1)=7.169120e+000; foe(n+1)=2.294243e+001; krok(n+1)=9.832841e-003; ng(n+1)=3.711206e+002;
n=14; farx(n+1)=5.946924e+000; foe(n+1)=1.859334e+001; krok(n+1)=3.128460e-003; ng(n+1)=5.246383e+002;
n=15; farx(n+1)=5.776708e+000; foe(n+1)=1.720268e+001; krok(n+1)=1.161194e-003; ng(n+1)=6.261453e+002;
n=16; farx(n+1)=4.678151e+000; foe(n+1)=1.575749e+001; krok(n+1)=2.067140e-002; ng(n+1)=2.317655e+002;
n=17; farx(n+1)=3.806949e+000; foe(n+1)=1.418033e+001; krok(n+1)=8.108299e-003; ng(n+1)=2.666041e+002;
n=18; farx(n+1)=1.969690e+000; foe(n+1)=1.038850e+001; krok(n+1)=1.012183e-002; ng(n+1)=5.747921e+002;
n=19; farx(n+1)=1.503686e+000; foe(n+1)=8.107963e+000; krok(n+1)=8.704305e-003; ng(n+1)=4.790999e+002;
n=20; farx(n+1)=1.708874e+000; foe(n+1)=5.998097e+000; krok(n+1)=1.876224e-003; ng(n+1)=1.060687e+003;
n=21; farx(n+1)=1.843732e+000; foe(n+1)=5.813195e+000; krok(n+1)=1.093065e-003; ng(n+1)=6.527519e+002;
n=22; farx(n+1)=1.979411e+000; foe(n+1)=5.632027e+000; krok(n+1)=6.446985e-003; ng(n+1)=7.024682e+002;
n=23; farx(n+1)=1.955352e+000; foe(n+1)=5.429668e+000; krok(n+1)=1.605804e-002; ng(n+1)=4.694504e+002;
n=24; farx(n+1)=1.786363e+000; foe(n+1)=4.910269e+000; krok(n+1)=6.444366e-002; ng(n+1)=3.622306e+002;
n=25; farx(n+1)=1.691598e+000; foe(n+1)=4.486036e+000; krok(n+1)=1.321526e-002; ng(n+1)=5.453363e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.638656e+000; foe(n+1)=4.395981e+000; krok(n+1)=8.559513e-005; ng(n+1)=1.295008e+002;
n=27; farx(n+1)=1.641740e+000; foe(n+1)=4.368949e+000; krok(n+1)=6.140602e-005; ng(n+1)=9.078879e+001;
n=28; farx(n+1)=1.662294e+000; foe(n+1)=4.343463e+000; krok(n+1)=3.418410e-005; ng(n+1)=1.072647e+002;
n=29; farx(n+1)=1.402852e+000; foe(n+1)=3.979626e+000; krok(n+1)=5.548179e-003; ng(n+1)=3.841321e+001;
n=30; farx(n+1)=1.288134e+000; foe(n+1)=3.758175e+000; krok(n+1)=1.552665e-002; ng(n+1)=5.165097e+001;
n=31; farx(n+1)=1.131315e+000; foe(n+1)=3.493165e+000; krok(n+1)=1.285062e-002; ng(n+1)=9.977775e+001;
n=32; farx(n+1)=1.006312e+000; foe(n+1)=3.052552e+000; krok(n+1)=2.667694e-002; ng(n+1)=3.052593e+002;
n=33; farx(n+1)=9.931601e-001; foe(n+1)=2.943759e+000; krok(n+1)=7.835038e-003; ng(n+1)=1.702322e+002;
n=34; farx(n+1)=9.126612e-001; foe(n+1)=2.446573e+000; krok(n+1)=1.949750e-002; ng(n+1)=1.561968e+002;
n=35; farx(n+1)=9.184121e-001; foe(n+1)=2.415919e+000; krok(n+1)=1.934289e-003; ng(n+1)=1.706756e+002;
n=36; farx(n+1)=8.429981e-001; foe(n+1)=2.294067e+000; krok(n+1)=1.912971e-002; ng(n+1)=6.318959e+001;
n=37; farx(n+1)=7.799107e-001; foe(n+1)=2.160077e+000; krok(n+1)=1.779884e-002; ng(n+1)=1.150439e+002;
n=38; farx(n+1)=7.694183e-001; foe(n+1)=2.001625e+000; krok(n+1)=4.524124e-002; ng(n+1)=9.721298e+001;
n=39; farx(n+1)=7.350713e-001; foe(n+1)=1.864585e+000; krok(n+1)=2.418485e-002; ng(n+1)=1.085510e+002;
n=40; farx(n+1)=7.206885e-001; foe(n+1)=1.768007e+000; krok(n+1)=4.312903e-003; ng(n+1)=2.374964e+002;
n=41; farx(n+1)=7.007706e-001; foe(n+1)=1.676178e+000; krok(n+1)=2.366103e-002; ng(n+1)=9.411790e+001;
n=42; farx(n+1)=7.013343e-001; foe(n+1)=1.561361e+000; krok(n+1)=1.301252e-002; ng(n+1)=1.288219e+002;
n=43; farx(n+1)=6.429785e-001; foe(n+1)=1.412192e+000; krok(n+1)=1.238254e-001; ng(n+1)=1.094109e+002;
n=44; farx(n+1)=6.309201e-001; foe(n+1)=1.349049e+000; krok(n+1)=3.500452e-002; ng(n+1)=1.633330e+002;
n=45; farx(n+1)=6.313881e-001; foe(n+1)=1.314808e+000; krok(n+1)=2.362755e-002; ng(n+1)=8.772665e+001;
n=46; farx(n+1)=6.239261e-001; foe(n+1)=1.281926e+000; krok(n+1)=8.973423e-002; ng(n+1)=4.302173e+001;
n=47; farx(n+1)=5.699371e-001; foe(n+1)=1.192633e+000; krok(n+1)=2.840119e-001; ng(n+1)=5.748705e+001;
n=48; farx(n+1)=5.608020e-001; foe(n+1)=1.173701e+000; krok(n+1)=1.849615e-002; ng(n+1)=1.511978e+002;
n=49; farx(n+1)=5.309490e-001; foe(n+1)=1.132539e+000; krok(n+1)=6.357754e-002; ng(n+1)=4.502804e+001;
n=50; farx(n+1)=5.067502e-001; foe(n+1)=1.104192e+000; krok(n+1)=4.382471e-002; ng(n+1)=7.363959e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
