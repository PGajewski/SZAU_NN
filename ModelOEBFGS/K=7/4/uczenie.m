%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.973829e+002; foe(n+1)=1.930272e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.742096e+002; foe(n+1)=1.712345e+002; krok(n+1)=5.394877e-004; ng(n+1)=5.671983e+002;
n=2; farx(n+1)=6.561306e+001; foe(n+1)=6.501566e+001; krok(n+1)=1.142218e-002; ng(n+1)=2.829498e+002;
n=3; farx(n+1)=6.134726e+001; foe(n+1)=6.027038e+001; krok(n+1)=1.935356e-003; ng(n+1)=2.472197e+002;
n=4; farx(n+1)=5.861438e+001; foe(n+1)=5.941557e+001; krok(n+1)=3.918749e-003; ng(n+1)=7.657688e+001;
n=5; farx(n+1)=2.175021e+001; foe(n+1)=4.746635e+001; krok(n+1)=3.043820e-002; ng(n+1)=1.000426e+002;
n=6; farx(n+1)=1.289956e+001; foe(n+1)=4.186276e+001; krok(n+1)=1.119612e-003; ng(n+1)=7.479882e+002;
n=7; farx(n+1)=1.127836e+001; foe(n+1)=3.884593e+001; krok(n+1)=3.551278e-004; ng(n+1)=1.276139e+003;
n=8; farx(n+1)=1.165340e+001; foe(n+1)=3.775608e+001; krok(n+1)=4.743099e-003; ng(n+1)=1.716254e+003;
n=9; farx(n+1)=1.227375e+001; foe(n+1)=3.417495e+001; krok(n+1)=2.855545e-003; ng(n+1)=1.815320e+003;
n=10; farx(n+1)=1.233864e+001; foe(n+1)=3.247207e+001; krok(n+1)=3.408889e-003; ng(n+1)=7.726210e+002;
n=11; farx(n+1)=1.426034e+001; foe(n+1)=3.136880e+001; krok(n+1)=9.785155e-003; ng(n+1)=3.200706e+002;
n=12; farx(n+1)=1.320046e+001; foe(n+1)=2.952110e+001; krok(n+1)=2.076180e-002; ng(n+1)=2.506318e+002;
n=13; farx(n+1)=1.244726e+001; foe(n+1)=2.888372e+001; krok(n+1)=7.592571e-003; ng(n+1)=3.022594e+002;
n=14; farx(n+1)=1.261065e+001; foe(n+1)=2.737300e+001; krok(n+1)=7.453659e-003; ng(n+1)=3.996364e+002;
n=15; farx(n+1)=1.106577e+001; foe(n+1)=2.482634e+001; krok(n+1)=1.848181e-002; ng(n+1)=5.464167e+002;
n=16; farx(n+1)=7.114180e+000; foe(n+1)=2.087929e+001; krok(n+1)=2.928765e-002; ng(n+1)=4.454445e+002;
n=17; farx(n+1)=4.997830e+000; foe(n+1)=1.693672e+001; krok(n+1)=9.602589e-003; ng(n+1)=2.878993e+002;
n=18; farx(n+1)=4.428618e+000; foe(n+1)=1.557422e+001; krok(n+1)=9.825431e-004; ng(n+1)=6.519738e+002;
n=19; farx(n+1)=4.484557e+000; foe(n+1)=1.495962e+001; krok(n+1)=2.464963e-003; ng(n+1)=3.459316e+002;
n=20; farx(n+1)=5.016988e+000; foe(n+1)=1.301663e+001; krok(n+1)=1.282772e-002; ng(n+1)=2.785860e+002;
n=21; farx(n+1)=4.972488e+000; foe(n+1)=1.217957e+001; krok(n+1)=2.076855e-003; ng(n+1)=3.203134e+002;
n=22; farx(n+1)=4.205687e+000; foe(n+1)=1.114608e+001; krok(n+1)=1.199953e-002; ng(n+1)=3.598415e+002;
n=23; farx(n+1)=3.446201e+000; foe(n+1)=8.574860e+000; krok(n+1)=2.320653e-002; ng(n+1)=5.184245e+002;
n=24; farx(n+1)=3.030727e+000; foe(n+1)=7.627209e+000; krok(n+1)=4.254539e-002; ng(n+1)=3.128623e+002;
n=25; farx(n+1)=2.794167e+000; foe(n+1)=6.913248e+000; krok(n+1)=2.876644e-002; ng(n+1)=5.345418e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.539095e+000; foe(n+1)=6.354981e+000; krok(n+1)=4.901091e-005; ng(n+1)=3.807538e+002;
n=27; farx(n+1)=2.483255e+000; foe(n+1)=6.280039e+000; krok(n+1)=2.330940e-005; ng(n+1)=2.151640e+002;
n=28; farx(n+1)=2.361592e+000; foe(n+1)=6.056384e+000; krok(n+1)=2.661414e-004; ng(n+1)=1.085451e+002;
n=29; farx(n+1)=1.820058e+000; foe(n+1)=4.993334e+000; krok(n+1)=3.065383e-003; ng(n+1)=1.002081e+002;
n=30; farx(n+1)=1.628573e+000; foe(n+1)=4.258458e+000; krok(n+1)=8.891335e-003; ng(n+1)=1.230095e+002;
n=31; farx(n+1)=1.467788e+000; foe(n+1)=4.062370e+000; krok(n+1)=3.012318e-002; ng(n+1)=4.060200e+001;
n=32; farx(n+1)=1.400248e+000; foe(n+1)=3.850120e+000; krok(n+1)=5.478088e-003; ng(n+1)=1.553594e+002;
n=33; farx(n+1)=1.325587e+000; foe(n+1)=3.411021e+000; krok(n+1)=1.464382e-002; ng(n+1)=1.805690e+002;
n=34; farx(n+1)=1.269307e+000; foe(n+1)=2.984354e+000; krok(n+1)=7.585588e-003; ng(n+1)=4.114207e+002;
n=35; farx(n+1)=1.243988e+000; foe(n+1)=2.871947e+000; krok(n+1)=4.795168e-003; ng(n+1)=1.459906e+002;
n=36; farx(n+1)=1.125541e+000; foe(n+1)=2.603256e+000; krok(n+1)=3.387226e-002; ng(n+1)=2.124014e+002;
n=37; farx(n+1)=1.062737e+000; foe(n+1)=2.441565e+000; krok(n+1)=8.252536e-003; ng(n+1)=2.003957e+002;
n=38; farx(n+1)=9.170228e-001; foe(n+1)=2.149233e+000; krok(n+1)=2.835564e-002; ng(n+1)=1.084506e+002;
n=39; farx(n+1)=8.045222e-001; foe(n+1)=1.919425e+000; krok(n+1)=4.048730e-002; ng(n+1)=1.839531e+002;
n=40; farx(n+1)=7.584745e-001; foe(n+1)=1.813416e+000; krok(n+1)=7.676586e-003; ng(n+1)=1.308324e+002;
n=41; farx(n+1)=7.462708e-001; foe(n+1)=1.747330e+000; krok(n+1)=3.990929e-003; ng(n+1)=2.504364e+002;
n=42; farx(n+1)=7.312953e-001; foe(n+1)=1.705757e+000; krok(n+1)=1.219985e-002; ng(n+1)=5.562505e+001;
n=43; farx(n+1)=6.983300e-001; foe(n+1)=1.580382e+000; krok(n+1)=1.023953e-002; ng(n+1)=7.896071e+001;
n=44; farx(n+1)=6.889857e-001; foe(n+1)=1.504697e+000; krok(n+1)=4.446078e-002; ng(n+1)=1.924456e+002;
n=45; farx(n+1)=6.695237e-001; foe(n+1)=1.462439e+000; krok(n+1)=3.582758e-002; ng(n+1)=4.053547e+001;
n=46; farx(n+1)=6.368105e-001; foe(n+1)=1.406597e+000; krok(n+1)=9.004374e-002; ng(n+1)=6.614387e+001;
n=47; farx(n+1)=6.046765e-001; foe(n+1)=1.297396e+000; krok(n+1)=7.478469e-002; ng(n+1)=1.237922e+002;
n=48; farx(n+1)=5.785443e-001; foe(n+1)=1.257392e+000; krok(n+1)=4.681906e-002; ng(n+1)=2.969415e+001;
n=49; farx(n+1)=5.294919e-001; foe(n+1)=1.200225e+000; krok(n+1)=1.019950e-001; ng(n+1)=3.736145e+001;
n=50; farx(n+1)=4.965861e-001; foe(n+1)=1.159884e+000; krok(n+1)=1.480267e-001; ng(n+1)=1.100318e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
