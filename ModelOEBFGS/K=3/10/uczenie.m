%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.938852e+002; foe(n+1)=2.926657e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.785228e+002; foe(n+1)=1.775871e+002; krok(n+1)=5.002119e-004; ng(n+1)=6.958669e+002;
n=2; farx(n+1)=5.960998e+001; foe(n+1)=6.320531e+001; krok(n+1)=3.128880e-002; ng(n+1)=1.274565e+002;
n=3; farx(n+1)=5.469842e+001; foe(n+1)=5.730225e+001; krok(n+1)=5.921158e-004; ng(n+1)=2.935020e+002;
n=4; farx(n+1)=5.268490e+001; foe(n+1)=5.594786e+001; krok(n+1)=9.268097e-004; ng(n+1)=1.266625e+002;
n=5; farx(n+1)=2.465762e+001; foe(n+1)=4.574140e+001; krok(n+1)=1.279622e-002; ng(n+1)=9.060940e+001;
n=6; farx(n+1)=1.382239e+001; foe(n+1)=3.721105e+001; krok(n+1)=4.161987e-003; ng(n+1)=5.964555e+002;
n=7; farx(n+1)=1.404654e+001; foe(n+1)=3.567099e+001; krok(n+1)=7.046696e-004; ng(n+1)=1.342630e+003;
n=8; farx(n+1)=1.348369e+001; foe(n+1)=3.529391e+001; krok(n+1)=4.449709e-003; ng(n+1)=1.254816e+003;
n=9; farx(n+1)=1.607317e+001; foe(n+1)=3.215709e+001; krok(n+1)=5.662806e-003; ng(n+1)=1.243938e+003;
n=10; farx(n+1)=1.627282e+001; foe(n+1)=3.164445e+001; krok(n+1)=7.088910e-003; ng(n+1)=6.404950e+002;
n=11; farx(n+1)=1.654645e+001; foe(n+1)=3.056952e+001; krok(n+1)=2.617870e-002; ng(n+1)=2.886181e+002;
n=12; farx(n+1)=1.617245e+001; foe(n+1)=2.756417e+001; krok(n+1)=1.003991e-001; ng(n+1)=2.503485e+002;
n=13; farx(n+1)=1.584901e+001; foe(n+1)=2.724682e+001; krok(n+1)=5.303205e-003; ng(n+1)=2.117301e+002;
n=14; farx(n+1)=1.035626e+001; foe(n+1)=2.424390e+001; krok(n+1)=5.051878e-002; ng(n+1)=1.653617e+002;
n=15; farx(n+1)=7.269834e+000; foe(n+1)=2.213877e+001; krok(n+1)=1.192345e-002; ng(n+1)=3.088631e+002;
n=16; farx(n+1)=6.389698e+000; foe(n+1)=2.060605e+001; krok(n+1)=5.716001e-002; ng(n+1)=3.581980e+002;
n=17; farx(n+1)=5.503034e+000; foe(n+1)=1.949728e+001; krok(n+1)=1.005024e-001; ng(n+1)=4.319921e+002;
n=18; farx(n+1)=4.852215e+000; foe(n+1)=1.855672e+001; krok(n+1)=6.474159e-002; ng(n+1)=3.606584e+002;
n=19; farx(n+1)=4.540990e+000; foe(n+1)=1.693752e+001; krok(n+1)=3.277333e-002; ng(n+1)=5.236786e+002;
n=20; farx(n+1)=3.359194e+000; foe(n+1)=1.521315e+001; krok(n+1)=1.884118e-001; ng(n+1)=4.152668e+002;
n=21; farx(n+1)=2.718324e+000; foe(n+1)=1.290471e+001; krok(n+1)=1.057221e-001; ng(n+1)=7.014962e+002;
n=22; farx(n+1)=2.561875e+000; foe(n+1)=1.155755e+001; krok(n+1)=7.596282e-002; ng(n+1)=9.280796e+002;
n=23; farx(n+1)=2.025973e+000; foe(n+1)=9.516707e+000; krok(n+1)=1.809649e-001; ng(n+1)=1.054870e+003;
n=24; farx(n+1)=1.351108e+000; foe(n+1)=7.251967e+000; krok(n+1)=9.310460e-002; ng(n+1)=7.499901e+002;
n=25; farx(n+1)=1.257216e+000; foe(n+1)=4.764648e+000; krok(n+1)=2.292378e-001; ng(n+1)=9.536139e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.250410e+000; foe(n+1)=4.410861e+000; krok(n+1)=1.524497e-005; ng(n+1)=5.355302e+002;
n=27; farx(n+1)=1.093765e+000; foe(n+1)=4.048906e+000; krok(n+1)=4.553746e-005; ng(n+1)=2.858771e+002;
n=28; farx(n+1)=1.027343e+000; foe(n+1)=3.793780e+000; krok(n+1)=3.293253e-004; ng(n+1)=9.504537e+001;
n=29; farx(n+1)=7.315915e-001; foe(n+1)=2.912995e+000; krok(n+1)=1.529700e-003; ng(n+1)=1.114071e+002;
n=30; farx(n+1)=6.388308e-001; foe(n+1)=2.235429e+000; krok(n+1)=1.111520e-002; ng(n+1)=5.921000e+001;
n=31; farx(n+1)=6.092260e-001; foe(n+1)=2.164690e+000; krok(n+1)=2.243356e-002; ng(n+1)=9.293003e+001;
n=32; farx(n+1)=6.089266e-001; foe(n+1)=2.090851e+000; krok(n+1)=1.477175e-002; ng(n+1)=1.666218e+002;
n=33; farx(n+1)=6.213937e-001; foe(n+1)=1.926850e+000; krok(n+1)=3.132047e-002; ng(n+1)=2.695809e+001;
n=34; farx(n+1)=6.031029e-001; foe(n+1)=1.884194e+000; krok(n+1)=1.799391e-002; ng(n+1)=1.686754e+002;
n=35; farx(n+1)=6.177653e-001; foe(n+1)=1.840601e+000; krok(n+1)=4.000365e-002; ng(n+1)=1.419955e+002;
n=36; farx(n+1)=6.089879e-001; foe(n+1)=1.813009e+000; krok(n+1)=1.384117e-002; ng(n+1)=1.311889e+002;
n=37; farx(n+1)=5.957386e-001; foe(n+1)=1.703658e+000; krok(n+1)=8.877087e-002; ng(n+1)=1.882707e+002;
n=38; farx(n+1)=5.728743e-001; foe(n+1)=1.583547e+000; krok(n+1)=1.742650e-001; ng(n+1)=3.084759e+002;
n=39; farx(n+1)=4.728852e-001; foe(n+1)=1.461843e+000; krok(n+1)=4.228884e-001; ng(n+1)=1.969884e+002;
n=40; farx(n+1)=4.612131e-001; foe(n+1)=1.373582e+000; krok(n+1)=8.472165e-002; ng(n+1)=1.980290e+002;
n=41; farx(n+1)=4.387056e-001; foe(n+1)=1.336053e+000; krok(n+1)=1.817918e-001; ng(n+1)=7.800358e+001;
n=42; farx(n+1)=4.202732e-001; foe(n+1)=1.246082e+000; krok(n+1)=6.026971e-001; ng(n+1)=1.198655e+002;
n=43; farx(n+1)=4.172890e-001; foe(n+1)=1.184843e+000; krok(n+1)=6.041087e-001; ng(n+1)=7.306072e+001;
n=44; farx(n+1)=3.934538e-001; foe(n+1)=1.158776e+000; krok(n+1)=6.428250e-001; ng(n+1)=4.036390e+001;
n=45; farx(n+1)=4.062583e-001; foe(n+1)=1.138467e+000; krok(n+1)=5.108389e-001; ng(n+1)=3.810496e+001;
n=46; farx(n+1)=3.737197e-001; foe(n+1)=1.116834e+000; krok(n+1)=9.429061e-001; ng(n+1)=2.208969e+001;
n=47; farx(n+1)=3.641487e-001; foe(n+1)=1.093530e+000; krok(n+1)=5.429402e-001; ng(n+1)=4.496743e+001;
n=48; farx(n+1)=3.698812e-001; foe(n+1)=1.064595e+000; krok(n+1)=8.006244e-001; ng(n+1)=3.628461e+001;
n=49; farx(n+1)=3.796858e-001; foe(n+1)=1.045034e+000; krok(n+1)=7.113726e-001; ng(n+1)=6.099567e+001;
n=50; farx(n+1)=3.656765e-001; foe(n+1)=1.034574e+000; krok(n+1)=4.128102e-001; ng(n+1)=4.597599e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
