%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.981104e+002; foe(n+1)=3.007848e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.714148e+002; foe(n+1)=1.725038e+002; krok(n+1)=4.912716e-004; ng(n+1)=7.157418e+002;
n=2; farx(n+1)=6.476331e+001; foe(n+1)=7.016656e+001; krok(n+1)=1.394089e-002; ng(n+1)=1.170116e+002;
n=3; farx(n+1)=6.141243e+001; foe(n+1)=6.594450e+001; krok(n+1)=6.019342e-004; ng(n+1)=3.248127e+002;
n=4; farx(n+1)=6.524457e+001; foe(n+1)=6.211487e+001; krok(n+1)=5.402185e-003; ng(n+1)=3.305905e+002;
n=5; farx(n+1)=4.327760e+001; foe(n+1)=5.863429e+001; krok(n+1)=2.592196e-002; ng(n+1)=5.110307e+001;
n=6; farx(n+1)=2.328097e+001; foe(n+1)=5.013528e+001; krok(n+1)=5.160128e-002; ng(n+1)=3.096245e+002;
n=7; farx(n+1)=1.776926e+001; foe(n+1)=4.795284e+001; krok(n+1)=1.463096e-003; ng(n+1)=7.267675e+002;
n=8; farx(n+1)=1.526240e+001; foe(n+1)=4.671611e+001; krok(n+1)=9.064776e-004; ng(n+1)=7.296511e+002;
n=9; farx(n+1)=1.332043e+001; foe(n+1)=4.525679e+001; krok(n+1)=4.900827e-003; ng(n+1)=7.071940e+002;
n=10; farx(n+1)=1.166744e+001; foe(n+1)=4.239628e+001; krok(n+1)=7.262643e-002; ng(n+1)=4.239651e+002;
n=11; farx(n+1)=1.308703e+001; foe(n+1)=3.998381e+001; krok(n+1)=5.003630e-003; ng(n+1)=7.778718e+002;
n=12; farx(n+1)=1.446584e+001; foe(n+1)=3.815792e+001; krok(n+1)=6.496894e-003; ng(n+1)=1.132130e+003;
n=13; farx(n+1)=1.613540e+001; foe(n+1)=3.596778e+001; krok(n+1)=1.019447e-002; ng(n+1)=5.774305e+002;
n=14; farx(n+1)=1.768351e+001; foe(n+1)=3.416990e+001; krok(n+1)=7.481826e-003; ng(n+1)=7.020622e+002;
n=15; farx(n+1)=1.703570e+001; foe(n+1)=3.068916e+001; krok(n+1)=6.224674e-002; ng(n+1)=4.627831e+002;
n=16; farx(n+1)=1.205530e+001; foe(n+1)=2.403809e+001; krok(n+1)=9.363811e-002; ng(n+1)=6.693481e+002;
n=17; farx(n+1)=1.124047e+001; foe(n+1)=2.166885e+001; krok(n+1)=2.284436e-002; ng(n+1)=1.174935e+003;
n=18; farx(n+1)=6.506797e+000; foe(n+1)=1.692670e+001; krok(n+1)=2.628275e-001; ng(n+1)=5.716990e+002;
n=19; farx(n+1)=2.463376e+000; foe(n+1)=1.187666e+001; krok(n+1)=2.271963e-001; ng(n+1)=8.383144e+002;
n=20; farx(n+1)=1.562691e+000; foe(n+1)=9.769986e+000; krok(n+1)=9.018109e-002; ng(n+1)=3.997623e+002;
n=21; farx(n+1)=1.245695e+000; foe(n+1)=8.855343e+000; krok(n+1)=3.444314e-001; ng(n+1)=1.414382e+002;
n=22; farx(n+1)=1.244019e+000; foe(n+1)=8.379329e+000; krok(n+1)=5.520515e-001; ng(n+1)=1.297309e+002;
n=23; farx(n+1)=1.244071e+000; foe(n+1)=8.086199e+000; krok(n+1)=4.726961e-001; ng(n+1)=3.032590e+002;
n=24; farx(n+1)=9.224329e-001; foe(n+1)=7.788763e+000; krok(n+1)=6.855549e-001; ng(n+1)=6.774972e+001;
n=25; farx(n+1)=8.467491e-001; foe(n+1)=7.642793e+000; krok(n+1)=6.455021e-001; ng(n+1)=6.770320e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.424531e-001; foe(n+1)=7.583045e+000; krok(n+1)=5.665485e-005; ng(n+1)=9.851577e+001;
n=27; farx(n+1)=8.418563e-001; foe(n+1)=7.581043e+000; krok(n+1)=1.319809e-005; ng(n+1)=2.085741e+001;
n=28; farx(n+1)=8.141850e-001; foe(n+1)=7.503806e+000; krok(n+1)=1.945533e-003; ng(n+1)=1.793040e+001;
n=29; farx(n+1)=8.385869e-001; foe(n+1)=7.085093e+000; krok(n+1)=2.223715e-003; ng(n+1)=4.586022e+001;
n=30; farx(n+1)=8.122199e-001; foe(n+1)=6.565788e+000; krok(n+1)=9.096510e-003; ng(n+1)=5.343563e+001;
n=31; farx(n+1)=8.096056e-001; foe(n+1)=6.406487e+000; krok(n+1)=1.499941e-003; ng(n+1)=2.595968e+002;
n=32; farx(n+1)=8.558757e-001; foe(n+1)=6.141246e+000; krok(n+1)=1.923658e-002; ng(n+1)=1.679927e+002;
n=33; farx(n+1)=8.583962e-001; foe(n+1)=6.045173e+000; krok(n+1)=1.535317e-002; ng(n+1)=2.981745e+002;
n=34; farx(n+1)=9.510211e-001; foe(n+1)=5.793365e+000; krok(n+1)=8.035313e-002; ng(n+1)=2.613716e+002;
n=35; farx(n+1)=1.176653e+000; foe(n+1)=5.446030e+000; krok(n+1)=6.442938e-002; ng(n+1)=3.234718e+002;
n=36; farx(n+1)=1.263605e+000; foe(n+1)=5.401364e+000; krok(n+1)=1.127471e-002; ng(n+1)=1.361463e+002;
n=37; farx(n+1)=1.319848e+000; foe(n+1)=5.279749e+000; krok(n+1)=7.786028e-002; ng(n+1)=7.982527e+001;
n=38; farx(n+1)=1.349979e+000; foe(n+1)=5.004223e+000; krok(n+1)=3.606523e-002; ng(n+1)=1.330129e+002;
n=39; farx(n+1)=1.399204e+000; foe(n+1)=4.432152e+000; krok(n+1)=4.686024e-001; ng(n+1)=2.240034e+002;
n=40; farx(n+1)=1.363187e+000; foe(n+1)=4.294384e+000; krok(n+1)=2.476948e-002; ng(n+1)=3.684658e+002;
n=41; farx(n+1)=1.172344e+000; foe(n+1)=3.900583e+000; krok(n+1)=7.508776e-002; ng(n+1)=2.345210e+002;
n=42; farx(n+1)=1.021763e+000; foe(n+1)=3.486243e+000; krok(n+1)=2.443912e-001; ng(n+1)=3.136926e+002;
n=43; farx(n+1)=7.984725e-001; foe(n+1)=3.198540e+000; krok(n+1)=4.170483e-001; ng(n+1)=2.076708e+002;
n=44; farx(n+1)=6.842882e-001; foe(n+1)=2.649018e+000; krok(n+1)=3.202323e-001; ng(n+1)=5.400276e+002;
n=45; farx(n+1)=6.164775e-001; foe(n+1)=2.540319e+000; krok(n+1)=1.817918e-001; ng(n+1)=7.721525e+001;
n=46; farx(n+1)=6.020882e-001; foe(n+1)=2.438057e+000; krok(n+1)=3.963116e-001; ng(n+1)=2.529183e+002;
n=47; farx(n+1)=6.020787e-001; foe(n+1)=2.369805e+000; krok(n+1)=1.664220e-001; ng(n+1)=6.590107e+001;
n=48; farx(n+1)=6.216671e-001; foe(n+1)=2.293664e+000; krok(n+1)=9.576737e-001; ng(n+1)=1.341370e+002;
n=49; farx(n+1)=6.044531e-001; foe(n+1)=2.234776e+000; krok(n+1)=9.429061e-001; ng(n+1)=4.126440e+001;
n=50; farx(n+1)=5.998422e-001; foe(n+1)=2.168650e+000; krok(n+1)=4.041502e-001; ng(n+1)=7.571876e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
