%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.966553e+002; foe(n+1)=2.998251e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.753439e+002; foe(n+1)=1.771151e+002; krok(n+1)=4.927090e-004; ng(n+1)=6.948907e+002;
n=2; farx(n+1)=7.099629e+001; foe(n+1)=6.315697e+001; krok(n+1)=2.847182e-002; ng(n+1)=1.060140e+002;
n=3; farx(n+1)=6.149167e+001; foe(n+1)=6.224586e+001; krok(n+1)=3.400118e-003; ng(n+1)=5.112716e+001;
n=4; farx(n+1)=2.962170e+001; foe(n+1)=5.681639e+001; krok(n+1)=1.812955e-003; ng(n+1)=1.653815e+002;
n=5; farx(n+1)=1.569222e+001; foe(n+1)=5.309515e+001; krok(n+1)=1.133097e-004; ng(n+1)=5.943308e+002;
n=6; farx(n+1)=6.688293e+000; foe(n+1)=3.454116e+001; krok(n+1)=8.996953e-003; ng(n+1)=1.422025e+003;
n=7; farx(n+1)=6.441709e+000; foe(n+1)=3.427524e+001; krok(n+1)=8.074766e-005; ng(n+1)=3.171565e+003;
n=8; farx(n+1)=7.131595e+000; foe(n+1)=3.378033e+001; krok(n+1)=3.891067e-003; ng(n+1)=3.327067e+003;
n=9; farx(n+1)=7.688157e+000; foe(n+1)=3.321730e+001; krok(n+1)=4.087375e-003; ng(n+1)=3.206807e+003;
n=10; farx(n+1)=8.759154e+000; foe(n+1)=2.181416e+001; krok(n+1)=2.680031e-002; ng(n+1)=2.975721e+003;
n=11; farx(n+1)=8.891390e+000; foe(n+1)=2.164106e+001; krok(n+1)=1.154043e-004; ng(n+1)=9.081416e+002;
n=12; farx(n+1)=9.931006e+000; foe(n+1)=2.107717e+001; krok(n+1)=9.275724e-003; ng(n+1)=7.218818e+002;
n=13; farx(n+1)=1.013015e+001; foe(n+1)=2.087300e+001; krok(n+1)=2.156451e-003; ng(n+1)=6.586390e+002;
n=14; farx(n+1)=8.766188e+000; foe(n+1)=1.757779e+001; krok(n+1)=1.067078e-001; ng(n+1)=4.857225e+002;
n=15; farx(n+1)=6.809869e+000; foe(n+1)=1.505104e+001; krok(n+1)=1.258748e-002; ng(n+1)=5.503908e+002;
n=16; farx(n+1)=3.224192e+000; foe(n+1)=1.122053e+001; krok(n+1)=3.351559e-002; ng(n+1)=3.361643e+002;
n=17; farx(n+1)=2.006070e+000; foe(n+1)=9.741467e+000; krok(n+1)=7.853583e-002; ng(n+1)=5.556992e+002;
n=18; farx(n+1)=1.452807e+000; foe(n+1)=8.445930e+000; krok(n+1)=2.114442e-001; ng(n+1)=5.629332e+002;
n=19; farx(n+1)=1.088053e+000; foe(n+1)=7.382440e+000; krok(n+1)=1.320406e-001; ng(n+1)=3.816613e+002;
n=20; farx(n+1)=9.889679e-001; foe(n+1)=6.346648e+000; krok(n+1)=4.089939e-001; ng(n+1)=2.285492e+002;
n=21; farx(n+1)=9.266565e-001; foe(n+1)=5.919471e+000; krok(n+1)=4.500546e-001; ng(n+1)=1.056218e+002;
n=22; farx(n+1)=1.019251e+000; foe(n+1)=5.477045e+000; krok(n+1)=1.002692e+000; ng(n+1)=5.676812e+002;
n=23; farx(n+1)=1.030441e+000; foe(n+1)=4.887605e+000; krok(n+1)=8.812124e-001; ng(n+1)=3.856580e+002;
n=24; farx(n+1)=1.019221e+000; foe(n+1)=4.440086e+000; krok(n+1)=6.553300e-001; ng(n+1)=3.033139e+002;
n=25; farx(n+1)=1.019376e+000; foe(n+1)=4.039369e+000; krok(n+1)=4.014974e-001; ng(n+1)=1.728470e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.013915e+000; foe(n+1)=3.976780e+000; krok(n+1)=1.127096e-005; ng(n+1)=2.624745e+002;
n=27; farx(n+1)=1.013856e+000; foe(n+1)=3.976117e+000; krok(n+1)=3.969171e-006; ng(n+1)=3.596136e+001;
n=28; farx(n+1)=9.992338e-001; foe(n+1)=3.953415e+000; krok(n+1)=4.838390e-004; ng(n+1)=1.953411e+001;
n=29; farx(n+1)=1.073790e+000; foe(n+1)=3.392137e+000; krok(n+1)=6.130766e-003; ng(n+1)=3.178744e+001;
n=30; farx(n+1)=1.099997e+000; foe(n+1)=3.052112e+000; krok(n+1)=4.234033e-003; ng(n+1)=3.129252e+002;
n=31; farx(n+1)=1.037722e+000; foe(n+1)=2.905901e+000; krok(n+1)=1.556427e-002; ng(n+1)=1.632548e+002;
n=32; farx(n+1)=9.693619e-001; foe(n+1)=2.821931e+000; krok(n+1)=2.284436e-002; ng(n+1)=8.529128e+001;
n=33; farx(n+1)=8.662282e-001; foe(n+1)=2.615208e+000; krok(n+1)=3.621201e-003; ng(n+1)=2.941400e+002;
n=34; farx(n+1)=8.527118e-001; foe(n+1)=2.502546e+000; krok(n+1)=1.142218e-002; ng(n+1)=1.639938e+002;
n=35; farx(n+1)=8.427457e-001; foe(n+1)=2.349402e+000; krok(n+1)=2.223039e-002; ng(n+1)=2.461659e+002;
n=36; farx(n+1)=9.710057e-001; foe(n+1)=2.092826e+000; krok(n+1)=2.075249e-001; ng(n+1)=1.245378e+002;
n=37; farx(n+1)=1.004119e+000; foe(n+1)=2.049140e+000; krok(n+1)=1.427772e-003; ng(n+1)=8.377229e+002;
n=38; farx(n+1)=8.403950e-001; foe(n+1)=1.936656e+000; krok(n+1)=2.667694e-002; ng(n+1)=6.754555e+002;
n=39; farx(n+1)=8.112606e-001; foe(n+1)=1.890385e+000; krok(n+1)=5.335388e-002; ng(n+1)=7.232157e+002;
n=40; farx(n+1)=7.738785e-001; foe(n+1)=1.477228e+000; krok(n+1)=4.372988e-001; ng(n+1)=9.376188e+002;
n=41; farx(n+1)=5.802980e-001; foe(n+1)=1.284602e+000; krok(n+1)=8.277891e-002; ng(n+1)=3.034116e+002;
n=42; farx(n+1)=3.749672e-001; foe(n+1)=1.080795e+000; krok(n+1)=2.515191e-001; ng(n+1)=4.112568e+002;
n=43; farx(n+1)=2.725869e-001; foe(n+1)=8.633120e-001; krok(n+1)=4.500546e-001; ng(n+1)=9.702184e+001;
n=44; farx(n+1)=2.711344e-001; foe(n+1)=8.122873e-001; krok(n+1)=5.114232e-001; ng(n+1)=1.659956e+002;
n=45; farx(n+1)=2.810233e-001; foe(n+1)=7.915774e-001; krok(n+1)=6.480438e-001; ng(n+1)=1.074943e+002;
n=46; farx(n+1)=2.817484e-001; foe(n+1)=7.725858e-001; krok(n+1)=4.268310e-001; ng(n+1)=8.925553e+001;
n=47; farx(n+1)=2.751674e-001; foe(n+1)=7.508698e-001; krok(n+1)=5.861088e-001; ng(n+1)=1.615055e+002;
n=48; farx(n+1)=2.732889e-001; foe(n+1)=7.315799e-001; krok(n+1)=1.402391e+000; ng(n+1)=1.619781e+002;
n=49; farx(n+1)=2.653916e-001; foe(n+1)=6.889010e-001; krok(n+1)=3.010110e+000; ng(n+1)=1.649480e+001;
n=50; farx(n+1)=2.626802e-001; foe(n+1)=6.629260e-001; krok(n+1)=8.649503e-001; ng(n+1)=5.180698e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
