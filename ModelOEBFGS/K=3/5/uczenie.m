%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.164880e+002; foe(n+1)=3.083045e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.806187e+002; foe(n+1)=1.758057e+002; krok(n+1)=5.080539e-004; ng(n+1)=8.689212e+002;
n=2; farx(n+1)=7.069699e+001; foe(n+1)=6.347506e+001; krok(n+1)=1.927372e-002; ng(n+1)=1.520981e+002;
n=3; farx(n+1)=6.535621e+001; foe(n+1)=6.297509e+001; krok(n+1)=3.595838e-003; ng(n+1)=3.005970e+001;
n=4; farx(n+1)=3.278656e+001; foe(n+1)=5.817698e+001; krok(n+1)=6.950337e-003; ng(n+1)=7.661331e+001;
n=5; farx(n+1)=1.298715e+001; foe(n+1)=5.191828e+001; krok(n+1)=4.217733e-004; ng(n+1)=3.503922e+002;
n=6; farx(n+1)=8.024683e+000; foe(n+1)=4.933682e+001; krok(n+1)=1.476722e-003; ng(n+1)=9.267602e+002;
n=7; farx(n+1)=7.213106e+000; foe(n+1)=4.849715e+001; krok(n+1)=2.241713e-003; ng(n+1)=1.622544e+003;
n=8; farx(n+1)=5.514029e+000; foe(n+1)=4.653433e+001; krok(n+1)=3.136698e-003; ng(n+1)=2.017412e+003;
n=9; farx(n+1)=5.030873e+000; foe(n+1)=4.594465e+001; krok(n+1)=2.647244e-004; ng(n+1)=3.100905e+003;
n=10; farx(n+1)=4.802881e+000; foe(n+1)=4.547120e+001; krok(n+1)=1.532691e-003; ng(n+1)=3.504059e+003;
n=11; farx(n+1)=5.051289e+000; foe(n+1)=3.837954e+001; krok(n+1)=2.622287e-002; ng(n+1)=3.834487e+003;
n=12; farx(n+1)=5.288934e+000; foe(n+1)=3.730560e+001; krok(n+1)=1.265711e-003; ng(n+1)=2.478605e+003;
n=13; farx(n+1)=5.466537e+000; foe(n+1)=3.671390e+001; krok(n+1)=3.176507e-003; ng(n+1)=1.423250e+003;
n=14; farx(n+1)=5.865988e+000; foe(n+1)=3.366338e+001; krok(n+1)=2.142359e-002; ng(n+1)=1.425793e+003;
n=15; farx(n+1)=7.610216e+000; foe(n+1)=2.409797e+001; krok(n+1)=1.048565e-002; ng(n+1)=1.287579e+003;
n=16; farx(n+1)=6.871472e+000; foe(n+1)=2.188668e+001; krok(n+1)=4.050274e-002; ng(n+1)=1.374120e+003;
n=17; farx(n+1)=6.950349e+000; foe(n+1)=1.772251e+001; krok(n+1)=6.039386e-001; ng(n+1)=1.183866e+003;
n=18; farx(n+1)=3.697297e+000; foe(n+1)=1.320725e+001; krok(n+1)=3.005969e-001; ng(n+1)=5.493920e+002;
n=19; farx(n+1)=3.452242e+000; foe(n+1)=1.178237e+001; krok(n+1)=3.510640e-001; ng(n+1)=6.917879e+002;
n=20; farx(n+1)=2.118832e+000; foe(n+1)=1.007018e+001; krok(n+1)=1.174409e+000; ng(n+1)=1.918447e+002;
n=21; farx(n+1)=1.425332e+000; foe(n+1)=8.867793e+000; krok(n+1)=1.435748e+000; ng(n+1)=3.183458e+002;
n=22; farx(n+1)=1.398907e+000; foe(n+1)=8.195326e+000; krok(n+1)=7.214488e-001; ng(n+1)=1.581530e+002;
n=23; farx(n+1)=1.304103e+000; foe(n+1)=7.418918e+000; krok(n+1)=2.045693e+000; ng(n+1)=2.725618e+002;
n=24; farx(n+1)=1.246838e+000; foe(n+1)=7.010754e+000; krok(n+1)=6.329112e-001; ng(n+1)=2.277136e+002;
n=25; farx(n+1)=1.114768e+000; foe(n+1)=6.492126e+000; krok(n+1)=4.854776e-001; ng(n+1)=3.585643e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.111824e+000; foe(n+1)=6.460827e+000; krok(n+1)=1.319809e-005; ng(n+1)=1.358005e+002;
n=27; farx(n+1)=1.108913e+000; foe(n+1)=6.451059e+000; krok(n+1)=1.854561e-005; ng(n+1)=7.293091e+001;
n=28; farx(n+1)=1.214643e+000; foe(n+1)=5.883199e+000; krok(n+1)=9.566232e-003; ng(n+1)=2.704506e+001;
n=29; farx(n+1)=1.207383e+000; foe(n+1)=5.829391e+000; krok(n+1)=2.895734e-004; ng(n+1)=2.108588e+002;
n=30; farx(n+1)=1.238506e+000; foe(n+1)=5.524622e+000; krok(n+1)=2.983603e-003; ng(n+1)=2.380803e+002;
n=31; farx(n+1)=1.201433e+000; foe(n+1)=5.088666e+000; krok(n+1)=8.744518e-003; ng(n+1)=4.776700e+002;
n=32; farx(n+1)=1.165518e+000; foe(n+1)=4.846956e+000; krok(n+1)=3.065383e-003; ng(n+1)=5.942374e+002;
n=33; farx(n+1)=9.897045e-001; foe(n+1)=4.414837e+000; krok(n+1)=2.709456e-002; ng(n+1)=3.012191e+002;
n=34; farx(n+1)=1.009299e+000; foe(n+1)=4.183564e+000; krok(n+1)=3.715822e-002; ng(n+1)=2.301033e+002;
n=35; farx(n+1)=9.076160e-001; foe(n+1)=3.295218e+000; krok(n+1)=3.826493e-002; ng(n+1)=4.655866e+002;
n=36; farx(n+1)=8.391004e-001; foe(n+1)=2.809756e+000; krok(n+1)=1.778431e-001; ng(n+1)=1.962874e+002;
n=37; farx(n+1)=7.461065e-001; foe(n+1)=2.546782e+000; krok(n+1)=3.778964e-002; ng(n+1)=3.080340e+002;
n=38; farx(n+1)=6.935943e-001; foe(n+1)=2.294642e+000; krok(n+1)=8.892157e-002; ng(n+1)=4.749719e+002;
n=39; farx(n+1)=6.383508e-001; foe(n+1)=2.134940e+000; krok(n+1)=1.010376e-001; ng(n+1)=1.620121e+002;
n=40; farx(n+1)=6.592170e-001; foe(n+1)=1.800241e+000; krok(n+1)=7.741360e-001; ng(n+1)=2.074938e+002;
n=41; farx(n+1)=6.097442e-001; foe(n+1)=1.520058e+000; krok(n+1)=8.745977e-001; ng(n+1)=3.438738e+002;
n=42; farx(n+1)=6.402816e-001; foe(n+1)=1.457486e+000; krok(n+1)=4.164005e-001; ng(n+1)=6.766792e+001;
n=43; farx(n+1)=6.826443e-001; foe(n+1)=1.431622e+000; krok(n+1)=1.434696e-001; ng(n+1)=1.241357e+002;
n=44; farx(n+1)=6.286534e-001; foe(n+1)=1.397678e+000; krok(n+1)=3.337297e-001; ng(n+1)=5.503214e+001;
n=45; farx(n+1)=5.944553e-001; foe(n+1)=1.367901e+000; krok(n+1)=9.205345e-001; ng(n+1)=8.174590e+001;
n=46; farx(n+1)=5.663792e-001; foe(n+1)=1.350147e+000; krok(n+1)=8.536620e-001; ng(n+1)=3.773256e+001;
n=47; farx(n+1)=5.505741e-001; foe(n+1)=1.323697e+000; krok(n+1)=1.202875e+000; ng(n+1)=4.189648e+001;
n=48; farx(n+1)=4.828224e-001; foe(n+1)=1.280476e+000; krok(n+1)=2.069805e+000; ng(n+1)=6.645617e+001;
n=49; farx(n+1)=4.036445e-001; foe(n+1)=1.239781e+000; krok(n+1)=1.133514e+000; ng(n+1)=5.164844e+001;
n=50; farx(n+1)=3.996869e-001; foe(n+1)=1.223388e+000; krok(n+1)=3.923690e-001; ng(n+1)=7.603352e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
