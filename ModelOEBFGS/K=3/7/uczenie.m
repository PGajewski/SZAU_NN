%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.957528e+002; foe(n+1)=2.976300e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.753888e+002; foe(n+1)=1.771174e+002; krok(n+1)=5.002119e-004; ng(n+1)=6.185719e+002;
n=2; farx(n+1)=5.606758e+001; foe(n+1)=6.664519e+001; krok(n+1)=2.617870e-002; ng(n+1)=9.035110e+001;
n=3; farx(n+1)=5.290683e+001; foe(n+1)=6.277503e+001; krok(n+1)=2.841575e-004; ng(n+1)=3.175455e+002;
n=4; farx(n+1)=5.234426e+001; foe(n+1)=6.140837e+001; krok(n+1)=8.651099e-004; ng(n+1)=2.272506e+002;
n=5; farx(n+1)=1.578172e+001; foe(n+1)=5.197717e+001; krok(n+1)=1.706649e-002; ng(n+1)=5.536254e+001;
n=6; farx(n+1)=4.295328e+000; foe(n+1)=3.698351e+001; krok(n+1)=1.849615e-002; ng(n+1)=7.955477e+002;
n=7; farx(n+1)=4.148486e+000; foe(n+1)=3.670817e+001; krok(n+1)=6.861689e-006; ng(n+1)=3.829663e+003;
n=8; farx(n+1)=5.012409e+000; foe(n+1)=3.581573e+001; krok(n+1)=5.700116e-003; ng(n+1)=4.176926e+003;
n=9; farx(n+1)=5.851446e+000; foe(n+1)=3.511732e+001; krok(n+1)=3.762825e-003; ng(n+1)=3.991309e+003;
n=10; farx(n+1)=6.859258e+000; foe(n+1)=3.397732e+001; krok(n+1)=8.148250e-004; ng(n+1)=3.299335e+003;
n=11; farx(n+1)=7.449934e+000; foe(n+1)=3.353020e+001; krok(n+1)=1.934772e-003; ng(n+1)=2.172932e+003;
n=12; farx(n+1)=8.373222e+000; foe(n+1)=3.287875e+001; krok(n+1)=7.321912e-003; ng(n+1)=1.905918e+003;
n=13; farx(n+1)=9.458758e+000; foe(n+1)=3.231786e+001; krok(n+1)=1.389524e-002; ng(n+1)=1.311451e+003;
n=14; farx(n+1)=9.337233e+000; foe(n+1)=2.979115e+001; krok(n+1)=4.000365e-002; ng(n+1)=1.252892e+003;
n=15; farx(n+1)=5.666058e+000; foe(n+1)=2.378736e+001; krok(n+1)=8.035313e-002; ng(n+1)=2.167833e+002;
n=16; farx(n+1)=2.718899e+000; foe(n+1)=1.473147e+001; krok(n+1)=1.247419e-001; ng(n+1)=8.249630e+002;
n=17; farx(n+1)=2.689489e+000; foe(n+1)=1.377565e+001; krok(n+1)=6.168811e-002; ng(n+1)=1.954127e+002;
n=18; farx(n+1)=1.958832e+000; foe(n+1)=1.245751e+001; krok(n+1)=1.438191e-001; ng(n+1)=2.859726e+002;
n=19; farx(n+1)=1.230802e+000; foe(n+1)=1.036951e+001; krok(n+1)=3.015923e-001; ng(n+1)=8.843145e+002;
n=20; farx(n+1)=1.181213e+000; foe(n+1)=9.951715e+000; krok(n+1)=1.102898e-001; ng(n+1)=2.525797e+002;
n=21; farx(n+1)=1.015249e+000; foe(n+1)=9.168668e+000; krok(n+1)=4.461084e-001; ng(n+1)=1.241314e+002;
n=22; farx(n+1)=8.821110e-001; foe(n+1)=8.513854e+000; krok(n+1)=3.054682e-001; ng(n+1)=1.800970e+002;
n=23; farx(n+1)=8.375678e-001; foe(n+1)=8.314774e+000; krok(n+1)=1.181678e+000; ng(n+1)=2.999253e+002;
n=24; farx(n+1)=8.039726e-001; foe(n+1)=8.121598e+000; krok(n+1)=1.280117e+000; ng(n+1)=1.235546e+002;
n=25; farx(n+1)=8.679013e-001; foe(n+1)=7.549198e+000; krok(n+1)=3.444837e+000; ng(n+1)=9.150748e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.460517e-001; foe(n+1)=7.384109e+000; krok(n+1)=3.716123e-005; ng(n+1)=2.195620e+002;
n=27; farx(n+1)=8.450897e-001; foe(n+1)=7.356610e+000; krok(n+1)=1.008355e-005; ng(n+1)=1.342830e+002;
n=28; farx(n+1)=8.211244e-001; foe(n+1)=7.296252e+000; krok(n+1)=5.011162e-004; ng(n+1)=4.080185e+001;
n=29; farx(n+1)=8.325531e-001; foe(n+1)=6.758274e+000; krok(n+1)=9.454744e-003; ng(n+1)=2.553380e+001;
n=30; farx(n+1)=8.590558e-001; foe(n+1)=6.427022e+000; krok(n+1)=1.911063e-002; ng(n+1)=1.198655e+002;
n=31; farx(n+1)=9.885698e-001; foe(n+1)=6.203576e+000; krok(n+1)=1.219985e-002; ng(n+1)=1.335410e+002;
n=32; farx(n+1)=1.051006e+000; foe(n+1)=6.101178e+000; krok(n+1)=5.880954e-004; ng(n+1)=2.681823e+002;
n=33; farx(n+1)=1.104972e+000; foe(n+1)=6.036450e+000; krok(n+1)=9.505482e-003; ng(n+1)=1.457027e+002;
n=34; farx(n+1)=1.140545e+000; foe(n+1)=5.850758e+000; krok(n+1)=6.946048e-002; ng(n+1)=6.003105e+001;
n=35; farx(n+1)=1.173808e+000; foe(n+1)=5.680102e+000; krok(n+1)=2.959126e-002; ng(n+1)=1.299988e+002;
n=36; farx(n+1)=1.262824e+000; foe(n+1)=5.113722e+000; krok(n+1)=2.539936e-002; ng(n+1)=3.591518e+002;
n=37; farx(n+1)=1.255685e+000; foe(n+1)=4.902950e+000; krok(n+1)=6.482479e-002; ng(n+1)=3.402192e+002;
n=38; farx(n+1)=1.105258e+000; foe(n+1)=4.561250e+000; krok(n+1)=1.802050e-001; ng(n+1)=1.815496e+002;
n=39; farx(n+1)=8.321762e-001; foe(n+1)=3.984162e+000; krok(n+1)=1.809649e-001; ng(n+1)=2.491136e+002;
n=40; farx(n+1)=8.006332e-001; foe(n+1)=3.915347e+000; krok(n+1)=8.512166e-002; ng(n+1)=2.826738e+002;
n=41; farx(n+1)=7.780440e-001; foe(n+1)=3.794713e+000; krok(n+1)=2.975743e-001; ng(n+1)=2.539195e+002;
n=42; farx(n+1)=7.430010e-001; foe(n+1)=3.644357e+000; krok(n+1)=7.101669e-001; ng(n+1)=1.243161e+002;
n=43; farx(n+1)=7.132239e-001; foe(n+1)=3.600812e+000; krok(n+1)=1.541897e-001; ng(n+1)=1.246300e+002;
n=44; farx(n+1)=6.000604e-001; foe(n+1)=3.484166e+000; krok(n+1)=2.569287e-001; ng(n+1)=8.570026e+001;
n=45; farx(n+1)=4.834609e-001; foe(n+1)=2.972715e+000; krok(n+1)=1.371110e+000; ng(n+1)=2.456807e+002;
n=46; farx(n+1)=4.621680e-001; foe(n+1)=2.824103e+000; krok(n+1)=1.115271e-001; ng(n+1)=1.694376e+002;
n=47; farx(n+1)=4.490508e-001; foe(n+1)=2.674980e+000; krok(n+1)=9.326940e-002; ng(n+1)=4.519262e+002;
n=48; farx(n+1)=4.700418e-001; foe(n+1)=2.359235e+000; krok(n+1)=3.604099e-001; ng(n+1)=3.338244e+002;
n=49; farx(n+1)=4.718129e-001; foe(n+1)=2.224878e+000; krok(n+1)=2.137984e-001; ng(n+1)=1.126085e+002;
n=50; farx(n+1)=5.341399e-001; foe(n+1)=1.967819e+000; krok(n+1)=6.900158e-001; ng(n+1)=2.526072e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
