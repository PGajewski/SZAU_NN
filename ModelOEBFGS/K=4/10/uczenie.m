%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.806233e+002; foe(n+1)=1.856559e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.715804e+002; foe(n+1)=1.754816e+002; krok(n+1)=6.023036e-004; ng(n+1)=3.387770e+002;
n=2; farx(n+1)=6.973793e+001; foe(n+1)=6.027675e+001; krok(n+1)=1.738514e-002; ng(n+1)=2.238313e+002;
n=3; farx(n+1)=6.825846e+001; foe(n+1)=5.876938e+001; krok(n+1)=7.899388e-004; ng(n+1)=1.740418e+002;
n=4; farx(n+1)=4.635171e+001; foe(n+1)=5.544933e+001; krok(n+1)=1.289397e-002; ng(n+1)=6.405428e+001;
n=5; farx(n+1)=7.968652e+000; foe(n+1)=3.074775e+001; krok(n+1)=1.964404e-003; ng(n+1)=3.116758e+002;
n=6; farx(n+1)=6.879240e+000; foe(n+1)=2.993503e+001; krok(n+1)=1.174532e-004; ng(n+1)=1.461771e+003;
n=7; farx(n+1)=6.911497e+000; foe(n+1)=2.920159e+001; krok(n+1)=3.386820e-003; ng(n+1)=1.704528e+003;
n=8; farx(n+1)=7.326635e+000; foe(n+1)=2.812916e+001; krok(n+1)=8.442897e-003; ng(n+1)=1.570664e+003;
n=9; farx(n+1)=8.038957e+000; foe(n+1)=2.106666e+001; krok(n+1)=6.884742e-003; ng(n+1)=1.438761e+003;
n=10; farx(n+1)=8.063143e+000; foe(n+1)=1.987278e+001; krok(n+1)=1.846469e-003; ng(n+1)=5.680901e+002;
n=11; farx(n+1)=7.814650e+000; foe(n+1)=1.911462e+001; krok(n+1)=1.095618e-002; ng(n+1)=2.763231e+002;
n=12; farx(n+1)=7.028350e+000; foe(n+1)=1.820851e+001; krok(n+1)=1.350413e-002; ng(n+1)=1.429445e+002;
n=13; farx(n+1)=6.176177e+000; foe(n+1)=1.746113e+001; krok(n+1)=3.798141e-002; ng(n+1)=4.019160e+002;
n=14; farx(n+1)=5.076440e+000; foe(n+1)=1.542259e+001; krok(n+1)=2.219272e-002; ng(n+1)=4.082098e+002;
n=15; farx(n+1)=4.593319e+000; foe(n+1)=1.475982e+001; krok(n+1)=1.846205e-002; ng(n+1)=1.726391e+002;
n=16; farx(n+1)=4.001405e+000; foe(n+1)=1.402915e+001; krok(n+1)=9.447410e-003; ng(n+1)=2.540369e+002;
n=17; farx(n+1)=2.713713e+000; foe(n+1)=1.134788e+001; krok(n+1)=9.019770e-002; ng(n+1)=1.823288e+002;
n=18; farx(n+1)=2.108646e+000; foe(n+1)=9.343397e+000; krok(n+1)=2.243330e-002; ng(n+1)=5.731659e+002;
n=19; farx(n+1)=1.872915e+000; foe(n+1)=8.169951e+000; krok(n+1)=8.097460e-002; ng(n+1)=7.552867e+002;
n=20; farx(n+1)=1.262690e+000; foe(n+1)=6.717462e+000; krok(n+1)=2.711458e-001; ng(n+1)=5.173086e+002;
n=21; farx(n+1)=9.410246e-001; foe(n+1)=5.102309e+000; krok(n+1)=1.845727e-001; ng(n+1)=5.338158e+002;
n=22; farx(n+1)=9.363361e-001; foe(n+1)=4.189416e+000; krok(n+1)=1.136129e-001; ng(n+1)=2.638255e+002;
n=23; farx(n+1)=8.001581e-001; foe(n+1)=2.860064e+000; krok(n+1)=4.590250e-001; ng(n+1)=1.786176e+002;
n=24; farx(n+1)=7.867977e-001; foe(n+1)=2.626405e+000; krok(n+1)=1.871892e-001; ng(n+1)=1.193202e+002;
n=25; farx(n+1)=7.114758e-001; foe(n+1)=2.291917e+000; krok(n+1)=8.773192e-001; ng(n+1)=9.177743e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.120556e-001; foe(n+1)=2.279874e+000; krok(n+1)=1.868136e-005; ng(n+1)=8.353368e+001;
n=27; farx(n+1)=7.140674e-001; foe(n+1)=2.276236e+000; krok(n+1)=8.147699e-005; ng(n+1)=2.092041e+001;
n=28; farx(n+1)=7.115859e-001; foe(n+1)=2.273830e+000; krok(n+1)=5.873414e-004; ng(n+1)=7.889680e+000;
n=29; farx(n+1)=7.064474e-001; foe(n+1)=2.201868e+000; krok(n+1)=1.082825e-002; ng(n+1)=8.957878e+000;
n=30; farx(n+1)=6.589415e-001; foe(n+1)=2.138291e+000; krok(n+1)=8.948186e-003; ng(n+1)=1.899104e+001;
n=31; farx(n+1)=5.878655e-001; foe(n+1)=1.998215e+000; krok(n+1)=3.285344e-002; ng(n+1)=5.543667e+001;
n=32; farx(n+1)=5.478174e-001; foe(n+1)=1.905409e+000; krok(n+1)=1.791379e-002; ng(n+1)=1.048596e+002;
n=33; farx(n+1)=5.272611e-001; foe(n+1)=1.772199e+000; krok(n+1)=4.158324e-002; ng(n+1)=1.214063e+001;
n=34; farx(n+1)=5.097360e-001; foe(n+1)=1.625574e+000; krok(n+1)=1.586357e-002; ng(n+1)=6.754413e+001;
n=35; farx(n+1)=5.008438e-001; foe(n+1)=1.552448e+000; krok(n+1)=3.006802e-002; ng(n+1)=1.085625e+002;
n=36; farx(n+1)=4.640601e-001; foe(n+1)=1.327704e+000; krok(n+1)=9.035956e-002; ng(n+1)=5.346679e+001;
n=37; farx(n+1)=4.535071e-001; foe(n+1)=1.222634e+000; krok(n+1)=6.789298e-002; ng(n+1)=1.725687e+002;
n=38; farx(n+1)=4.638495e-001; foe(n+1)=1.134680e+000; krok(n+1)=8.388517e-002; ng(n+1)=5.934050e+001;
n=39; farx(n+1)=4.765861e-001; foe(n+1)=1.095582e+000; krok(n+1)=2.429096e-002; ng(n+1)=1.169574e+002;
n=40; farx(n+1)=4.822578e-001; foe(n+1)=1.074401e+000; krok(n+1)=4.568872e-002; ng(n+1)=4.925032e+001;
n=41; farx(n+1)=4.950327e-001; foe(n+1)=1.048641e+000; krok(n+1)=8.509079e-002; ng(n+1)=4.222371e+001;
n=42; farx(n+1)=4.979193e-001; foe(n+1)=1.005583e+000; krok(n+1)=3.224739e-001; ng(n+1)=3.176352e+001;
n=43; farx(n+1)=5.054862e-001; foe(n+1)=9.512652e-001; krok(n+1)=1.422745e+000; ng(n+1)=1.275216e+001;
n=44; farx(n+1)=5.003852e-001; foe(n+1)=9.081938e-001; krok(n+1)=4.787134e-001; ng(n+1)=4.131110e+001;
n=45; farx(n+1)=4.678593e-001; foe(n+1)=8.803941e-001; krok(n+1)=5.461275e-001; ng(n+1)=2.374973e+001;
n=46; farx(n+1)=4.412383e-001; foe(n+1)=8.514488e-001; krok(n+1)=3.550835e-001; ng(n+1)=5.226392e+001;
n=47; farx(n+1)=3.934708e-001; foe(n+1)=8.301575e-001; krok(n+1)=7.486426e-001; ng(n+1)=8.303702e+001;
n=48; farx(n+1)=3.666094e-001; foe(n+1)=8.180622e-001; krok(n+1)=4.147513e-001; ng(n+1)=5.369961e+001;
n=49; farx(n+1)=3.565311e-001; foe(n+1)=8.013400e-001; krok(n+1)=8.610892e-001; ng(n+1)=2.170911e+001;
n=50; farx(n+1)=3.496949e-001; foe(n+1)=7.865880e-001; krok(n+1)=3.119789e-001; ng(n+1)=7.612339e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
