%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.064816e+002; foe(n+1)=3.139675e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.706209e+002; foe(n+1)=1.737411e+002; krok(n+1)=4.838020e-004; ng(n+1)=8.751899e+002;
n=2; farx(n+1)=6.153942e+001; foe(n+1)=6.714213e+001; krok(n+1)=1.626130e-002; ng(n+1)=1.413129e+002;
n=3; farx(n+1)=5.829794e+001; foe(n+1)=6.244235e+001; krok(n+1)=9.053002e-004; ng(n+1)=3.044202e+002;
n=4; farx(n+1)=5.809370e+001; foe(n+1)=5.842591e+001; krok(n+1)=3.990929e-003; ng(n+1)=3.018613e+002;
n=5; farx(n+1)=3.163911e+001; foe(n+1)=5.027050e+001; krok(n+1)=2.896961e-002; ng(n+1)=7.067949e+001;
n=6; farx(n+1)=1.343270e+001; foe(n+1)=4.165383e+001; krok(n+1)=7.032104e-003; ng(n+1)=4.538033e+002;
n=7; farx(n+1)=1.132120e+001; foe(n+1)=4.000511e+001; krok(n+1)=1.915864e-004; ng(n+1)=1.007170e+003;
n=8; farx(n+1)=1.075649e+001; foe(n+1)=3.874756e+001; krok(n+1)=1.742611e-003; ng(n+1)=1.424197e+003;
n=9; farx(n+1)=1.089426e+001; foe(n+1)=3.762767e+001; krok(n+1)=1.667309e-003; ng(n+1)=1.530992e+003;
n=10; farx(n+1)=1.165503e+001; foe(n+1)=3.686217e+001; krok(n+1)=8.891335e-003; ng(n+1)=1.199819e+003;
n=11; farx(n+1)=1.284537e+001; foe(n+1)=3.456389e+001; krok(n+1)=2.118799e-002; ng(n+1)=9.870243e+002;
n=12; farx(n+1)=1.218723e+001; foe(n+1)=3.245951e+001; krok(n+1)=8.580693e-003; ng(n+1)=6.070716e+002;
n=13; farx(n+1)=1.249984e+001; foe(n+1)=3.171926e+001; krok(n+1)=4.375565e-003; ng(n+1)=4.209395e+002;
n=14; farx(n+1)=1.313170e+001; foe(n+1)=3.087570e+001; krok(n+1)=5.214412e-003; ng(n+1)=2.971753e+002;
n=15; farx(n+1)=1.471482e+001; foe(n+1)=2.761029e+001; krok(n+1)=3.786424e-002; ng(n+1)=3.480773e+002;
n=16; farx(n+1)=1.501722e+001; foe(n+1)=2.726818e+001; krok(n+1)=5.608324e-003; ng(n+1)=3.232581e+002;
n=17; farx(n+1)=1.233806e+001; foe(n+1)=2.301225e+001; krok(n+1)=4.366353e-002; ng(n+1)=2.630211e+002;
n=18; farx(n+1)=1.004538e+001; foe(n+1)=2.144681e+001; krok(n+1)=2.194150e-002; ng(n+1)=4.013558e+002;
n=19; farx(n+1)=5.660874e+000; foe(n+1)=1.792484e+001; krok(n+1)=1.521910e-002; ng(n+1)=7.178942e+002;
n=20; farx(n+1)=2.924055e+000; foe(n+1)=1.359751e+001; krok(n+1)=6.024636e-002; ng(n+1)=9.676902e+002;
n=21; farx(n+1)=2.521510e+000; foe(n+1)=1.161857e+001; krok(n+1)=3.450322e-002; ng(n+1)=6.444887e+002;
n=22; farx(n+1)=2.749666e+000; foe(n+1)=1.029926e+001; krok(n+1)=2.604479e-002; ng(n+1)=1.226661e+003;
n=23; farx(n+1)=2.191724e+000; foe(n+1)=9.001374e+000; krok(n+1)=1.800875e-001; ng(n+1)=5.938616e+002;
n=24; farx(n+1)=1.642058e+000; foe(n+1)=7.023821e+000; krok(n+1)=5.219391e-001; ng(n+1)=5.016351e+002;
n=25; farx(n+1)=1.535807e+000; foe(n+1)=6.707440e+000; krok(n+1)=4.568872e-002; ng(n+1)=6.707799e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.540279e+000; foe(n+1)=6.425182e+000; krok(n+1)=7.746296e-006; ng(n+1)=5.606645e+002;
n=27; farx(n+1)=1.520236e+000; foe(n+1)=6.373166e+000; krok(n+1)=1.347782e-004; ng(n+1)=5.937631e+001;
n=28; farx(n+1)=1.404702e+000; foe(n+1)=6.028440e+000; krok(n+1)=2.400073e-004; ng(n+1)=1.572948e+002;
n=29; farx(n+1)=1.394495e+000; foe(n+1)=5.633567e+000; krok(n+1)=3.185772e-004; ng(n+1)=1.355978e+002;
n=30; farx(n+1)=1.042919e+000; foe(n+1)=4.154994e+000; krok(n+1)=1.204622e-002; ng(n+1)=1.692648e+002;
n=31; farx(n+1)=9.947107e-001; foe(n+1)=4.037811e+000; krok(n+1)=2.684169e-003; ng(n+1)=3.721546e+002;
n=32; farx(n+1)=8.974941e-001; foe(n+1)=3.613745e+000; krok(n+1)=3.401267e-003; ng(n+1)=3.169150e+002;
n=33; farx(n+1)=8.085551e-001; foe(n+1)=3.216292e+000; krok(n+1)=1.448480e-002; ng(n+1)=3.408758e+002;
n=34; farx(n+1)=7.896490e-001; foe(n+1)=3.117784e+000; krok(n+1)=6.607631e-003; ng(n+1)=3.913527e+002;
n=35; farx(n+1)=7.790776e-001; foe(n+1)=2.803580e+000; krok(n+1)=1.053841e-002; ng(n+1)=3.430048e+002;
n=36; farx(n+1)=8.121542e-001; foe(n+1)=2.676737e+000; krok(n+1)=1.660195e-002; ng(n+1)=1.098740e+002;
n=37; farx(n+1)=8.535461e-001; foe(n+1)=2.623846e+000; krok(n+1)=5.915258e-003; ng(n+1)=2.480851e+002;
n=38; farx(n+1)=9.625484e-001; foe(n+1)=2.394436e+000; krok(n+1)=1.088038e-001; ng(n+1)=1.503910e+002;
n=39; farx(n+1)=9.455913e-001; foe(n+1)=2.311329e+000; krok(n+1)=5.016986e-002; ng(n+1)=8.306317e+001;
n=40; farx(n+1)=8.807711e-001; foe(n+1)=2.205159e+000; krok(n+1)=7.487116e-002; ng(n+1)=1.941021e+002;
n=41; farx(n+1)=7.850235e-001; foe(n+1)=2.036727e+000; krok(n+1)=1.116954e-001; ng(n+1)=1.871559e+002;
n=42; farx(n+1)=6.496551e-001; foe(n+1)=1.500580e+000; krok(n+1)=7.238598e-001; ng(n+1)=1.622477e+002;
n=43; farx(n+1)=6.332016e-001; foe(n+1)=1.438912e+000; krok(n+1)=2.013997e-001; ng(n+1)=1.282185e+002;
n=44; farx(n+1)=6.284034e-001; foe(n+1)=1.393866e+000; krok(n+1)=1.372911e-001; ng(n+1)=1.059858e+002;
n=45; farx(n+1)=5.791933e-001; foe(n+1)=1.357743e+000; krok(n+1)=4.353621e-001; ng(n+1)=4.243398e+001;
n=46; farx(n+1)=5.556365e-001; foe(n+1)=1.334269e+000; krok(n+1)=7.310195e-001; ng(n+1)=7.765835e+001;
n=47; farx(n+1)=5.489067e-001; foe(n+1)=1.324472e+000; krok(n+1)=9.145602e-001; ng(n+1)=1.978259e+001;
n=48; farx(n+1)=5.053309e-001; foe(n+1)=1.297715e+000; krok(n+1)=1.073054e+000; ng(n+1)=3.545613e+001;
n=49; farx(n+1)=4.755804e-001; foe(n+1)=1.249493e+000; krok(n+1)=7.847380e-001; ng(n+1)=7.433011e+001;
n=50; farx(n+1)=4.700172e-001; foe(n+1)=1.227768e+000; krok(n+1)=3.427774e-001; ng(n+1)=9.811388e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
