%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.080189e+002; foe(n+1)=3.089568e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.818555e+002; foe(n+1)=1.818197e+002; krok(n+1)=4.988661e-004; ng(n+1)=7.610584e+002;
n=2; farx(n+1)=1.729564e+002; foe(n+1)=1.738314e+002; krok(n+1)=4.445667e-003; ng(n+1)=1.343916e+002;
n=3; farx(n+1)=6.303603e+001; foe(n+1)=6.552277e+001; krok(n+1)=1.109636e-002; ng(n+1)=1.466743e+002;
n=4; farx(n+1)=6.130522e+001; foe(n+1)=6.346615e+001; krok(n+1)=6.791933e-004; ng(n+1)=2.043613e+002;
n=5; farx(n+1)=7.352227e+001; foe(n+1)=6.224220e+001; krok(n+1)=3.067118e-002; ng(n+1)=2.303035e+002;
n=6; farx(n+1)=5.680677e+001; foe(n+1)=5.509090e+001; krok(n+1)=8.571529e-002; ng(n+1)=6.696766e+001;
n=7; farx(n+1)=3.698243e+001; foe(n+1)=4.815331e+001; krok(n+1)=7.088910e-003; ng(n+1)=1.725532e+002;
n=8; farx(n+1)=2.991319e+001; foe(n+1)=4.603057e+001; krok(n+1)=4.532388e-004; ng(n+1)=4.008628e+002;
n=9; farx(n+1)=2.172684e+001; foe(n+1)=4.299154e+001; krok(n+1)=5.927401e-002; ng(n+1)=2.979839e+002;
n=10; farx(n+1)=2.133606e+001; foe(n+1)=4.208335e+001; krok(n+1)=2.531421e-003; ng(n+1)=3.301384e+002;
n=11; farx(n+1)=2.302024e+001; foe(n+1)=4.104395e+001; krok(n+1)=1.012183e-002; ng(n+1)=2.788234e+002;
n=12; farx(n+1)=2.001937e+001; foe(n+1)=3.830202e+001; krok(n+1)=8.000730e-002; ng(n+1)=2.060542e+002;
n=13; farx(n+1)=1.546400e+001; foe(n+1)=3.247207e+001; krok(n+1)=2.709456e-002; ng(n+1)=1.810786e+002;
n=14; farx(n+1)=1.490519e+001; foe(n+1)=3.104050e+001; krok(n+1)=2.013864e-003; ng(n+1)=4.188107e+002;
n=15; farx(n+1)=1.293510e+001; foe(n+1)=2.823918e+001; krok(n+1)=1.352965e-002; ng(n+1)=2.599212e+002;
n=16; farx(n+1)=1.105624e+001; foe(n+1)=2.589174e+001; krok(n+1)=2.390821e-002; ng(n+1)=4.889177e+002;
n=17; farx(n+1)=9.052544e+000; foe(n+1)=2.380938e+001; krok(n+1)=4.086147e-002; ng(n+1)=2.922776e+002;
n=18; farx(n+1)=3.405945e+000; foe(n+1)=1.521037e+001; krok(n+1)=2.023747e-001; ng(n+1)=1.223636e+002;
n=19; farx(n+1)=2.450494e+000; foe(n+1)=1.242223e+001; krok(n+1)=5.335388e-002; ng(n+1)=3.360827e+002;
n=20; farx(n+1)=2.038574e+000; foe(n+1)=1.154464e+001; krok(n+1)=4.784719e-002; ng(n+1)=3.774565e+002;
n=21; farx(n+1)=1.768683e+000; foe(n+1)=8.429300e+000; krok(n+1)=9.759878e-002; ng(n+1)=5.415045e+002;
n=22; farx(n+1)=1.992372e+000; foe(n+1)=6.707034e+000; krok(n+1)=1.067078e-001; ng(n+1)=2.869101e+002;
n=23; farx(n+1)=2.086091e+000; foe(n+1)=6.483765e+000; krok(n+1)=5.934607e-002; ng(n+1)=1.744246e+002;
n=24; farx(n+1)=1.868187e+000; foe(n+1)=5.494652e+000; krok(n+1)=4.764226e-001; ng(n+1)=1.211097e+002;
n=25; farx(n+1)=1.785971e+000; foe(n+1)=5.155557e+000; krok(n+1)=1.306634e-001; ng(n+1)=2.296223e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.805526e+000; foe(n+1)=5.086286e+000; krok(n+1)=3.122446e-005; ng(n+1)=1.361522e+002;
n=27; farx(n+1)=1.847220e+000; foe(n+1)=4.988707e+000; krok(n+1)=8.370634e-005; ng(n+1)=9.566685e+001;
n=28; farx(n+1)=1.824914e+000; foe(n+1)=4.975040e+000; krok(n+1)=2.403849e-004; ng(n+1)=2.142482e+001;
n=29; farx(n+1)=1.475088e+000; foe(n+1)=4.432517e+000; krok(n+1)=1.340015e-002; ng(n+1)=2.060897e+001;
n=30; farx(n+1)=1.352981e+000; foe(n+1)=4.144024e+000; krok(n+1)=9.447410e-003; ng(n+1)=8.374932e+001;
n=31; farx(n+1)=1.181444e+000; foe(n+1)=3.754425e+000; krok(n+1)=4.568872e-002; ng(n+1)=1.188123e+002;
n=32; farx(n+1)=1.049147e+000; foe(n+1)=3.436075e+000; krok(n+1)=3.212655e-003; ng(n+1)=2.431934e+002;
n=33; farx(n+1)=9.807505e-001; foe(n+1)=3.049337e+000; krok(n+1)=6.823373e-002; ng(n+1)=1.063546e+002;
n=34; farx(n+1)=9.210681e-001; foe(n+1)=2.911562e+000; krok(n+1)=5.107684e-003; ng(n+1)=1.283375e+002;
n=35; farx(n+1)=8.377068e-001; foe(n+1)=2.310599e+000; krok(n+1)=8.744518e-003; ng(n+1)=2.547618e+002;
n=36; farx(n+1)=8.014848e-001; foe(n+1)=2.146076e+000; krok(n+1)=1.082825e-002; ng(n+1)=8.230592e+001;
n=37; farx(n+1)=7.631561e-001; foe(n+1)=2.021008e+000; krok(n+1)=9.636975e-002; ng(n+1)=9.583417e+001;
n=38; farx(n+1)=6.673093e-001; foe(n+1)=1.804118e+000; krok(n+1)=4.568872e-002; ng(n+1)=1.285391e+002;
n=39; farx(n+1)=6.528730e-001; foe(n+1)=1.747000e+000; krok(n+1)=6.013604e-002; ng(n+1)=2.420056e+001;
n=40; farx(n+1)=5.754908e-001; foe(n+1)=1.589308e+000; krok(n+1)=3.978743e-001; ng(n+1)=1.316235e+002;
n=41; farx(n+1)=5.565671e-001; foe(n+1)=1.358552e+000; krok(n+1)=1.489153e-001; ng(n+1)=1.913721e+002;
n=42; farx(n+1)=5.876906e-001; foe(n+1)=1.241437e+000; krok(n+1)=2.760258e-001; ng(n+1)=5.989207e+001;
n=43; farx(n+1)=5.889020e-001; foe(n+1)=1.177060e+000; krok(n+1)=1.934788e-001; ng(n+1)=3.666775e+001;
n=44; farx(n+1)=5.257715e-001; foe(n+1)=1.100701e+000; krok(n+1)=5.365271e-001; ng(n+1)=7.709678e+001;
n=45; farx(n+1)=5.049318e-001; foe(n+1)=1.063884e+000; krok(n+1)=1.446686e-001; ng(n+1)=7.480441e+001;
n=46; farx(n+1)=4.780228e-001; foe(n+1)=1.027210e+000; krok(n+1)=4.980566e-001; ng(n+1)=5.257222e+001;
n=47; farx(n+1)=4.694462e-001; foe(n+1)=1.000933e+000; krok(n+1)=4.909897e-001; ng(n+1)=4.056364e+001;
n=48; farx(n+1)=4.540739e-001; foe(n+1)=9.808702e-001; krok(n+1)=1.608607e+000; ng(n+1)=3.840597e+001;
n=49; farx(n+1)=4.295633e-001; foe(n+1)=9.609452e-001; krok(n+1)=5.732413e-001; ng(n+1)=1.589093e+001;
n=50; farx(n+1)=3.914833e-001; foe(n+1)=9.375067e-001; krok(n+1)=1.210207e+000; ng(n+1)=3.471640e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
