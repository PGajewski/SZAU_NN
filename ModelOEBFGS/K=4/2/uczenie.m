%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.946852e+002; foe(n+1)=2.984786e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.666833e+002; foe(n+1)=1.665990e+002; krok(n+1)=4.863026e-004; ng(n+1)=8.863662e+002;
n=2; farx(n+1)=6.968877e+001; foe(n+1)=6.862343e+001; krok(n+1)=1.012183e-002; ng(n+1)=2.185929e+002;
n=3; farx(n+1)=6.706815e+001; foe(n+1)=6.433037e+001; krok(n+1)=1.797919e-003; ng(n+1)=2.669619e+002;
n=4; farx(n+1)=7.103426e+001; foe(n+1)=6.249638e+001; krok(n+1)=1.925105e-002; ng(n+1)=1.871808e+002;
n=5; farx(n+1)=5.836358e+001; foe(n+1)=5.943222e+001; krok(n+1)=2.667694e-002; ng(n+1)=5.187051e+001;
n=6; farx(n+1)=3.411136e+001; foe(n+1)=4.389417e+001; krok(n+1)=2.502768e-002; ng(n+1)=1.752872e+002;
n=7; farx(n+1)=3.239955e+001; foe(n+1)=4.290459e+001; krok(n+1)=1.330026e-003; ng(n+1)=2.113395e+002;
n=8; farx(n+1)=2.672763e+001; foe(n+1)=4.073298e+001; krok(n+1)=1.290032e-002; ng(n+1)=2.610263e+002;
n=9; farx(n+1)=2.204068e+001; foe(n+1)=3.691512e+001; krok(n+1)=1.153579e-002; ng(n+1)=4.422988e+002;
n=10; farx(n+1)=2.129362e+001; foe(n+1)=3.664656e+001; krok(n+1)=9.078303e-003; ng(n+1)=3.874644e+002;
n=11; farx(n+1)=1.996207e+001; foe(n+1)=3.522167e+001; krok(n+1)=3.173436e-002; ng(n+1)=4.225319e+002;
n=12; farx(n+1)=1.948168e+001; foe(n+1)=3.475689e+001; krok(n+1)=3.128460e-003; ng(n+1)=3.303717e+002;
n=13; farx(n+1)=1.801639e+001; foe(n+1)=3.304417e+001; krok(n+1)=1.916842e-002; ng(n+1)=3.518077e+002;
n=14; farx(n+1)=1.600298e+001; foe(n+1)=3.144165e+001; krok(n+1)=1.254988e-002; ng(n+1)=1.112564e+002;
n=15; farx(n+1)=1.464662e+001; foe(n+1)=3.058080e+001; krok(n+1)=1.226153e-002; ng(n+1)=3.774211e+002;
n=16; farx(n+1)=8.581056e+000; foe(n+1)=2.118784e+001; krok(n+1)=5.908701e-002; ng(n+1)=2.911490e+002;
n=17; farx(n+1)=5.522284e+000; foe(n+1)=1.844546e+001; krok(n+1)=6.700076e-003; ng(n+1)=1.774795e+002;
n=18; farx(n+1)=2.661248e+000; foe(n+1)=1.296310e+001; krok(n+1)=9.790078e-002; ng(n+1)=5.379430e+002;
n=19; farx(n+1)=2.264617e+000; foe(n+1)=7.662258e+000; krok(n+1)=1.008497e-001; ng(n+1)=4.086710e+002;
n=20; farx(n+1)=2.192383e+000; foe(n+1)=7.026015e+000; krok(n+1)=1.902387e-003; ng(n+1)=7.902943e+002;
n=21; farx(n+1)=2.112384e+000; foe(n+1)=5.901741e+000; krok(n+1)=1.064021e-002; ng(n+1)=4.831326e+002;
n=22; farx(n+1)=2.123826e+000; foe(n+1)=4.948743e+000; krok(n+1)=5.397089e-002; ng(n+1)=2.997458e+002;
n=23; farx(n+1)=1.852732e+000; foe(n+1)=3.992134e+000; krok(n+1)=8.472165e-002; ng(n+1)=2.476573e+002;
n=24; farx(n+1)=9.905935e-001; foe(n+1)=3.069690e+000; krok(n+1)=4.047493e-001; ng(n+1)=1.692593e+002;
n=25; farx(n+1)=7.079650e-001; foe(n+1)=2.373974e+000; krok(n+1)=4.353621e-001; ng(n+1)=2.006706e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.032553e-001; foe(n+1)=2.349916e+000; krok(n+1)=1.684728e-005; ng(n+1)=9.612547e+001;
n=27; farx(n+1)=7.104304e-001; foe(n+1)=2.294833e+000; krok(n+1)=1.569452e-004; ng(n+1)=5.922744e+001;
n=28; farx(n+1)=7.137689e-001; foe(n+1)=2.273254e+000; krok(n+1)=1.205665e-004; ng(n+1)=4.387142e+001;
n=29; farx(n+1)=6.830570e-001; foe(n+1)=1.715290e+000; krok(n+1)=3.870416e-003; ng(n+1)=3.401799e+001;
n=30; farx(n+1)=6.114819e-001; foe(n+1)=1.572453e+000; krok(n+1)=1.321526e-002; ng(n+1)=2.032362e+001;
n=31; farx(n+1)=6.067596e-001; foe(n+1)=1.485615e+000; krok(n+1)=4.331299e-002; ng(n+1)=1.204773e+002;
n=32; farx(n+1)=6.122158e-001; foe(n+1)=1.445937e+000; krok(n+1)=4.193314e-002; ng(n+1)=5.155396e+001;
n=33; farx(n+1)=6.069292e-001; foe(n+1)=1.429425e+000; krok(n+1)=2.399905e-002; ng(n+1)=3.973559e+001;
n=34; farx(n+1)=5.975550e-001; foe(n+1)=1.371634e+000; krok(n+1)=3.571716e-002; ng(n+1)=1.018023e+002;
n=35; farx(n+1)=5.920358e-001; foe(n+1)=1.334878e+000; krok(n+1)=2.967304e-002; ng(n+1)=7.878930e+001;
n=36; farx(n+1)=5.889684e-001; foe(n+1)=1.267257e+000; krok(n+1)=1.568149e-002; ng(n+1)=1.255585e+002;
n=37; farx(n+1)=5.937095e-001; foe(n+1)=1.218662e+000; krok(n+1)=1.001107e-001; ng(n+1)=8.805921e+001;
n=38; farx(n+1)=6.197145e-001; foe(n+1)=1.171032e+000; krok(n+1)=4.756755e-002; ng(n+1)=9.813183e+001;
n=39; farx(n+1)=5.945258e-001; foe(n+1)=1.151877e+000; krok(n+1)=9.406594e-002; ng(n+1)=2.704438e+001;
n=40; farx(n+1)=5.564813e-001; foe(n+1)=1.128691e+000; krok(n+1)=5.737813e-002; ng(n+1)=7.446000e+001;
n=41; farx(n+1)=4.873524e-001; foe(n+1)=1.061585e+000; krok(n+1)=5.642809e-001; ng(n+1)=3.186617e+001;
n=42; farx(n+1)=4.650048e-001; foe(n+1)=1.039785e+000; krok(n+1)=7.542765e-002; ng(n+1)=3.582971e+001;
n=43; farx(n+1)=4.343017e-001; foe(n+1)=9.838330e-001; krok(n+1)=2.730638e-001; ng(n+1)=7.922639e+001;
n=44; farx(n+1)=4.783999e-001; foe(n+1)=9.000662e-001; krok(n+1)=9.528451e-001; ng(n+1)=4.518948e+001;
n=45; farx(n+1)=4.815945e-001; foe(n+1)=8.724756e-001; krok(n+1)=2.427388e-001; ng(n+1)=5.906203e+001;
n=46; farx(n+1)=4.719086e-001; foe(n+1)=8.541495e-001; krok(n+1)=1.200783e-001; ng(n+1)=6.921420e+001;
n=47; farx(n+1)=4.273508e-001; foe(n+1)=8.179481e-001; krok(n+1)=1.196783e-001; ng(n+1)=5.719132e+001;
n=48; farx(n+1)=3.933207e-001; foe(n+1)=7.911805e-001; krok(n+1)=1.370460e-001; ng(n+1)=4.290677e+001;
n=49; farx(n+1)=3.591847e-001; foe(n+1)=7.629387e-001; krok(n+1)=2.760258e-001; ng(n+1)=1.535572e+001;
n=50; farx(n+1)=3.454404e-001; foe(n+1)=7.481809e-001; krok(n+1)=2.818076e-001; ng(n+1)=3.861440e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
