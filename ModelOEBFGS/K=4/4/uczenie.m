%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.078912e+002; foe(n+1)=3.019316e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.712604e+002; foe(n+1)=1.673595e+002; krok(n+1)=5.069434e-004; ng(n+1)=7.600024e+002;
n=2; farx(n+1)=7.188735e+001; foe(n+1)=6.628127e+001; krok(n+1)=1.042905e-002; ng(n+1)=1.782671e+002;
n=3; farx(n+1)=6.884345e+001; foe(n+1)=6.242785e+001; krok(n+1)=1.548092e-003; ng(n+1)=2.143675e+002;
n=4; farx(n+1)=6.733818e+001; foe(n+1)=6.123616e+001; krok(n+1)=8.625805e-003; ng(n+1)=1.008377e+002;
n=5; farx(n+1)=3.918196e+001; foe(n+1)=5.603783e+001; krok(n+1)=2.065111e-002; ng(n+1)=6.655042e+001;
n=6; farx(n+1)=2.308474e+001; foe(n+1)=5.321866e+001; krok(n+1)=8.494456e-003; ng(n+1)=3.953545e+002;
n=7; farx(n+1)=9.635531e+000; foe(n+1)=4.891767e+001; krok(n+1)=1.189399e-002; ng(n+1)=7.436999e+002;
n=8; farx(n+1)=7.479440e+000; foe(n+1)=4.814567e+001; krok(n+1)=5.581911e-005; ng(n+1)=2.181826e+003;
n=9; farx(n+1)=6.412243e+000; foe(n+1)=4.564386e+001; krok(n+1)=1.486332e-002; ng(n+1)=2.996373e+003;
n=10; farx(n+1)=6.420727e+000; foe(n+1)=4.523224e+001; krok(n+1)=1.200037e-004; ng(n+1)=3.852760e+003;
n=11; farx(n+1)=6.622342e+000; foe(n+1)=4.491046e+001; krok(n+1)=3.677109e-003; ng(n+1)=3.830020e+003;
n=12; farx(n+1)=9.728791e+000; foe(n+1)=3.986130e+001; krok(n+1)=2.355148e-002; ng(n+1)=3.770412e+003;
n=13; farx(n+1)=1.086373e+001; foe(n+1)=3.877669e+001; krok(n+1)=2.263251e-004; ng(n+1)=2.100046e+003;
n=14; farx(n+1)=1.347017e+001; foe(n+1)=3.652461e+001; krok(n+1)=4.483426e-003; ng(n+1)=1.170909e+003;
n=15; farx(n+1)=1.530465e+001; foe(n+1)=3.373957e+001; krok(n+1)=1.196180e-002; ng(n+1)=9.546695e+002;
n=16; farx(n+1)=1.619079e+001; foe(n+1)=3.022885e+001; krok(n+1)=1.399673e-002; ng(n+1)=2.295403e+002;
n=17; farx(n+1)=1.586254e+001; foe(n+1)=2.880366e+001; krok(n+1)=1.946507e-002; ng(n+1)=3.933338e+002;
n=18; farx(n+1)=1.118292e+001; foe(n+1)=2.464685e+001; krok(n+1)=7.786028e-002; ng(n+1)=2.537321e+002;
n=19; farx(n+1)=8.115924e+000; foe(n+1)=2.157574e+001; krok(n+1)=5.113139e-002; ng(n+1)=2.848573e+002;
n=20; farx(n+1)=3.723736e+000; foe(n+1)=1.455413e+001; krok(n+1)=1.650423e-002; ng(n+1)=7.544797e+002;
n=21; farx(n+1)=2.648251e+000; foe(n+1)=1.199756e+001; krok(n+1)=2.085765e-002; ng(n+1)=6.791769e+002;
n=22; farx(n+1)=2.352567e+000; foe(n+1)=1.150536e+001; krok(n+1)=2.693892e-002; ng(n+1)=4.038180e+002;
n=23; farx(n+1)=2.020781e+000; foe(n+1)=1.035007e+001; krok(n+1)=9.642176e-002; ng(n+1)=3.978226e+002;
n=24; farx(n+1)=1.412626e+000; foe(n+1)=8.765739e+000; krok(n+1)=8.127796e-001; ng(n+1)=2.716618e+002;
n=25; farx(n+1)=1.241371e+000; foe(n+1)=8.292469e+000; krok(n+1)=3.655615e-001; ng(n+1)=2.953219e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.251584e+000; foe(n+1)=8.277885e+000; krok(n+1)=2.468559e-005; ng(n+1)=6.777936e+001;
n=27; farx(n+1)=1.232284e+000; foe(n+1)=8.226392e+000; krok(n+1)=2.563847e-004; ng(n+1)=4.138719e+001;
n=28; farx(n+1)=1.068306e+000; foe(n+1)=7.897814e+000; krok(n+1)=7.209870e-004; ng(n+1)=5.239320e+001;
n=29; farx(n+1)=1.175399e+000; foe(n+1)=6.870097e+000; krok(n+1)=4.090422e-004; ng(n+1)=1.314363e+002;
n=30; farx(n+1)=1.145637e+000; foe(n+1)=6.090289e+000; krok(n+1)=8.674162e-003; ng(n+1)=9.698997e+001;
n=31; farx(n+1)=1.122589e+000; foe(n+1)=5.851122e+000; krok(n+1)=4.258262e-003; ng(n+1)=2.940593e+002;
n=32; farx(n+1)=1.101827e+000; foe(n+1)=5.176454e+000; krok(n+1)=9.457647e-003; ng(n+1)=3.277976e+002;
n=33; farx(n+1)=1.152653e+000; foe(n+1)=4.964234e+000; krok(n+1)=1.364590e-002; ng(n+1)=3.120821e+002;
n=34; farx(n+1)=1.200605e+000; foe(n+1)=4.652804e+000; krok(n+1)=1.037624e-001; ng(n+1)=1.341757e+002;
n=35; farx(n+1)=1.157910e+000; foe(n+1)=4.495702e+000; krok(n+1)=1.560217e-002; ng(n+1)=3.292742e+002;
n=36; farx(n+1)=1.207462e+000; foe(n+1)=4.290990e+000; krok(n+1)=5.465714e-002; ng(n+1)=2.006979e+002;
n=37; farx(n+1)=1.200925e+000; foe(n+1)=4.210722e+000; krok(n+1)=1.056509e-002; ng(n+1)=6.460894e+001;
n=38; farx(n+1)=1.048910e+000; foe(n+1)=3.918341e+000; krok(n+1)=1.282857e-001; ng(n+1)=1.043578e+002;
n=39; farx(n+1)=9.921794e-001; foe(n+1)=3.743619e+000; krok(n+1)=7.660919e-002; ng(n+1)=1.436080e+002;
n=40; farx(n+1)=9.158275e-001; foe(n+1)=3.485366e+000; krok(n+1)=2.656312e-001; ng(n+1)=1.818957e+002;
n=41; farx(n+1)=9.063772e-001; foe(n+1)=3.197514e+000; krok(n+1)=3.185792e-001; ng(n+1)=3.654881e+002;
n=42; farx(n+1)=8.947538e-001; foe(n+1)=2.924675e+000; krok(n+1)=5.481842e-001; ng(n+1)=1.200982e+002;
n=43; farx(n+1)=8.470839e-001; foe(n+1)=2.495713e+000; krok(n+1)=1.112649e+000; ng(n+1)=8.894188e+001;
n=44; farx(n+1)=8.449946e-001; foe(n+1)=2.255541e+000; krok(n+1)=4.147513e-001; ng(n+1)=1.925208e+002;
n=45; farx(n+1)=8.379262e-001; foe(n+1)=2.039794e+000; krok(n+1)=8.131859e-001; ng(n+1)=7.219521e+001;
n=46; farx(n+1)=7.794139e-001; foe(n+1)=1.874115e+000; krok(n+1)=9.929818e-001; ng(n+1)=1.182692e+002;
n=47; farx(n+1)=7.535651e-001; foe(n+1)=1.831724e+000; krok(n+1)=3.636509e-001; ng(n+1)=4.274562e+001;
n=48; farx(n+1)=7.241055e-001; foe(n+1)=1.777992e+000; krok(n+1)=3.465039e-001; ng(n+1)=4.605075e+001;
n=49; farx(n+1)=7.271617e-001; foe(n+1)=1.741059e+000; krok(n+1)=2.889625e-001; ng(n+1)=1.239825e+002;
n=50; farx(n+1)=7.355438e-001; foe(n+1)=1.697652e+000; krok(n+1)=5.461275e-001; ng(n+1)=3.971674e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
