%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.319853e+002; foe(n+1)=3.208970e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.855712e+002; foe(n+1)=1.798748e+002; krok(n+1)=5.080539e-004; ng(n+1)=9.885376e+002;
n=2; farx(n+1)=9.665560e+001; foe(n+1)=9.995999e+001; krok(n+1)=2.409244e-002; ng(n+1)=2.172008e+002;
n=3; farx(n+1)=5.713785e+001; foe(n+1)=6.393638e+001; krok(n+1)=3.229906e-004; ng(n+1)=1.308120e+003;
n=4; farx(n+1)=4.938641e+001; foe(n+1)=6.283703e+001; krok(n+1)=2.117016e-003; ng(n+1)=9.664326e+001;
n=5; farx(n+1)=3.401046e+001; foe(n+1)=6.025086e+001; krok(n+1)=6.518159e-004; ng(n+1)=2.428550e+002;
n=6; farx(n+1)=2.071629e+001; foe(n+1)=4.367652e+001; krok(n+1)=3.076926e-002; ng(n+1)=5.426744e+002;
n=7; farx(n+1)=1.949802e+001; foe(n+1)=4.103076e+001; krok(n+1)=3.272561e-003; ng(n+1)=4.700954e+002;
n=8; farx(n+1)=1.855204e+001; foe(n+1)=3.859256e+001; krok(n+1)=2.454245e-003; ng(n+1)=7.023792e+002;
n=9; farx(n+1)=1.796061e+001; foe(n+1)=3.561760e+001; krok(n+1)=5.608324e-003; ng(n+1)=6.507421e+002;
n=10; farx(n+1)=1.852216e+001; foe(n+1)=3.401421e+001; krok(n+1)=5.119766e-003; ng(n+1)=8.171175e+002;
n=11; farx(n+1)=1.830102e+001; foe(n+1)=3.385774e+001; krok(n+1)=1.908037e-003; ng(n+1)=5.179108e+002;
n=12; farx(n+1)=1.540018e+001; foe(n+1)=3.193361e+001; krok(n+1)=2.674687e-002; ng(n+1)=4.234973e+002;
n=13; farx(n+1)=1.438762e+001; foe(n+1)=3.037112e+001; krok(n+1)=1.282772e-002; ng(n+1)=2.635037e+002;
n=14; farx(n+1)=1.328845e+001; foe(n+1)=2.704647e+001; krok(n+1)=5.381741e-003; ng(n+1)=7.413903e+002;
n=15; farx(n+1)=1.195691e+001; foe(n+1)=2.568058e+001; krok(n+1)=8.647968e-003; ng(n+1)=4.565364e+002;
n=16; farx(n+1)=1.175446e+001; foe(n+1)=2.542660e+001; krok(n+1)=2.452346e-003; ng(n+1)=9.846543e+002;
n=17; farx(n+1)=9.194896e+000; foe(n+1)=2.303611e+001; krok(n+1)=2.687524e-002; ng(n+1)=1.172958e+003;
n=18; farx(n+1)=5.345184e+000; foe(n+1)=1.800843e+001; krok(n+1)=7.925655e-002; ng(n+1)=8.628727e+002;
n=19; farx(n+1)=2.502138e+000; foe(n+1)=1.343587e+001; krok(n+1)=4.857442e-002; ng(n+1)=1.282056e+003;
n=20; farx(n+1)=1.749377e+000; foe(n+1)=1.082814e+001; krok(n+1)=6.105720e-002; ng(n+1)=1.542506e+003;
n=21; farx(n+1)=1.662684e+000; foe(n+1)=7.449684e+000; krok(n+1)=4.818488e-002; ng(n+1)=2.072162e+003;
n=22; farx(n+1)=1.499993e+000; foe(n+1)=6.102842e+000; krok(n+1)=1.492217e-001; ng(n+1)=1.217367e+003;
n=23; farx(n+1)=1.414001e+000; foe(n+1)=5.503025e+000; krok(n+1)=3.252259e-002; ng(n+1)=5.537870e+002;
n=24; farx(n+1)=1.411201e+000; foe(n+1)=3.468897e+000; krok(n+1)=2.224108e-001; ng(n+1)=4.878011e+002;
n=25; farx(n+1)=1.377800e+000; foe(n+1)=3.030094e+000; krok(n+1)=2.292046e-001; ng(n+1)=4.073160e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.377445e+000; foe(n+1)=2.990895e+000; krok(n+1)=7.381362e-006; ng(n+1)=1.968604e+002;
n=27; farx(n+1)=1.373002e+000; foe(n+1)=2.975172e+000; krok(n+1)=3.444097e-005; ng(n+1)=8.281311e+001;
n=28; farx(n+1)=1.383760e+000; foe(n+1)=2.945543e+000; krok(n+1)=2.406525e-004; ng(n+1)=4.167316e+001;
n=29; farx(n+1)=1.231207e+000; foe(n+1)=2.653562e+000; krok(n+1)=8.865514e-003; ng(n+1)=2.741892e+001;
n=30; farx(n+1)=1.070058e+000; foe(n+1)=2.310388e+000; krok(n+1)=2.359800e-003; ng(n+1)=8.513998e+001;
n=31; farx(n+1)=1.004835e+000; foe(n+1)=2.099312e+000; krok(n+1)=7.757015e-003; ng(n+1)=3.062107e+002;
n=32; farx(n+1)=9.560017e-001; foe(n+1)=1.960634e+000; krok(n+1)=1.165911e-002; ng(n+1)=1.684655e+002;
n=33; farx(n+1)=8.954079e-001; foe(n+1)=1.849960e+000; krok(n+1)=7.144846e-003; ng(n+1)=1.384303e+002;
n=34; farx(n+1)=8.452959e-001; foe(n+1)=1.735569e+000; krok(n+1)=2.000182e-002; ng(n+1)=6.417190e+001;
n=35; farx(n+1)=7.748686e-001; foe(n+1)=1.569417e+000; krok(n+1)=1.339882e-002; ng(n+1)=2.165319e+002;
n=36; farx(n+1)=7.343971e-001; foe(n+1)=1.473246e+000; krok(n+1)=2.339865e-002; ng(n+1)=2.330762e+002;
n=37; farx(n+1)=7.105517e-001; foe(n+1)=1.393240e+000; krok(n+1)=6.013604e-002; ng(n+1)=3.043772e+002;
n=38; farx(n+1)=6.919990e-001; foe(n+1)=1.364354e+000; krok(n+1)=1.664870e-002; ng(n+1)=1.852976e+002;
n=39; farx(n+1)=6.078634e-001; foe(n+1)=1.224007e+000; krok(n+1)=6.864555e-002; ng(n+1)=2.678153e+002;
n=40; farx(n+1)=5.643310e-001; foe(n+1)=1.153437e+000; krok(n+1)=1.090844e-001; ng(n+1)=5.540383e+001;
n=41; farx(n+1)=5.104121e-001; foe(n+1)=1.084011e+000; krok(n+1)=2.828655e-001; ng(n+1)=1.247547e+002;
n=42; farx(n+1)=4.940637e-001; foe(n+1)=1.020291e+000; krok(n+1)=2.876382e-001; ng(n+1)=4.733324e+001;
n=43; farx(n+1)=4.967822e-001; foe(n+1)=9.784219e-001; krok(n+1)=3.155149e-001; ng(n+1)=1.181245e+002;
n=44; farx(n+1)=4.930702e-001; foe(n+1)=9.337295e-001; krok(n+1)=7.310195e-001; ng(n+1)=4.053046e+001;
n=45; farx(n+1)=4.491467e-001; foe(n+1)=8.631058e-001; krok(n+1)=7.101669e-001; ng(n+1)=8.059869e+001;
n=46; farx(n+1)=4.230012e-001; foe(n+1)=8.331838e-001; krok(n+1)=4.641165e-001; ng(n+1)=4.367622e+001;
n=47; farx(n+1)=3.999546e-001; foe(n+1)=8.033870e-001; krok(n+1)=2.974827e-001; ng(n+1)=3.902802e+001;
n=48; farx(n+1)=3.786867e-001; foe(n+1)=7.654662e-001; krok(n+1)=5.770438e-001; ng(n+1)=4.170972e+001;
n=49; farx(n+1)=3.859975e-001; foe(n+1)=7.330413e-001; krok(n+1)=1.933624e-001; ng(n+1)=1.305513e+002;
n=50; farx(n+1)=3.784212e-001; foe(n+1)=7.101013e-001; krok(n+1)=4.951781e-001; ng(n+1)=8.227019e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
