%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.135347e+002; foe(n+1)=3.094047e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.820588e+002; foe(n+1)=1.797985e+002; krok(n+1)=5.002119e-004; ng(n+1)=8.272053e+002;
n=2; farx(n+1)=1.592922e+002; foe(n+1)=1.680918e+002; krok(n+1)=9.019129e-003; ng(n+1)=1.233490e+002;
n=3; farx(n+1)=4.723037e+001; foe(n+1)=5.991425e+001; krok(n+1)=4.089695e-003; ng(n+1)=3.360104e+002;
n=4; farx(n+1)=4.546731e+001; foe(n+1)=5.729083e+001; krok(n+1)=4.014172e-004; ng(n+1)=3.007093e+002;
n=5; farx(n+1)=3.888703e+001; foe(n+1)=5.088882e+001; krok(n+1)=3.300845e-002; ng(n+1)=1.892862e+002;
n=6; farx(n+1)=4.201037e+001; foe(n+1)=4.798966e+001; krok(n+1)=4.830641e-003; ng(n+1)=5.255885e+002;
n=7; farx(n+1)=3.566967e+001; foe(n+1)=4.095434e+001; krok(n+1)=1.091588e-002; ng(n+1)=2.945141e+002;
n=8; farx(n+1)=2.865503e+001; foe(n+1)=3.831727e+001; krok(n+1)=1.927372e-002; ng(n+1)=5.790638e+001;
n=9; farx(n+1)=2.786422e+001; foe(n+1)=3.787880e+001; krok(n+1)=8.252113e-003; ng(n+1)=1.292624e+002;
n=10; farx(n+1)=2.593297e+001; foe(n+1)=3.640194e+001; krok(n+1)=3.607652e-002; ng(n+1)=1.071679e+002;
n=11; farx(n+1)=2.469052e+001; foe(n+1)=3.581227e+001; krok(n+1)=1.797739e-002; ng(n+1)=8.411038e+001;
n=12; farx(n+1)=1.786692e+001; foe(n+1)=3.254141e+001; krok(n+1)=1.001107e-001; ng(n+1)=1.382129e+002;
n=13; farx(n+1)=1.189062e+001; foe(n+1)=3.015717e+001; krok(n+1)=7.861553e-003; ng(n+1)=1.346626e+002;
n=14; farx(n+1)=8.124221e+000; foe(n+1)=2.845735e+001; krok(n+1)=1.287328e-002; ng(n+1)=3.154025e+002;
n=15; farx(n+1)=6.559733e+000; foe(n+1)=2.773491e+001; krok(n+1)=1.615204e-002; ng(n+1)=5.019764e+002;
n=16; farx(n+1)=5.336029e+000; foe(n+1)=2.697347e+001; krok(n+1)=1.226153e-002; ng(n+1)=6.289408e+002;
n=17; farx(n+1)=4.564417e+000; foe(n+1)=2.662237e+001; krok(n+1)=1.109636e-002; ng(n+1)=7.052977e+002;
n=18; farx(n+1)=2.841953e+000; foe(n+1)=2.225885e+001; krok(n+1)=1.005024e-001; ng(n+1)=7.364112e+002;
n=19; farx(n+1)=2.355558e+000; foe(n+1)=2.128169e+001; krok(n+1)=2.038266e-002; ng(n+1)=5.638464e+002;
n=20; farx(n+1)=2.121125e+000; foe(n+1)=1.852069e+001; krok(n+1)=2.001452e-002; ng(n+1)=5.046582e+002;
n=21; farx(n+1)=2.114997e+000; foe(n+1)=1.580467e+001; krok(n+1)=4.751121e-003; ng(n+1)=1.041902e+003;
n=22; farx(n+1)=2.392024e+000; foe(n+1)=1.388642e+001; krok(n+1)=2.928765e-002; ng(n+1)=1.447497e+003;
n=23; farx(n+1)=2.474294e+000; foe(n+1)=1.277836e+001; krok(n+1)=5.955282e-002; ng(n+1)=1.283545e+003;
n=24; farx(n+1)=2.175203e+000; foe(n+1)=9.352222e+000; krok(n+1)=2.079006e-001; ng(n+1)=9.409009e+002;
n=25; farx(n+1)=2.121814e+000; foe(n+1)=8.235543e+000; krok(n+1)=2.745822e-001; ng(n+1)=4.486016e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.103654e+000; foe(n+1)=8.160787e+000; krok(n+1)=2.657240e-005; ng(n+1)=1.459653e+002;
n=27; farx(n+1)=2.108830e+000; foe(n+1)=8.155237e+000; krok(n+1)=2.394830e-005; ng(n+1)=3.755260e+001;
n=28; farx(n+1)=2.152289e+000; foe(n+1)=7.932196e+000; krok(n+1)=4.747676e-003; ng(n+1)=2.435659e+001;
n=29; farx(n+1)=1.818588e+000; foe(n+1)=6.773441e+000; krok(n+1)=1.282071e-003; ng(n+1)=5.419176e+001;
n=30; farx(n+1)=1.613749e+000; foe(n+1)=6.133506e+000; krok(n+1)=4.483426e-003; ng(n+1)=3.043581e+002;
n=31; farx(n+1)=1.435432e+000; foe(n+1)=5.645056e+000; krok(n+1)=1.406421e-002; ng(n+1)=8.352843e+001;
n=32; farx(n+1)=1.246361e+000; foe(n+1)=4.978118e+000; krok(n+1)=5.087256e-003; ng(n+1)=2.851378e+002;
n=33; farx(n+1)=1.084042e+000; foe(n+1)=4.523178e+000; krok(n+1)=1.526430e-002; ng(n+1)=1.383060e+002;
n=34; farx(n+1)=1.073528e+000; foe(n+1)=4.389836e+000; krok(n+1)=6.283621e-003; ng(n+1)=7.612379e+001;
n=35; farx(n+1)=1.030827e+000; foe(n+1)=3.950272e+000; krok(n+1)=1.112054e-001; ng(n+1)=6.220435e+001;
n=36; farx(n+1)=9.493785e-001; foe(n+1)=3.681564e+000; krok(n+1)=2.252562e-002; ng(n+1)=1.397210e+002;
n=37; farx(n+1)=1.043825e+000; foe(n+1)=2.986190e+000; krok(n+1)=9.957579e-002; ng(n+1)=3.197975e+001;
n=38; farx(n+1)=1.077701e+000; foe(n+1)=2.826717e+000; krok(n+1)=1.473291e-002; ng(n+1)=9.357829e+001;
n=39; farx(n+1)=1.025793e+000; foe(n+1)=2.660238e+000; krok(n+1)=1.414327e-001; ng(n+1)=4.553290e+001;
n=40; farx(n+1)=9.619112e-001; foe(n+1)=2.518524e+000; krok(n+1)=6.173004e-002; ng(n+1)=8.425853e+001;
n=41; farx(n+1)=8.743054e-001; foe(n+1)=2.321349e+000; krok(n+1)=1.694093e-001; ng(n+1)=1.250713e+002;
n=42; farx(n+1)=8.456025e-001; foe(n+1)=2.264637e+000; krok(n+1)=6.105720e-002; ng(n+1)=7.523577e+001;
n=43; farx(n+1)=7.600311e-001; foe(n+1)=2.153267e+000; krok(n+1)=6.622313e-001; ng(n+1)=7.409364e+001;
n=44; farx(n+1)=7.293887e-001; foe(n+1)=2.085139e+000; krok(n+1)=5.824576e-001; ng(n+1)=3.680539e+001;
n=45; farx(n+1)=6.927792e-001; foe(n+1)=2.005108e+000; krok(n+1)=3.510640e-001; ng(n+1)=6.019871e+001;
n=46; farx(n+1)=6.774953e-001; foe(n+1)=1.968626e+000; krok(n+1)=1.803954e-001; ng(n+1)=9.440412e+001;
n=47; farx(n+1)=6.549912e-001; foe(n+1)=1.917033e+000; krok(n+1)=5.642809e-001; ng(n+1)=3.036192e+001;
n=48; farx(n+1)=6.433212e-001; foe(n+1)=1.903499e+000; krok(n+1)=9.327289e-002; ng(n+1)=6.670933e+001;
n=49; farx(n+1)=6.135779e-001; foe(n+1)=1.866109e+000; krok(n+1)=4.635137e-001; ng(n+1)=3.941667e+001;
n=50; farx(n+1)=5.515097e-001; foe(n+1)=1.810040e+000; krok(n+1)=5.680238e-001; ng(n+1)=6.554239e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
