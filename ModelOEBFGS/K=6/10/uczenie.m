%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.885892e+002; foe(n+1)=1.865759e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.679130e+002; foe(n+1)=1.642109e+002; krok(n+1)=5.643799e-004; ng(n+1)=5.445743e+002;
n=2; farx(n+1)=8.018107e+001; foe(n+1)=6.823887e+001; krok(n+1)=7.680234e-003; ng(n+1)=3.432182e+002;
n=3; farx(n+1)=7.671341e+001; foe(n+1)=6.365974e+001; krok(n+1)=2.075244e-003; ng(n+1)=2.523788e+002;
n=4; farx(n+1)=7.020389e+001; foe(n+1)=6.247573e+001; krok(n+1)=1.547432e-002; ng(n+1)=6.476906e+001;
n=5; farx(n+1)=3.841942e+001; foe(n+1)=5.739546e+001; krok(n+1)=1.168746e-002; ng(n+1)=1.314778e+002;
n=6; farx(n+1)=1.294077e+001; foe(n+1)=5.052633e+001; krok(n+1)=1.086709e-002; ng(n+1)=5.171434e+002;
n=7; farx(n+1)=7.895967e+000; foe(n+1)=4.861353e+001; krok(n+1)=9.152390e-004; ng(n+1)=1.522395e+003;
n=8; farx(n+1)=7.383107e+000; foe(n+1)=4.819198e+001; krok(n+1)=7.740461e-004; ng(n+1)=2.540529e+003;
n=9; farx(n+1)=6.181054e+000; foe(n+1)=4.320355e+001; krok(n+1)=1.593333e-003; ng(n+1)=2.457841e+003;
n=10; farx(n+1)=6.156583e+000; foe(n+1)=4.298499e+001; krok(n+1)=2.230373e-004; ng(n+1)=3.575280e+003;
n=11; farx(n+1)=6.268534e+000; foe(n+1)=4.273804e+001; krok(n+1)=2.607264e-003; ng(n+1)=3.584847e+003;
n=12; farx(n+1)=7.226358e+000; foe(n+1)=4.077469e+001; krok(n+1)=9.146433e-003; ng(n+1)=3.274617e+003;
n=13; farx(n+1)=7.611459e+000; foe(n+1)=3.883975e+001; krok(n+1)=1.499367e-003; ng(n+1)=2.969823e+003;
n=14; farx(n+1)=7.778612e+000; foe(n+1)=3.779363e+001; krok(n+1)=1.532816e-003; ng(n+1)=2.482908e+003;
n=15; farx(n+1)=1.200189e+001; foe(n+1)=3.010379e+001; krok(n+1)=2.690904e-002; ng(n+1)=2.193757e+003;
n=16; farx(n+1)=1.286219e+001; foe(n+1)=2.841545e+001; krok(n+1)=5.647473e-003; ng(n+1)=7.230168e+002;
n=17; farx(n+1)=1.277431e+001; foe(n+1)=2.700731e+001; krok(n+1)=9.326355e-003; ng(n+1)=3.193776e+002;
n=18; farx(n+1)=1.158690e+001; foe(n+1)=2.316973e+001; krok(n+1)=1.189399e-002; ng(n+1)=2.451597e+002;
n=19; farx(n+1)=1.138799e+001; foe(n+1)=2.284307e+001; krok(n+1)=9.177573e-004; ng(n+1)=5.058745e+002;
n=20; farx(n+1)=8.915857e+000; foe(n+1)=1.759199e+001; krok(n+1)=1.448480e-002; ng(n+1)=6.561162e+002;
n=21; farx(n+1)=8.555516e+000; foe(n+1)=1.686849e+001; krok(n+1)=1.908037e-003; ng(n+1)=6.871558e+002;
n=22; farx(n+1)=7.960895e+000; foe(n+1)=1.612393e+001; krok(n+1)=9.335866e-003; ng(n+1)=5.184088e+002;
n=23; farx(n+1)=6.814961e+000; foe(n+1)=1.439115e+001; krok(n+1)=1.042882e-002; ng(n+1)=6.057983e+002;
n=24; farx(n+1)=5.967565e+000; foe(n+1)=1.342745e+001; krok(n+1)=2.279678e-002; ng(n+1)=5.367864e+002;
n=25; farx(n+1)=4.750651e+000; foe(n+1)=1.162151e+001; krok(n+1)=2.252562e-002; ng(n+1)=6.708450e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.713514e+000; foe(n+1)=1.147452e+001; krok(n+1)=1.468353e-004; ng(n+1)=1.391300e+002;
n=27; farx(n+1)=4.650812e+000; foe(n+1)=1.106745e+001; krok(n+1)=2.439194e-004; ng(n+1)=1.629272e+002;
n=28; farx(n+1)=4.629330e+000; foe(n+1)=1.098253e+001; krok(n+1)=6.062652e-005; ng(n+1)=1.503098e+002;
n=29; farx(n+1)=4.274247e+000; foe(n+1)=9.987652e+000; krok(n+1)=4.526501e-004; ng(n+1)=1.747738e+002;
n=30; farx(n+1)=3.843025e+000; foe(n+1)=8.619126e+000; krok(n+1)=2.118327e-003; ng(n+1)=8.370816e+001;
n=31; farx(n+1)=2.784596e+000; foe(n+1)=7.059712e+000; krok(n+1)=1.008597e-002; ng(n+1)=4.154254e+002;
n=32; farx(n+1)=2.324816e+000; foe(n+1)=6.287312e+000; krok(n+1)=2.678603e-003; ng(n+1)=4.646357e+002;
n=33; farx(n+1)=1.778371e+000; foe(n+1)=4.684525e+000; krok(n+1)=6.050128e-003; ng(n+1)=5.062787e+002;
n=34; farx(n+1)=1.629384e+000; foe(n+1)=4.035149e+000; krok(n+1)=1.185775e-003; ng(n+1)=4.015889e+002;
n=35; farx(n+1)=1.607597e+000; foe(n+1)=3.663638e+000; krok(n+1)=1.830545e-002; ng(n+1)=3.502015e+002;
n=36; farx(n+1)=1.494455e+000; foe(n+1)=3.478850e+000; krok(n+1)=9.904093e-003; ng(n+1)=2.820275e+002;
n=37; farx(n+1)=1.253217e+000; foe(n+1)=2.954085e+000; krok(n+1)=1.906683e-002; ng(n+1)=3.409685e+002;
n=38; farx(n+1)=1.140314e+000; foe(n+1)=2.614333e+000; krok(n+1)=5.414124e-003; ng(n+1)=2.945872e+002;
n=39; farx(n+1)=7.299907e-001; foe(n+1)=1.779805e+000; krok(n+1)=2.667694e-002; ng(n+1)=2.820656e+002;
n=40; farx(n+1)=6.428388e-001; foe(n+1)=1.648500e+000; krok(n+1)=6.446985e-003; ng(n+1)=1.470164e+002;
n=41; farx(n+1)=6.160437e-001; foe(n+1)=1.537790e+000; krok(n+1)=3.081106e-002; ng(n+1)=1.575050e+002;
n=42; farx(n+1)=6.186720e-001; foe(n+1)=1.482849e+000; krok(n+1)=1.830045e-002; ng(n+1)=1.673111e+002;
n=43; farx(n+1)=5.824408e-001; foe(n+1)=1.345429e+000; krok(n+1)=5.375048e-002; ng(n+1)=1.581681e+002;
n=44; farx(n+1)=5.926118e-001; foe(n+1)=1.290476e+000; krok(n+1)=2.753897e-002; ng(n+1)=1.794205e+002;
n=45; farx(n+1)=5.849165e-001; foe(n+1)=1.201032e+000; krok(n+1)=1.487414e-001; ng(n+1)=3.993369e+001;
n=46; farx(n+1)=5.724251e-001; foe(n+1)=1.154705e+000; krok(n+1)=1.481341e-001; ng(n+1)=7.027968e+001;
n=47; farx(n+1)=5.469152e-001; foe(n+1)=1.108377e+000; krok(n+1)=2.527804e-002; ng(n+1)=7.721658e+001;
n=48; farx(n+1)=5.111205e-001; foe(n+1)=1.071133e+000; krok(n+1)=4.713644e-002; ng(n+1)=6.915401e+001;
n=49; farx(n+1)=5.394055e-001; foe(n+1)=1.006481e+000; krok(n+1)=3.202323e-001; ng(n+1)=1.087053e+002;
n=50; farx(n+1)=5.421329e-001; foe(n+1)=9.196780e-001; krok(n+1)=3.624196e-001; ng(n+1)=1.450887e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
