%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.822715e+002; foe(n+1)=1.836300e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.642718e+002; foe(n+1)=1.654182e+002; krok(n+1)=6.145526e-004; ng(n+1)=5.291205e+002;
n=2; farx(n+1)=6.621766e+001; foe(n+1)=6.807084e+001; krok(n+1)=6.480489e-003; ng(n+1)=3.704309e+002;
n=3; farx(n+1)=6.178523e+001; foe(n+1)=6.212493e+001; krok(n+1)=1.471967e-003; ng(n+1)=3.458013e+002;
n=4; farx(n+1)=5.851726e+001; foe(n+1)=6.132354e+001; krok(n+1)=5.829556e-003; ng(n+1)=7.668993e+001;
n=5; farx(n+1)=1.886307e+001; foe(n+1)=5.136003e+001; krok(n+1)=2.340953e-002; ng(n+1)=1.133803e+002;
n=6; farx(n+1)=8.604052e+000; foe(n+1)=4.739914e+001; krok(n+1)=2.156451e-003; ng(n+1)=9.681541e+002;
n=7; farx(n+1)=3.501844e+000; foe(n+1)=2.691950e+001; krok(n+1)=4.964322e-003; ng(n+1)=2.188095e+003;
n=8; farx(n+1)=3.483470e+000; foe(n+1)=2.685486e+001; krok(n+1)=4.300043e-006; ng(n+1)=3.259785e+003;
n=9; farx(n+1)=3.471421e+000; foe(n+1)=2.680721e+001; krok(n+1)=3.505202e-004; ng(n+1)=3.076856e+003;
n=10; farx(n+1)=4.804570e+000; foe(n+1)=2.397271e+001; krok(n+1)=1.958773e-002; ng(n+1)=3.186857e+003;
n=11; farx(n+1)=6.296500e+000; foe(n+1)=2.028535e+001; krok(n+1)=1.111857e-003; ng(n+1)=2.454132e+003;
n=12; farx(n+1)=7.126753e+000; foe(n+1)=1.803109e+001; krok(n+1)=2.043687e-003; ng(n+1)=1.085415e+003;
n=13; farx(n+1)=7.145859e+000; foe(n+1)=1.749732e+001; krok(n+1)=6.422675e-003; ng(n+1)=4.025116e+002;
n=14; farx(n+1)=7.075151e+000; foe(n+1)=1.562209e+001; krok(n+1)=1.660018e-002; ng(n+1)=4.175145e+002;
n=15; farx(n+1)=6.848275e+000; foe(n+1)=1.528710e+001; krok(n+1)=6.947618e-003; ng(n+1)=1.445766e+002;
n=16; farx(n+1)=6.212505e+000; foe(n+1)=1.436766e+001; krok(n+1)=9.725768e-003; ng(n+1)=2.218063e+002;
n=17; farx(n+1)=5.008825e+000; foe(n+1)=1.235808e+001; krok(n+1)=3.920371e-003; ng(n+1)=4.698290e+002;
n=18; farx(n+1)=4.797987e+000; foe(n+1)=1.214303e+001; krok(n+1)=6.374691e-003; ng(n+1)=2.495654e+002;
n=19; farx(n+1)=4.318461e+000; foe(n+1)=1.154499e+001; krok(n+1)=1.303276e-002; ng(n+1)=5.003573e+002;
n=20; farx(n+1)=4.112878e+000; foe(n+1)=1.127336e+001; krok(n+1)=4.080593e-003; ng(n+1)=2.465072e+002;
n=21; farx(n+1)=3.440303e+000; foe(n+1)=9.947034e+000; krok(n+1)=1.538463e-002; ng(n+1)=5.172734e+002;
n=22; farx(n+1)=2.973161e+000; foe(n+1)=9.401534e+000; krok(n+1)=8.855578e-003; ng(n+1)=3.100210e+002;
n=23; farx(n+1)=2.164066e+000; foe(n+1)=8.654534e+000; krok(n+1)=1.274938e-002; ng(n+1)=4.062792e+002;
n=24; farx(n+1)=1.662694e+000; foe(n+1)=8.234644e+000; krok(n+1)=3.685289e-002; ng(n+1)=2.651899e+002;
n=25; farx(n+1)=9.807146e-001; foe(n+1)=7.204832e+000; krok(n+1)=7.689657e-002; ng(n+1)=4.526471e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.667850e-001; foe(n+1)=6.941003e+000; krok(n+1)=9.884595e-006; ng(n+1)=4.601943e+002;
n=27; farx(n+1)=9.613980e-001; foe(n+1)=6.886504e+000; krok(n+1)=3.291660e-005; ng(n+1)=1.700773e+002;
n=28; farx(n+1)=8.966232e-001; foe(n+1)=6.704412e+000; krok(n+1)=1.250114e-003; ng(n+1)=4.360147e+001;
n=29; farx(n+1)=8.774446e-001; foe(n+1)=3.826352e+000; krok(n+1)=2.972972e-003; ng(n+1)=1.209349e+002;
n=30; farx(n+1)=9.347806e-001; foe(n+1)=3.243408e+000; krok(n+1)=4.604034e-004; ng(n+1)=6.467993e+002;
n=31; farx(n+1)=7.117977e-001; foe(n+1)=2.565534e+000; krok(n+1)=2.085811e-002; ng(n+1)=1.575992e+002;
n=32; farx(n+1)=6.505298e-001; foe(n+1)=2.180571e+000; krok(n+1)=7.418259e-003; ng(n+1)=3.025904e+002;
n=33; farx(n+1)=6.371585e-001; foe(n+1)=2.078650e+000; krok(n+1)=8.518466e-003; ng(n+1)=9.356904e+001;
n=34; farx(n+1)=6.241895e-001; foe(n+1)=1.991408e+000; krok(n+1)=1.757317e-003; ng(n+1)=2.097609e+002;
n=35; farx(n+1)=5.764776e-001; foe(n+1)=1.732311e+000; krok(n+1)=2.001452e-002; ng(n+1)=1.229110e+002;
n=36; farx(n+1)=5.608226e-001; foe(n+1)=1.638178e+000; krok(n+1)=9.096510e-003; ng(n+1)=1.527337e+002;
n=37; farx(n+1)=5.538458e-001; foe(n+1)=1.484083e+000; krok(n+1)=2.107682e-002; ng(n+1)=1.030004e+002;
n=38; farx(n+1)=5.640852e-001; foe(n+1)=1.436369e+000; krok(n+1)=1.027490e-002; ng(n+1)=1.022693e+002;
n=39; farx(n+1)=6.097122e-001; foe(n+1)=1.342594e+000; krok(n+1)=1.496365e-002; ng(n+1)=1.158450e+002;
n=40; farx(n+1)=6.196359e-001; foe(n+1)=1.326301e+000; krok(n+1)=1.750226e-002; ng(n+1)=5.678636e+001;
n=41; farx(n+1)=6.324336e-001; foe(n+1)=1.311106e+000; krok(n+1)=6.345766e-002; ng(n+1)=4.727619e+001;
n=42; farx(n+1)=6.456767e-001; foe(n+1)=1.278204e+000; krok(n+1)=1.121259e-001; ng(n+1)=3.048118e+001;
n=43; farx(n+1)=6.524785e-001; foe(n+1)=1.254653e+000; krok(n+1)=6.223401e-002; ng(n+1)=6.885500e+001;
n=44; farx(n+1)=6.541905e-001; foe(n+1)=1.218988e+000; krok(n+1)=9.363811e-002; ng(n+1)=6.627067e+001;
n=45; farx(n+1)=6.494072e-001; foe(n+1)=1.182009e+000; krok(n+1)=8.316649e-002; ng(n+1)=1.068889e+002;
n=46; farx(n+1)=6.312633e-001; foe(n+1)=1.142722e+000; krok(n+1)=2.013997e-001; ng(n+1)=6.520573e+001;
n=47; farx(n+1)=5.984679e-001; foe(n+1)=1.108482e+000; krok(n+1)=4.215364e-002; ng(n+1)=1.851391e+002;
n=48; farx(n+1)=5.225052e-001; foe(n+1)=9.969780e-001; krok(n+1)=3.095635e-002; ng(n+1)=2.455909e+002;
n=49; farx(n+1)=5.124182e-001; foe(n+1)=9.903065e-001; krok(n+1)=2.284436e-002; ng(n+1)=7.661795e+001;
n=50; farx(n+1)=4.557826e-001; foe(n+1)=9.590222e-001; krok(n+1)=3.485301e-001; ng(n+1)=1.043736e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
