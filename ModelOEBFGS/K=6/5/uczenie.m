%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.779372e+002; foe(n+1)=1.775113e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.627814e+002; foe(n+1)=1.613515e+002; krok(n+1)=5.880954e-004; ng(n+1)=4.656106e+002;
n=2; farx(n+1)=7.592837e+001; foe(n+1)=7.156436e+001; krok(n+1)=6.544675e-003; ng(n+1)=3.097642e+002;
n=3; farx(n+1)=7.081087e+001; foe(n+1)=6.436995e+001; krok(n+1)=1.881412e-003; ng(n+1)=3.483664e+002;
n=4; farx(n+1)=7.373309e+001; foe(n+1)=6.264483e+001; krok(n+1)=7.632150e-003; ng(n+1)=2.175744e+002;
n=5; farx(n+1)=4.690203e+001; foe(n+1)=5.836907e+001; krok(n+1)=4.308418e-002; ng(n+1)=3.876041e+001;
n=6; farx(n+1)=2.296746e+001; foe(n+1)=5.282212e+001; krok(n+1)=8.101269e-003; ng(n+1)=3.182883e+002;
n=7; farx(n+1)=1.776055e+001; foe(n+1)=5.192763e+001; krok(n+1)=2.666638e-004; ng(n+1)=6.449291e+002;
n=8; farx(n+1)=8.683509e+000; foe(n+1)=4.277077e+001; krok(n+1)=6.599640e-002; ng(n+1)=9.777178e+002;
n=9; farx(n+1)=8.256650e+000; foe(n+1)=4.241163e+001; krok(n+1)=5.385244e-005; ng(n+1)=2.050236e+003;
n=10; farx(n+1)=8.063508e+000; foe(n+1)=4.196808e+001; krok(n+1)=2.013418e-003; ng(n+1)=2.310596e+003;
n=11; farx(n+1)=7.675611e+000; foe(n+1)=4.022648e+001; krok(n+1)=1.645950e-002; ng(n+1)=2.334890e+003;
n=12; farx(n+1)=7.516496e+000; foe(n+1)=3.901649e+001; krok(n+1)=6.500859e-004; ng(n+1)=2.723187e+003;
n=13; farx(n+1)=7.330315e+000; foe(n+1)=3.514286e+001; krok(n+1)=7.887845e-003; ng(n+1)=2.361328e+003;
n=14; farx(n+1)=7.219778e+000; foe(n+1)=3.310005e+001; krok(n+1)=8.336543e-004; ng(n+1)=2.749038e+003;
n=15; farx(n+1)=8.140742e+000; foe(n+1)=2.811382e+001; krok(n+1)=4.743100e-003; ng(n+1)=2.258133e+003;
n=16; farx(n+1)=8.293635e+000; foe(n+1)=2.618772e+001; krok(n+1)=1.906873e-003; ng(n+1)=1.086231e+003;
n=17; farx(n+1)=8.246098e+000; foe(n+1)=2.542513e+001; krok(n+1)=1.528320e-003; ng(n+1)=5.281040e+002;
n=18; farx(n+1)=8.321876e+000; foe(n+1)=2.270934e+001; krok(n+1)=2.307159e-002; ng(n+1)=4.241864e+002;
n=19; farx(n+1)=7.230918e+000; foe(n+1)=2.130686e+001; krok(n+1)=3.559503e-003; ng(n+1)=4.115198e+002;
n=20; farx(n+1)=5.038678e+000; foe(n+1)=1.705191e+001; krok(n+1)=1.189189e-002; ng(n+1)=8.447283e+002;
n=21; farx(n+1)=4.757281e+000; foe(n+1)=1.614808e+001; krok(n+1)=1.691206e-003; ng(n+1)=8.358323e+002;
n=22; farx(n+1)=4.553092e+000; foe(n+1)=1.316387e+001; krok(n+1)=1.526430e-002; ng(n+1)=8.148078e+002;
n=23; farx(n+1)=3.687455e+000; foe(n+1)=9.810215e+000; krok(n+1)=3.406610e-002; ng(n+1)=8.915215e+002;
n=24; farx(n+1)=3.448803e+000; foe(n+1)=8.221128e+000; krok(n+1)=3.406610e-002; ng(n+1)=1.749098e+003;
n=25; farx(n+1)=3.010120e+000; foe(n+1)=6.900962e+000; krok(n+1)=1.095618e-002; ng(n+1)=1.446877e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.977164e+000; foe(n+1)=6.523442e+000; krok(n+1)=8.058704e-006; ng(n+1)=8.885217e+002;
n=27; farx(n+1)=2.952370e+000; foe(n+1)=6.414347e+000; krok(n+1)=2.394830e-005; ng(n+1)=2.393137e+002;
n=28; farx(n+1)=2.944478e+000; foe(n+1)=6.175397e+000; krok(n+1)=1.401071e-004; ng(n+1)=1.597607e+002;
n=29; farx(n+1)=1.634534e+000; foe(n+1)=4.551761e+000; krok(n+1)=6.349841e-003; ng(n+1)=6.432762e+001;
n=30; farx(n+1)=1.317524e+000; foe(n+1)=3.930552e+000; krok(n+1)=1.830478e-003; ng(n+1)=5.183773e+002;
n=31; farx(n+1)=1.226774e+000; foe(n+1)=3.708255e+000; krok(n+1)=3.286413e-003; ng(n+1)=3.565773e+002;
n=32; farx(n+1)=1.155462e+000; foe(n+1)=3.454271e+000; krok(n+1)=8.053672e-003; ng(n+1)=2.443822e+002;
n=33; farx(n+1)=1.112380e+000; foe(n+1)=3.268563e+000; krok(n+1)=9.296334e-003; ng(n+1)=2.850846e+002;
n=34; farx(n+1)=1.016343e+000; foe(n+1)=3.110852e+000; krok(n+1)=1.647425e-002; ng(n+1)=2.678291e+002;
n=35; farx(n+1)=9.176326e-001; foe(n+1)=2.828092e+000; krok(n+1)=6.970444e-003; ng(n+1)=4.042681e+002;
n=36; farx(n+1)=8.518821e-001; foe(n+1)=2.647099e+000; krok(n+1)=8.855578e-003; ng(n+1)=1.861893e+002;
n=37; farx(n+1)=8.259506e-001; foe(n+1)=2.589517e+000; krok(n+1)=2.973498e-003; ng(n+1)=1.309681e+002;
n=38; farx(n+1)=7.809077e-001; foe(n+1)=2.409513e+000; krok(n+1)=1.175883e-002; ng(n+1)=1.091864e+002;
n=39; farx(n+1)=7.341806e-001; foe(n+1)=2.074963e+000; krok(n+1)=7.980009e-003; ng(n+1)=3.657095e+002;
n=40; farx(n+1)=7.231415e-001; foe(n+1)=2.027131e+000; krok(n+1)=9.677825e-003; ng(n+1)=1.177367e+002;
n=41; farx(n+1)=7.130128e-001; foe(n+1)=1.966054e+000; krok(n+1)=1.376894e-002; ng(n+1)=8.178498e+001;
n=42; farx(n+1)=6.919299e-001; foe(n+1)=1.859995e+000; krok(n+1)=1.127471e-002; ng(n+1)=2.327752e+002;
n=43; farx(n+1)=7.022029e-001; foe(n+1)=1.741730e+000; krok(n+1)=1.750226e-002; ng(n+1)=2.884247e+002;
n=44; farx(n+1)=7.065394e-001; foe(n+1)=1.655859e+000; krok(n+1)=2.366103e-002; ng(n+1)=2.231955e+002;
n=45; farx(n+1)=6.839888e-001; foe(n+1)=1.500266e+000; krok(n+1)=1.238254e-001; ng(n+1)=1.512796e+002;
n=46; farx(n+1)=6.613934e-001; foe(n+1)=1.384869e+000; krok(n+1)=3.413297e-002; ng(n+1)=2.464039e+002;
n=47; farx(n+1)=6.010472e-001; foe(n+1)=1.323305e+000; krok(n+1)=7.399549e-002; ng(n+1)=7.162800e+001;
n=48; farx(n+1)=5.446273e-001; foe(n+1)=1.261881e+000; krok(n+1)=1.200783e-001; ng(n+1)=9.661524e+001;
n=49; farx(n+1)=5.004371e-001; foe(n+1)=1.222678e+000; krok(n+1)=8.430727e-002; ng(n+1)=1.300410e+002;
n=50; farx(n+1)=4.832587e-001; foe(n+1)=1.152512e+000; krok(n+1)=2.192961e-001; ng(n+1)=4.120447e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
