%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.826871e+002; foe(n+1)=1.843235e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.693436e+002; foe(n+1)=1.703879e+002; krok(n+1)=6.121165e-004; ng(n+1)=4.596958e+002;
n=2; farx(n+1)=7.183308e+001; foe(n+1)=6.797314e+001; krok(n+1)=8.876059e-003; ng(n+1)=3.248421e+002;
n=3; farx(n+1)=6.748383e+001; foe(n+1)=6.220659e+001; krok(n+1)=1.556794e-003; ng(n+1)=2.947378e+002;
n=4; farx(n+1)=6.430365e+001; foe(n+1)=6.158652e+001; krok(n+1)=5.060913e-003; ng(n+1)=6.128889e+001;
n=5; farx(n+1)=2.285017e+001; foe(n+1)=5.235201e+001; krok(n+1)=2.025137e-002; ng(n+1)=1.007771e+002;
n=6; farx(n+1)=8.330926e+000; foe(n+1)=4.577312e+001; krok(n+1)=2.145173e-003; ng(n+1)=8.439878e+002;
n=7; farx(n+1)=5.923955e+000; foe(n+1)=4.413100e+001; krok(n+1)=3.657739e-004; ng(n+1)=2.487515e+003;
n=8; farx(n+1)=5.653934e+000; foe(n+1)=4.368467e+001; krok(n+1)=3.604935e-004; ng(n+1)=3.916472e+003;
n=9; farx(n+1)=5.123719e+000; foe(n+1)=3.750125e+001; krok(n+1)=9.128410e-003; ng(n+1)=4.007075e+003;
n=10; farx(n+1)=5.054557e+000; foe(n+1)=3.717650e+001; krok(n+1)=6.949109e-005; ng(n+1)=3.323082e+003;
n=11; farx(n+1)=6.136102e+000; foe(n+1)=3.314075e+001; krok(n+1)=1.857911e-002; ng(n+1)=2.824161e+003;
n=12; farx(n+1)=8.301386e+000; foe(n+1)=2.781248e+001; krok(n+1)=2.027773e-003; ng(n+1)=2.119754e+003;
n=13; farx(n+1)=8.076378e+000; foe(n+1)=2.564830e+001; krok(n+1)=5.548179e-003; ng(n+1)=5.890169e+002;
n=14; farx(n+1)=7.629135e+000; foe(n+1)=2.382832e+001; krok(n+1)=3.473809e-003; ng(n+1)=5.634500e+002;
n=15; farx(n+1)=5.950964e+000; foe(n+1)=2.045157e+001; krok(n+1)=1.598692e-002; ng(n+1)=3.562302e+002;
n=16; farx(n+1)=4.941089e+000; foe(n+1)=1.607417e+001; krok(n+1)=1.046652e-002; ng(n+1)=7.771989e+002;
n=17; farx(n+1)=4.612718e+000; foe(n+1)=1.541794e+001; krok(n+1)=5.733303e-004; ng(n+1)=6.612117e+002;
n=18; farx(n+1)=4.243560e+000; foe(n+1)=1.274512e+001; krok(n+1)=6.087640e-002; ng(n+1)=8.488179e+002;
n=19; farx(n+1)=3.648483e+000; foe(n+1)=9.830751e+000; krok(n+1)=1.183052e-002; ng(n+1)=2.093765e+002;
n=20; farx(n+1)=3.507970e+000; foe(n+1)=9.338275e+000; krok(n+1)=3.111744e-003; ng(n+1)=3.543106e+002;
n=21; farx(n+1)=3.416319e+000; foe(n+1)=9.112190e+000; krok(n+1)=3.485222e-003; ng(n+1)=3.287485e+002;
n=22; farx(n+1)=2.876472e+000; foe(n+1)=7.899865e+000; krok(n+1)=1.251384e-002; ng(n+1)=2.696561e+002;
n=23; farx(n+1)=2.540735e+000; foe(n+1)=7.182847e+000; krok(n+1)=2.779047e-002; ng(n+1)=4.083914e+002;
n=24; farx(n+1)=1.927828e+000; foe(n+1)=6.108299e+000; krok(n+1)=1.962005e-001; ng(n+1)=3.939489e+002;
n=25; farx(n+1)=1.894916e+000; foe(n+1)=5.669142e+000; krok(n+1)=5.873647e-002; ng(n+1)=6.723915e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.871246e+000; foe(n+1)=5.492247e+000; krok(n+1)=1.290553e-005; ng(n+1)=3.756766e+002;
n=27; farx(n+1)=1.847283e+000; foe(n+1)=5.450162e+000; krok(n+1)=6.158863e-005; ng(n+1)=9.272334e+001;
n=28; farx(n+1)=1.798474e+000; foe(n+1)=5.402275e+000; krok(n+1)=2.154098e-004; ng(n+1)=5.000287e+001;
n=29; farx(n+1)=1.782009e+000; foe(n+1)=4.700311e+000; krok(n+1)=6.256921e-003; ng(n+1)=4.001572e+001;
n=30; farx(n+1)=1.733612e+000; foe(n+1)=4.223642e+000; krok(n+1)=1.251384e-002; ng(n+1)=3.098610e+002;
n=31; farx(n+1)=1.606665e+000; foe(n+1)=3.866880e+000; krok(n+1)=1.428969e-002; ng(n+1)=6.412560e+001;
n=32; farx(n+1)=1.564302e+000; foe(n+1)=3.651935e+000; krok(n+1)=3.966104e-003; ng(n+1)=1.332895e+002;
n=33; farx(n+1)=1.568918e+000; foe(n+1)=3.556738e+000; krok(n+1)=1.945533e-003; ng(n+1)=2.733358e+002;
n=34; farx(n+1)=1.391003e+000; foe(n+1)=3.346468e+000; krok(n+1)=1.825682e-002; ng(n+1)=6.035564e+001;
n=35; farx(n+1)=1.237260e+000; foe(n+1)=3.137254e+000; krok(n+1)=1.076348e-002; ng(n+1)=1.420406e+002;
n=36; farx(n+1)=1.075783e+000; foe(n+1)=2.765676e+000; krok(n+1)=6.486639e-002; ng(n+1)=2.219977e+002;
n=37; farx(n+1)=1.059360e+000; foe(n+1)=2.628628e+000; krok(n+1)=1.417782e-002; ng(n+1)=1.529858e+002;
n=38; farx(n+1)=1.013280e+000; foe(n+1)=2.453182e+000; krok(n+1)=7.084462e-002; ng(n+1)=1.529326e+002;
n=39; farx(n+1)=1.025339e+000; foe(n+1)=2.297508e+000; krok(n+1)=2.517497e-002; ng(n+1)=1.446039e+002;
n=40; farx(n+1)=9.524268e-001; foe(n+1)=2.113762e+000; krok(n+1)=4.614317e-002; ng(n+1)=1.764779e+002;
n=41; farx(n+1)=8.845365e-001; foe(n+1)=2.044456e+000; krok(n+1)=2.439969e-002; ng(n+1)=1.290478e+002;
n=42; farx(n+1)=7.621060e-001; foe(n+1)=1.784097e+000; krok(n+1)=2.812841e-002; ng(n+1)=1.692301e+002;
n=43; farx(n+1)=7.268112e-001; foe(n+1)=1.727695e+000; krok(n+1)=4.715694e-002; ng(n+1)=1.832185e+002;
n=44; farx(n+1)=6.473722e-001; foe(n+1)=1.640658e+000; krok(n+1)=1.134226e-001; ng(n+1)=2.223176e+002;
n=45; farx(n+1)=6.133699e-001; foe(n+1)=1.557177e+000; krok(n+1)=1.057221e-001; ng(n+1)=5.258553e+001;
n=46; farx(n+1)=5.780407e-001; foe(n+1)=1.459205e+000; krok(n+1)=6.237096e-002; ng(n+1)=2.315298e+002;
n=47; farx(n+1)=5.355126e-001; foe(n+1)=1.371761e+000; krok(n+1)=8.877087e-002; ng(n+1)=5.136424e+001;
n=48; farx(n+1)=5.124654e-001; foe(n+1)=1.269663e+000; krok(n+1)=3.157278e-001; ng(n+1)=9.848876e+001;
n=49; farx(n+1)=5.227360e-001; foe(n+1)=1.235009e+000; krok(n+1)=1.261335e-001; ng(n+1)=5.918469e+001;
n=50; farx(n+1)=5.702108e-001; foe(n+1)=1.146397e+000; krok(n+1)=4.004429e-001; ng(n+1)=3.864182e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
