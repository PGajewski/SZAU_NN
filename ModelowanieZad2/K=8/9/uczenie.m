%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.908837e+002; foe(n+1)=1.916798e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.607739e+002; foe(n+1)=1.614338e+002; krok(n+1)=5.758264e-004; ng(n+1)=7.257980e+002;
n=2; farx(n+1)=6.218144e+001; foe(n+1)=6.355421e+001; krok(n+1)=4.926484e-003; ng(n+1)=5.162105e+002;
n=3; farx(n+1)=5.761088e+001; foe(n+1)=5.749177e+001; krok(n+1)=1.691206e-003; ng(n+1)=3.777325e+002;
n=4; farx(n+1)=5.280993e+001; foe(n+1)=5.614288e+001; krok(n+1)=1.033570e-002; ng(n+1)=8.319746e+001;
n=5; farx(n+1)=1.515925e+001; foe(n+1)=4.095483e+001; krok(n+1)=1.840296e-002; ng(n+1)=2.029514e+002;
n=6; farx(n+1)=1.006076e+001; foe(n+1)=3.401595e+001; krok(n+1)=6.694872e-004; ng(n+1)=1.342944e+003;
n=7; farx(n+1)=9.752698e+000; foe(n+1)=3.156746e+001; krok(n+1)=3.749852e-004; ng(n+1)=2.466224e+003;
n=8; farx(n+1)=9.935302e+000; foe(n+1)=3.057269e+001; krok(n+1)=6.767654e-004; ng(n+1)=2.950374e+003;
n=9; farx(n+1)=1.135932e+001; foe(n+1)=2.417313e+001; krok(n+1)=1.005588e-002; ng(n+1)=2.659894e+003;
n=10; farx(n+1)=1.050310e+001; foe(n+1)=2.103911e+001; krok(n+1)=6.099924e-003; ng(n+1)=8.554527e+002;
n=11; farx(n+1)=8.810321e+000; foe(n+1)=1.871109e+001; krok(n+1)=8.362807e-003; ng(n+1)=3.357910e+002;
n=12; farx(n+1)=7.905535e+000; foe(n+1)=1.756915e+001; krok(n+1)=2.972972e-003; ng(n+1)=3.356231e+002;
n=13; farx(n+1)=5.784963e+000; foe(n+1)=1.486151e+001; krok(n+1)=5.946996e-003; ng(n+1)=2.531968e+002;
n=14; farx(n+1)=3.462545e+000; foe(n+1)=1.150256e+001; krok(n+1)=3.214905e-003; ng(n+1)=3.389522e+002;
n=15; farx(n+1)=3.127447e+000; foe(n+1)=1.060910e+001; krok(n+1)=3.938450e-003; ng(n+1)=6.274783e+002;
n=16; farx(n+1)=3.119368e+000; foe(n+1)=1.002879e+001; krok(n+1)=6.800237e-003; ng(n+1)=5.083008e+002;
n=17; farx(n+1)=2.751414e+000; foe(n+1)=9.361657e+000; krok(n+1)=8.855578e-003; ng(n+1)=1.180287e+002;
n=18; farx(n+1)=2.309815e+000; foe(n+1)=7.064277e+000; krok(n+1)=1.761298e-002; ng(n+1)=2.684546e+002;
n=19; farx(n+1)=2.069605e+000; foe(n+1)=6.199010e+000; krok(n+1)=3.401267e-003; ng(n+1)=3.933353e+002;
n=20; farx(n+1)=1.960884e+000; foe(n+1)=5.171133e+000; krok(n+1)=4.578975e-003; ng(n+1)=3.900517e+002;
n=21; farx(n+1)=1.931333e+000; foe(n+1)=5.029663e+000; krok(n+1)=2.130969e-004; ng(n+1)=3.413509e+002;
n=22; farx(n+1)=1.762773e+000; foe(n+1)=4.387539e+000; krok(n+1)=2.219272e-002; ng(n+1)=2.489810e+002;
n=23; farx(n+1)=1.539327e+000; foe(n+1)=4.061164e+000; krok(n+1)=2.865057e-002; ng(n+1)=2.126903e+002;
n=24; farx(n+1)=1.209779e+000; foe(n+1)=3.338361e+000; krok(n+1)=2.501951e-002; ng(n+1)=2.677584e+002;
n=25; farx(n+1)=1.031015e+000; foe(n+1)=2.824841e+000; krok(n+1)=5.005537e-002; ng(n+1)=3.605898e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.023251e+000; foe(n+1)=2.621517e+000; krok(n+1)=2.190752e-005; ng(n+1)=4.697885e+002;
n=27; farx(n+1)=1.026702e+000; foe(n+1)=2.589449e+000; krok(n+1)=3.223481e-005; ng(n+1)=1.202711e+002;
n=28; farx(n+1)=1.019236e+000; foe(n+1)=2.538182e+000; krok(n+1)=3.347436e-004; ng(n+1)=5.472822e+001;
n=29; farx(n+1)=9.706102e-001; foe(n+1)=2.303700e+000; krok(n+1)=3.065383e-003; ng(n+1)=4.438098e+001;
n=30; farx(n+1)=9.239728e-001; foe(n+1)=2.038838e+000; krok(n+1)=1.040351e-002; ng(n+1)=3.397190e+001;
n=31; farx(n+1)=8.211596e-001; foe(n+1)=1.928284e+000; krok(n+1)=1.809047e-002; ng(n+1)=1.009740e+002;
n=32; farx(n+1)=6.251032e-001; foe(n+1)=1.492113e+000; krok(n+1)=1.044257e-001; ng(n+1)=7.735428e+001;
n=33; farx(n+1)=5.773929e-001; foe(n+1)=1.218340e+000; krok(n+1)=3.799656e-003; ng(n+1)=3.651848e+002;
n=34; farx(n+1)=5.535396e-001; foe(n+1)=1.154740e+000; krok(n+1)=6.543079e-003; ng(n+1)=1.136370e+002;
n=35; farx(n+1)=5.292964e-001; foe(n+1)=1.127673e+000; krok(n+1)=1.464382e-002; ng(n+1)=1.506224e+002;
n=36; farx(n+1)=5.083640e-001; foe(n+1)=1.090509e+000; krok(n+1)=1.427439e-002; ng(n+1)=9.270731e+001;
n=37; farx(n+1)=4.915281e-001; foe(n+1)=1.024721e+000; krok(n+1)=2.142359e-002; ng(n+1)=1.087692e+002;
n=38; farx(n+1)=4.550897e-001; foe(n+1)=9.562895e-001; krok(n+1)=2.735309e-002; ng(n+1)=1.360745e+002;
n=39; farx(n+1)=4.467156e-001; foe(n+1)=9.277427e-001; krok(n+1)=1.360047e-002; ng(n+1)=8.578754e+001;
n=40; farx(n+1)=4.430761e-001; foe(n+1)=9.063532e-001; krok(n+1)=4.256083e-002; ng(n+1)=9.249747e+001;
n=41; farx(n+1)=4.552463e-001; foe(n+1)=8.593742e-001; krok(n+1)=6.003917e-002; ng(n+1)=7.735060e+001;
n=42; farx(n+1)=4.738164e-001; foe(n+1)=8.026251e-001; krok(n+1)=5.945329e-002; ng(n+1)=7.999362e+001;
n=43; farx(n+1)=4.732886e-001; foe(n+1)=7.816639e-001; krok(n+1)=2.258989e-002; ng(n+1)=9.685127e+001;
n=44; farx(n+1)=4.577890e-001; foe(n+1)=7.637597e-001; krok(n+1)=1.248173e-001; ng(n+1)=3.364056e+001;
n=45; farx(n+1)=4.354749e-001; foe(n+1)=7.416728e-001; krok(n+1)=8.973318e-002; ng(n+1)=8.366161e+001;
n=46; farx(n+1)=4.311824e-001; foe(n+1)=7.364449e-001; krok(n+1)=1.563153e-002; ng(n+1)=9.104535e+001;
n=47; farx(n+1)=4.223306e-001; foe(n+1)=7.243253e-001; krok(n+1)=4.438543e-002; ng(n+1)=5.039720e+001;
n=48; farx(n+1)=4.117120e-001; foe(n+1)=7.007728e-001; krok(n+1)=1.961845e-001; ng(n+1)=5.630334e+001;
n=49; farx(n+1)=4.129694e-001; foe(n+1)=6.833552e-001; krok(n+1)=8.153064e-002; ng(n+1)=7.504369e+001;
n=50; farx(n+1)=4.174077e-001; foe(n+1)=6.338853e-001; krok(n+1)=1.794664e-001; ng(n+1)=5.422372e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
