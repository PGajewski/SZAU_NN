%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.057297e+002; foe(n+1)=2.051576e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.764871e+002; foe(n+1)=1.746104e+002; krok(n+1)=6.190058e-004; ng(n+1)=9.007607e+002;
n=2; farx(n+1)=7.071156e+001; foe(n+1)=6.127549e+001; krok(n+1)=8.300976e-003; ng(n+1)=5.929128e+002;
n=3; farx(n+1)=6.643489e+001; foe(n+1)=5.862215e+001; krok(n+1)=5.617933e-004; ng(n+1)=4.266183e+002;
n=4; farx(n+1)=6.381070e+001; foe(n+1)=5.727416e+001; krok(n+1)=1.708199e-003; ng(n+1)=1.845019e+002;
n=5; farx(n+1)=2.209778e+001; foe(n+1)=4.368193e+001; krok(n+1)=4.904612e-002; ng(n+1)=9.039596e+001;
n=6; farx(n+1)=8.555341e+000; foe(n+1)=1.927875e+001; krok(n+1)=7.505960e-003; ng(n+1)=6.719682e+002;
n=7; farx(n+1)=8.576531e+000; foe(n+1)=1.871094e+001; krok(n+1)=1.784716e-004; ng(n+1)=7.514890e+002;
n=8; farx(n+1)=8.295220e+000; foe(n+1)=1.717340e+001; krok(n+1)=9.748751e-003; ng(n+1)=6.943201e+002;
n=9; farx(n+1)=7.933934e+000; foe(n+1)=1.586151e+001; krok(n+1)=3.516052e-003; ng(n+1)=5.356774e+002;
n=10; farx(n+1)=5.591827e+000; foe(n+1)=1.214402e+001; krok(n+1)=1.576669e-002; ng(n+1)=3.373019e+002;
n=11; farx(n+1)=5.393209e+000; foe(n+1)=1.167993e+001; krok(n+1)=6.089906e-004; ng(n+1)=6.335000e+002;
n=12; farx(n+1)=5.266163e+000; foe(n+1)=1.143545e+001; krok(n+1)=4.494798e-004; ng(n+1)=2.963784e+002;
n=13; farx(n+1)=4.351044e+000; foe(n+1)=1.030284e+001; krok(n+1)=2.165649e-002; ng(n+1)=1.162375e+002;
n=14; farx(n+1)=3.430041e+000; foe(n+1)=8.495776e+000; krok(n+1)=4.767511e-003; ng(n+1)=2.128236e+002;
n=15; farx(n+1)=3.225873e+000; foe(n+1)=8.128267e+000; krok(n+1)=1.123587e-003; ng(n+1)=6.195334e+002;
n=16; farx(n+1)=3.163943e+000; foe(n+1)=8.042042e+000; krok(n+1)=7.590926e-004; ng(n+1)=2.380736e+002;
n=17; farx(n+1)=2.511556e+000; foe(n+1)=6.957014e+000; krok(n+1)=1.511671e-002; ng(n+1)=2.397443e+002;
n=18; farx(n+1)=2.132854e+000; foe(n+1)=5.010685e+000; krok(n+1)=2.369912e-002; ng(n+1)=3.230624e+002;
n=19; farx(n+1)=2.241911e+000; foe(n+1)=4.727744e+000; krok(n+1)=3.164277e-004; ng(n+1)=6.476341e+002;
n=20; farx(n+1)=2.196903e+000; foe(n+1)=4.584279e+000; krok(n+1)=3.376031e-003; ng(n+1)=3.095160e+002;
n=21; farx(n+1)=2.080470e+000; foe(n+1)=4.107013e+000; krok(n+1)=7.782134e-003; ng(n+1)=1.837948e+002;
n=22; farx(n+1)=1.928895e+000; foe(n+1)=3.925262e+000; krok(n+1)=1.004414e-002; ng(n+1)=4.095250e+002;
n=23; farx(n+1)=1.388551e+000; foe(n+1)=3.286114e+000; krok(n+1)=3.347423e-002; ng(n+1)=1.820998e+002;
n=24; farx(n+1)=1.209744e+000; foe(n+1)=2.962533e+000; krok(n+1)=1.095618e-002; ng(n+1)=4.544591e+002;
n=25; farx(n+1)=9.418464e-001; foe(n+1)=2.393875e+000; krok(n+1)=3.136297e-002; ng(n+1)=2.579249e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.274340e-001; foe(n+1)=2.239982e+000; krok(n+1)=1.184623e-005; ng(n+1)=4.377710e+002;
n=27; farx(n+1)=9.300494e-001; foe(n+1)=2.225827e+000; krok(n+1)=3.223647e-005; ng(n+1)=8.842763e+001;
n=28; farx(n+1)=8.969280e-001; foe(n+1)=2.179450e+000; krok(n+1)=2.593778e-004; ng(n+1)=5.933959e+001;
n=29; farx(n+1)=8.650898e-001; foe(n+1)=1.986424e+000; krok(n+1)=1.810600e-003; ng(n+1)=5.307790e+001;
n=30; farx(n+1)=7.469605e-001; foe(n+1)=1.718478e+000; krok(n+1)=1.095618e-002; ng(n+1)=2.932279e+001;
n=31; farx(n+1)=5.813457e-001; foe(n+1)=1.348773e+000; krok(n+1)=1.406421e-002; ng(n+1)=2.901564e+002;
n=32; farx(n+1)=5.704064e-001; foe(n+1)=1.266008e+000; krok(n+1)=4.449709e-003; ng(n+1)=2.885606e+002;
n=33; farx(n+1)=5.528844e-001; foe(n+1)=1.199765e+000; krok(n+1)=4.478448e-003; ng(n+1)=1.967221e+002;
n=34; farx(n+1)=5.121750e-001; foe(n+1)=1.097313e+000; krok(n+1)=2.308292e-002; ng(n+1)=7.215927e+001;
n=35; farx(n+1)=5.106775e-001; foe(n+1)=9.744782e-001; krok(n+1)=6.694845e-002; ng(n+1)=1.880271e+002;
n=36; farx(n+1)=4.818236e-001; foe(n+1)=8.666917e-001; krok(n+1)=6.504518e-002; ng(n+1)=9.903446e+001;
n=37; farx(n+1)=4.726028e-001; foe(n+1)=8.581084e-001; krok(n+1)=1.526430e-002; ng(n+1)=7.645814e+001;
n=38; farx(n+1)=4.533595e-001; foe(n+1)=8.319777e-001; krok(n+1)=6.827250e-002; ng(n+1)=8.059547e+001;
n=39; farx(n+1)=4.055538e-001; foe(n+1)=8.039408e-001; krok(n+1)=3.882853e-002; ng(n+1)=4.074418e+001;
n=40; farx(n+1)=3.976532e-001; foe(n+1)=7.793387e-001; krok(n+1)=7.887873e-002; ng(n+1)=4.595541e+001;
n=41; farx(n+1)=3.967887e-001; foe(n+1)=7.407735e-001; krok(n+1)=1.003743e-001; ng(n+1)=7.973095e+001;
n=42; farx(n+1)=3.787114e-001; foe(n+1)=7.099569e-001; krok(n+1)=4.545636e-002; ng(n+1)=6.024226e+001;
n=43; farx(n+1)=3.676801e-001; foe(n+1)=6.777756e-001; krok(n+1)=3.809184e-002; ng(n+1)=1.772343e+002;
n=44; farx(n+1)=3.574128e-001; foe(n+1)=6.393941e-001; krok(n+1)=3.876686e-002; ng(n+1)=1.024048e+002;
n=45; farx(n+1)=3.641673e-001; foe(n+1)=6.117591e-001; krok(n+1)=9.228634e-002; ng(n+1)=1.044180e+002;
n=46; farx(n+1)=3.638230e-001; foe(n+1)=5.995182e-001; krok(n+1)=6.460819e-002; ng(n+1)=3.684803e+001;
n=47; farx(n+1)=3.587940e-001; foe(n+1)=5.865535e-001; krok(n+1)=8.693674e-002; ng(n+1)=3.940907e+001;
n=48; farx(n+1)=3.605357e-001; foe(n+1)=5.579457e-001; krok(n+1)=5.598693e-002; ng(n+1)=9.307657e+001;
n=49; farx(n+1)=3.590565e-001; foe(n+1)=5.431069e-001; krok(n+1)=6.935426e-002; ng(n+1)=5.172515e+001;
n=50; farx(n+1)=3.546412e-001; foe(n+1)=5.327626e-001; krok(n+1)=6.287977e-002; ng(n+1)=3.028061e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
