%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.817283e+002; foe(n+1)=1.882096e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.592958e+002; foe(n+1)=1.653385e+002; krok(n+1)=5.928874e-004; ng(n+1)=6.367434e+002;
n=2; farx(n+1)=6.054735e+001; foe(n+1)=6.342341e+001; krok(n+1)=5.355898e-003; ng(n+1)=4.839067e+002;
n=3; farx(n+1)=5.544963e+001; foe(n+1)=5.608511e+001; krok(n+1)=1.532691e-003; ng(n+1)=4.143450e+002;
n=4; farx(n+1)=5.230250e+001; foe(n+1)=5.513438e+001; krok(n+1)=6.319511e-003; ng(n+1)=7.764214e+001;
n=5; farx(n+1)=1.696777e+001; foe(n+1)=4.243219e+001; krok(n+1)=1.825465e-002; ng(n+1)=1.724558e+002;
n=6; farx(n+1)=1.014581e+001; foe(n+1)=3.526427e+001; krok(n+1)=1.772228e-003; ng(n+1)=1.320413e+003;
n=7; farx(n+1)=1.019531e+001; foe(n+1)=3.324525e+001; krok(n+1)=6.502194e-004; ng(n+1)=3.036725e+003;
n=8; farx(n+1)=1.040178e+001; foe(n+1)=3.244067e+001; krok(n+1)=2.344633e-003; ng(n+1)=3.316858e+003;
n=9; farx(n+1)=1.133828e+001; foe(n+1)=2.928634e+001; krok(n+1)=6.037139e-004; ng(n+1)=3.367500e+003;
n=10; farx(n+1)=1.273052e+001; foe(n+1)=2.294331e+001; krok(n+1)=2.741623e-002; ng(n+1)=2.102553e+003;
n=11; farx(n+1)=1.279685e+001; foe(n+1)=2.146255e+001; krok(n+1)=9.053002e-004; ng(n+1)=7.803103e+002;
n=12; farx(n+1)=1.296196e+001; foe(n+1)=2.078919e+001; krok(n+1)=1.225207e-003; ng(n+1)=2.543119e+002;
n=13; farx(n+1)=1.196755e+001; foe(n+1)=1.874470e+001; krok(n+1)=8.252113e-003; ng(n+1)=2.060751e+002;
n=14; farx(n+1)=1.031460e+001; foe(n+1)=1.747471e+001; krok(n+1)=2.590317e-002; ng(n+1)=1.616136e+002;
n=15; farx(n+1)=7.090534e+000; foe(n+1)=1.442480e+001; krok(n+1)=1.111520e-002; ng(n+1)=4.389287e+002;
n=16; farx(n+1)=5.802745e+000; foe(n+1)=1.357540e+001; krok(n+1)=2.728971e-003; ng(n+1)=3.209914e+002;
n=17; farx(n+1)=3.986869e+000; foe(n+1)=1.232215e+001; krok(n+1)=1.042905e-002; ng(n+1)=3.505904e+002;
n=18; farx(n+1)=2.518482e+000; foe(n+1)=1.111400e+001; krok(n+1)=4.738412e-003; ng(n+1)=2.375878e+002;
n=19; farx(n+1)=2.000994e+000; foe(n+1)=1.017880e+001; krok(n+1)=1.102111e-003; ng(n+1)=7.606227e+002;
n=20; farx(n+1)=1.923144e+000; foe(n+1)=9.835302e+000; krok(n+1)=1.742611e-003; ng(n+1)=6.885678e+002;
n=21; farx(n+1)=1.807768e+000; foe(n+1)=8.982638e+000; krok(n+1)=7.251821e-003; ng(n+1)=1.001980e+003;
n=22; farx(n+1)=1.549006e+000; foe(n+1)=8.252770e+000; krok(n+1)=5.557598e-003; ng(n+1)=5.561084e+002;
n=23; farx(n+1)=1.250522e+000; foe(n+1)=6.008973e+000; krok(n+1)=1.034736e-002; ng(n+1)=4.835377e+002;
n=24; farx(n+1)=1.081855e+000; foe(n+1)=5.181038e+000; krok(n+1)=5.478088e-003; ng(n+1)=1.821706e+002;
n=25; farx(n+1)=1.131332e+000; foe(n+1)=4.436723e+000; krok(n+1)=6.274942e-003; ng(n+1)=7.394878e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.868704e-001; foe(n+1)=3.914323e+000; krok(n+1)=1.997041e-004; ng(n+1)=2.376051e+002;
n=27; farx(n+1)=9.201654e-001; foe(n+1)=3.644730e+000; krok(n+1)=1.801245e-005; ng(n+1)=5.430643e+002;
n=28; farx(n+1)=8.109677e-001; foe(n+1)=3.421409e+000; krok(n+1)=1.131625e-004; ng(n+1)=1.936504e+002;
n=29; farx(n+1)=8.336643e-001; foe(n+1)=2.919448e+000; krok(n+1)=1.212998e-003; ng(n+1)=1.459824e+002;
n=30; farx(n+1)=7.580199e-001; foe(n+1)=2.423626e+000; krok(n+1)=5.022246e-003; ng(n+1)=5.609437e+001;
n=31; farx(n+1)=7.764856e-001; foe(n+1)=2.228232e+000; krok(n+1)=4.916421e-003; ng(n+1)=2.302301e+002;
n=32; farx(n+1)=7.294211e-001; foe(n+1)=1.950133e+000; krok(n+1)=1.750226e-002; ng(n+1)=3.391211e+002;
n=33; farx(n+1)=7.421177e-001; foe(n+1)=1.653884e+000; krok(n+1)=1.305012e-002; ng(n+1)=1.374211e+002;
n=34; farx(n+1)=7.540743e-001; foe(n+1)=1.518963e+000; krok(n+1)=1.097075e-002; ng(n+1)=1.402545e+002;
n=35; farx(n+1)=7.621945e-001; foe(n+1)=1.442738e+000; krok(n+1)=4.522618e-003; ng(n+1)=2.803136e+002;
n=36; farx(n+1)=6.121074e-001; foe(n+1)=1.156976e+000; krok(n+1)=3.692409e-002; ng(n+1)=1.295571e+002;
n=37; farx(n+1)=5.764512e-001; foe(n+1)=1.084868e+000; krok(n+1)=1.556427e-002; ng(n+1)=1.451168e+002;
n=38; farx(n+1)=5.066582e-001; foe(n+1)=9.683213e-001; krok(n+1)=1.664870e-002; ng(n+1)=1.285498e+002;
n=39; farx(n+1)=4.337121e-001; foe(n+1)=8.397664e-001; krok(n+1)=2.967304e-002; ng(n+1)=1.895349e+002;
n=40; farx(n+1)=4.256241e-001; foe(n+1)=8.276214e-001; krok(n+1)=6.303106e-003; ng(n+1)=7.329695e+001;
n=41; farx(n+1)=3.969682e-001; foe(n+1)=7.611657e-001; krok(n+1)=2.835564e-002; ng(n+1)=1.498628e+002;
n=42; farx(n+1)=3.879456e-001; foe(n+1)=6.928461e-001; krok(n+1)=6.504518e-002; ng(n+1)=9.799480e+001;
n=43; farx(n+1)=3.852572e-001; foe(n+1)=6.625305e-001; krok(n+1)=2.476948e-002; ng(n+1)=1.010921e+002;
n=44; farx(n+1)=3.876600e-001; foe(n+1)=6.251221e-001; krok(n+1)=9.327289e-002; ng(n+1)=1.478211e+002;
n=45; farx(n+1)=3.873502e-001; foe(n+1)=6.097713e-001; krok(n+1)=5.671128e-002; ng(n+1)=8.760724e+001;
n=46; farx(n+1)=3.611951e-001; foe(n+1)=5.732746e-001; krok(n+1)=1.023855e-001; ng(n+1)=8.031850e+001;
n=47; farx(n+1)=3.455521e-001; foe(n+1)=5.434403e-001; krok(n+1)=5.524306e-002; ng(n+1)=1.076058e+002;
n=48; farx(n+1)=3.447916e-001; foe(n+1)=5.110828e-001; krok(n+1)=8.068776e-002; ng(n+1)=1.017877e+002;
n=49; farx(n+1)=3.407915e-001; foe(n+1)=4.871992e-001; krok(n+1)=7.084462e-002; ng(n+1)=5.892446e+001;
n=50; farx(n+1)=3.269305e-001; foe(n+1)=4.662522e-001; krok(n+1)=3.134036e-001; ng(n+1)=8.627679e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
