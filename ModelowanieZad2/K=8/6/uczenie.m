%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.863014e+002; foe(n+1)=1.888862e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.575801e+002; foe(n+1)=1.597046e+002; krok(n+1)=5.623096e-004; ng(n+1)=7.943087e+002;
n=2; farx(n+1)=6.274655e+001; foe(n+1)=6.460995e+001; krok(n+1)=4.708571e-003; ng(n+1)=5.173596e+002;
n=3; farx(n+1)=5.696598e+001; foe(n+1)=5.646644e+001; krok(n+1)=2.403018e-003; ng(n+1)=4.018138e+002;
n=4; farx(n+1)=5.393229e+001; foe(n+1)=5.540933e+001; krok(n+1)=7.566741e-003; ng(n+1)=8.719900e+001;
n=5; farx(n+1)=1.309376e+001; foe(n+1)=3.757750e+001; krok(n+1)=4.095813e-002; ng(n+1)=1.410311e+002;
n=6; farx(n+1)=7.102666e+000; foe(n+1)=1.683666e+001; krok(n+1)=6.552053e-004; ng(n+1)=1.376116e+003;
n=7; farx(n+1)=7.022199e+000; foe(n+1)=1.644831e+001; krok(n+1)=5.312685e-005; ng(n+1)=9.434923e+002;
n=8; farx(n+1)=6.917736e+000; foe(n+1)=1.580267e+001; krok(n+1)=9.854180e-004; ng(n+1)=5.938050e+002;
n=9; farx(n+1)=6.919500e+000; foe(n+1)=1.494235e+001; krok(n+1)=6.669234e-003; ng(n+1)=5.992959e+002;
n=10; farx(n+1)=4.837661e+000; foe(n+1)=1.267535e+001; krok(n+1)=2.223039e-002; ng(n+1)=2.138966e+002;
n=11; farx(n+1)=3.860611e+000; foe(n+1)=1.119897e+001; krok(n+1)=3.151553e-003; ng(n+1)=7.728454e+002;
n=12; farx(n+1)=2.814784e+000; foe(n+1)=9.342725e+000; krok(n+1)=1.006932e-003; ng(n+1)=1.088486e+003;
n=13; farx(n+1)=2.301581e+000; foe(n+1)=7.872599e+000; krok(n+1)=3.722051e-003; ng(n+1)=5.806135e+002;
n=14; farx(n+1)=1.602161e+000; foe(n+1)=5.388126e+000; krok(n+1)=4.806036e-003; ng(n+1)=8.322585e+002;
n=15; farx(n+1)=1.427339e+000; foe(n+1)=5.018521e+000; krok(n+1)=3.485331e-003; ng(n+1)=2.449839e+002;
n=16; farx(n+1)=1.189075e+000; foe(n+1)=4.352294e+000; krok(n+1)=3.898185e-003; ng(n+1)=7.767891e+002;
n=17; farx(n+1)=1.055116e+000; foe(n+1)=4.135334e+000; krok(n+1)=4.372259e-003; ng(n+1)=3.978528e+002;
n=18; farx(n+1)=9.185691e-001; foe(n+1)=3.603516e+000; krok(n+1)=5.852382e-003; ng(n+1)=3.411910e+002;
n=19; farx(n+1)=8.979597e-001; foe(n+1)=3.480337e+000; krok(n+1)=2.947309e-003; ng(n+1)=3.534221e+002;
n=20; farx(n+1)=7.866992e-001; foe(n+1)=3.073034e+000; krok(n+1)=9.150227e-003; ng(n+1)=4.005736e+002;
n=21; farx(n+1)=7.502301e-001; foe(n+1)=2.822617e+000; krok(n+1)=6.409470e-003; ng(n+1)=3.279282e+002;
n=22; farx(n+1)=7.600215e-001; foe(n+1)=2.565849e+000; krok(n+1)=3.040838e-002; ng(n+1)=1.803862e+002;
n=23; farx(n+1)=7.477181e-001; foe(n+1)=2.476516e+000; krok(n+1)=7.032104e-003; ng(n+1)=1.848684e+002;
n=24; farx(n+1)=7.097416e-001; foe(n+1)=2.298023e+000; krok(n+1)=2.127270e-002; ng(n+1)=3.286282e+002;
n=25; farx(n+1)=7.393113e-001; foe(n+1)=2.187089e+000; krok(n+1)=4.641307e-002; ng(n+1)=1.093497e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.386295e-001; foe(n+1)=2.148858e+000; krok(n+1)=1.527191e-005; ng(n+1)=2.262556e+002;
n=27; farx(n+1)=7.386561e-001; foe(n+1)=2.145028e+000; krok(n+1)=1.442554e-005; ng(n+1)=7.467383e+001;
n=28; farx(n+1)=7.247698e-001; foe(n+1)=2.103941e+000; krok(n+1)=2.033206e-004; ng(n+1)=5.726499e+001;
n=29; farx(n+1)=7.200950e-001; foe(n+1)=1.971609e+000; krok(n+1)=2.519327e-003; ng(n+1)=3.654294e+001;
n=30; farx(n+1)=7.160759e-001; foe(n+1)=1.865875e+000; krok(n+1)=3.683227e-003; ng(n+1)=2.635389e+001;
n=31; farx(n+1)=7.939084e-001; foe(n+1)=1.649941e+000; krok(n+1)=1.871779e-002; ng(n+1)=6.076813e+001;
n=32; farx(n+1)=7.714339e-001; foe(n+1)=1.593220e+000; krok(n+1)=5.682045e-003; ng(n+1)=2.004033e+002;
n=33; farx(n+1)=7.242851e-001; foe(n+1)=1.404464e+000; krok(n+1)=1.423801e-002; ng(n+1)=2.363854e+002;
n=34; farx(n+1)=6.247124e-001; foe(n+1)=1.278060e+000; krok(n+1)=3.211609e-002; ng(n+1)=9.397795e+001;
n=35; farx(n+1)=5.576359e-001; foe(n+1)=1.183967e+000; krok(n+1)=6.947618e-003; ng(n+1)=2.271348e+002;
n=36; farx(n+1)=5.154840e-001; foe(n+1)=1.137945e+000; krok(n+1)=4.118564e-003; ng(n+1)=2.695789e+002;
n=37; farx(n+1)=4.582491e-001; foe(n+1)=1.051122e+000; krok(n+1)=1.028050e-001; ng(n+1)=7.520614e+001;
n=38; farx(n+1)=4.368191e-001; foe(n+1)=9.807238e-001; krok(n+1)=3.726844e-002; ng(n+1)=1.446848e+002;
n=39; farx(n+1)=4.306829e-001; foe(n+1)=9.044651e-001; krok(n+1)=1.970594e-002; ng(n+1)=1.855950e+002;
n=40; farx(n+1)=4.103728e-001; foe(n+1)=8.271705e-001; krok(n+1)=3.497807e-002; ng(n+1)=2.083448e+002;
n=41; farx(n+1)=4.102133e-001; foe(n+1)=8.157758e-001; krok(n+1)=1.078150e-002; ng(n+1)=7.151565e+001;
n=42; farx(n+1)=4.204695e-001; foe(n+1)=7.736604e-001; krok(n+1)=9.327289e-002; ng(n+1)=8.865193e+001;
n=43; farx(n+1)=4.232743e-001; foe(n+1)=7.612765e-001; krok(n+1)=2.308292e-002; ng(n+1)=1.167875e+002;
n=44; farx(n+1)=3.915859e-001; foe(n+1)=7.090850e-001; krok(n+1)=1.228837e-001; ng(n+1)=5.537576e+001;
n=45; farx(n+1)=3.792184e-001; foe(n+1)=6.886344e-001; krok(n+1)=2.705929e-002; ng(n+1)=7.481192e+001;
n=46; farx(n+1)=3.874724e-001; foe(n+1)=6.329311e-001; krok(n+1)=5.157588e-002; ng(n+1)=1.354711e+002;
n=47; farx(n+1)=3.730569e-001; foe(n+1)=6.023365e-001; krok(n+1)=9.407061e-002; ng(n+1)=4.176565e+001;
n=48; farx(n+1)=3.580755e-001; foe(n+1)=5.690817e-001; krok(n+1)=2.779047e-002; ng(n+1)=1.815299e+002;
n=49; farx(n+1)=3.552357e-001; foe(n+1)=5.548167e-001; krok(n+1)=4.568872e-002; ng(n+1)=9.876499e+001;
n=50; farx(n+1)=3.522722e-001; foe(n+1)=5.261763e-001; krok(n+1)=5.598693e-002; ng(n+1)=5.982716e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
