%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.848080e+002; foe(n+1)=1.907135e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.642478e+002; foe(n+1)=1.708889e+002; krok(n+1)=6.518015e-004; ng(n+1)=6.837045e+002;
n=2; farx(n+1)=5.207083e+001; foe(n+1)=5.813281e+001; krok(n+1)=6.450159e-003; ng(n+1)=5.362956e+002;
n=3; farx(n+1)=5.065143e+001; foe(n+1)=5.623319e+001; krok(n+1)=8.713055e-004; ng(n+1)=2.569256e+002;
n=4; farx(n+1)=4.761071e+001; foe(n+1)=5.552337e+001; krok(n+1)=2.634602e-003; ng(n+1)=9.272129e+001;
n=5; farx(n+1)=7.969198e+000; foe(n+1)=2.377593e+001; krok(n+1)=3.284986e-002; ng(n+1)=1.324855e+002;
n=6; farx(n+1)=7.857362e+000; foe(n+1)=2.220447e+001; krok(n+1)=1.764835e-004; ng(n+1)=1.526154e+003;
n=7; farx(n+1)=8.038584e+000; foe(n+1)=2.171259e+001; krok(n+1)=3.523348e-004; ng(n+1)=1.624020e+003;
n=8; farx(n+1)=8.887099e+000; foe(n+1)=1.836328e+001; krok(n+1)=2.673171e-003; ng(n+1)=1.856040e+003;
n=9; farx(n+1)=8.430501e+000; foe(n+1)=1.713214e+001; krok(n+1)=5.038654e-003; ng(n+1)=5.530974e+002;
n=10; farx(n+1)=6.847736e+000; foe(n+1)=1.211552e+001; krok(n+1)=1.071441e-002; ng(n+1)=1.077761e+003;
n=11; farx(n+1)=5.080093e+000; foe(n+1)=9.768614e+000; krok(n+1)=1.153579e-002; ng(n+1)=4.969174e+002;
n=12; farx(n+1)=4.157660e+000; foe(n+1)=8.652272e+000; krok(n+1)=1.160015e-003; ng(n+1)=7.140610e+002;
n=13; farx(n+1)=3.093307e+000; foe(n+1)=7.060696e+000; krok(n+1)=7.883344e-003; ng(n+1)=5.242332e+002;
n=14; farx(n+1)=1.983768e+000; foe(n+1)=5.497736e+000; krok(n+1)=5.887869e-003; ng(n+1)=4.102622e+002;
n=15; farx(n+1)=1.466410e+000; foe(n+1)=4.444032e+000; krok(n+1)=1.870456e-003; ng(n+1)=1.025176e+003;
n=16; farx(n+1)=1.259019e+000; foe(n+1)=3.931470e+000; krok(n+1)=3.683227e-003; ng(n+1)=3.164312e+002;
n=17; farx(n+1)=1.094220e+000; foe(n+1)=3.245424e+000; krok(n+1)=2.778799e-003; ng(n+1)=3.775225e+002;
n=18; farx(n+1)=1.099134e+000; foe(n+1)=2.965644e+000; krok(n+1)=2.883948e-003; ng(n+1)=6.392002e+002;
n=19; farx(n+1)=1.148825e+000; foe(n+1)=2.706145e+000; krok(n+1)=9.231023e-003; ng(n+1)=2.613744e+002;
n=20; farx(n+1)=1.129126e+000; foe(n+1)=2.546464e+000; krok(n+1)=1.281894e-002; ng(n+1)=3.417674e+002;
n=21; farx(n+1)=9.276776e-001; foe(n+1)=2.087595e+000; krok(n+1)=3.552033e-002; ng(n+1)=2.527426e+002;
n=22; farx(n+1)=8.749590e-001; foe(n+1)=1.919174e+000; krok(n+1)=5.095665e-003; ng(n+1)=4.309994e+002;
n=23; farx(n+1)=8.311193e-001; foe(n+1)=1.616311e+000; krok(n+1)=4.130221e-002; ng(n+1)=8.336901e+001;
n=24; farx(n+1)=7.988632e-001; foe(n+1)=1.371407e+000; krok(n+1)=1.554412e-002; ng(n+1)=3.475004e+002;
n=25; farx(n+1)=7.232194e-001; foe(n+1)=1.237983e+000; krok(n+1)=3.238370e-002; ng(n+1)=1.310846e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.251260e-001; foe(n+1)=1.212172e+000; krok(n+1)=1.549259e-005; ng(n+1)=2.099082e+002;
n=27; farx(n+1)=7.259586e-001; foe(n+1)=1.207824e+000; krok(n+1)=1.496279e-005; ng(n+1)=6.691083e+001;
n=28; farx(n+1)=7.259639e-001; foe(n+1)=1.201347e+000; krok(n+1)=2.970657e-004; ng(n+1)=2.330214e+001;
n=29; farx(n+1)=6.898953e-001; foe(n+1)=1.167937e+000; krok(n+1)=6.446985e-003; ng(n+1)=1.246756e+001;
n=30; farx(n+1)=5.853920e-001; foe(n+1)=1.088754e+000; krok(n+1)=9.600724e-003; ng(n+1)=2.044019e+001;
n=31; farx(n+1)=5.462656e-001; foe(n+1)=1.053368e+000; krok(n+1)=1.849615e-002; ng(n+1)=2.066851e+002;
n=32; farx(n+1)=5.130848e-001; foe(n+1)=1.005050e+000; krok(n+1)=2.173419e-002; ng(n+1)=1.926127e+002;
n=33; farx(n+1)=5.111811e-001; foe(n+1)=9.548663e-001; krok(n+1)=4.524124e-002; ng(n+1)=1.201944e+002;
n=34; farx(n+1)=4.910422e-001; foe(n+1)=9.091012e-001; krok(n+1)=2.598758e-002; ng(n+1)=2.304256e+002;
n=35; farx(n+1)=4.404513e-001; foe(n+1)=8.546330e-001; krok(n+1)=3.366815e-002; ng(n+1)=8.496079e+001;
n=36; farx(n+1)=4.033997e-001; foe(n+1)=7.968081e-001; krok(n+1)=1.596002e-002; ng(n+1)=2.190052e+002;
n=37; farx(n+1)=3.902821e-001; foe(n+1)=7.708650e-001; krok(n+1)=5.887869e-003; ng(n+1)=1.384349e+002;
n=38; farx(n+1)=3.919166e-001; foe(n+1)=7.371630e-001; krok(n+1)=5.873647e-002; ng(n+1)=7.695706e+001;
n=39; farx(n+1)=3.777026e-001; foe(n+1)=7.173069e-001; krok(n+1)=7.165516e-002; ng(n+1)=1.628153e+001;
n=40; farx(n+1)=3.566810e-001; foe(n+1)=6.930846e-001; krok(n+1)=2.284436e-002; ng(n+1)=1.409871e+002;
n=41; farx(n+1)=3.475548e-001; foe(n+1)=6.714875e-001; krok(n+1)=6.392790e-002; ng(n+1)=1.847123e+001;
n=42; farx(n+1)=3.353579e-001; foe(n+1)=6.438301e-001; krok(n+1)=3.798141e-002; ng(n+1)=1.420809e+002;
n=43; farx(n+1)=3.369489e-001; foe(n+1)=6.244729e-001; krok(n+1)=6.995615e-002; ng(n+1)=2.071540e+001;
n=44; farx(n+1)=3.498465e-001; foe(n+1)=6.033614e-001; krok(n+1)=1.185480e-001; ng(n+1)=4.097766e+001;
n=45; farx(n+1)=3.609435e-001; foe(n+1)=5.882719e-001; krok(n+1)=3.612085e-002; ng(n+1)=5.354163e+001;
n=46; farx(n+1)=3.506917e-001; foe(n+1)=5.716561e-001; krok(n+1)=2.580064e-002; ng(n+1)=3.775491e+001;
n=47; farx(n+1)=3.475959e-001; foe(n+1)=5.629979e-001; krok(n+1)=1.321526e-002; ng(n+1)=9.618895e+001;
n=48; farx(n+1)=3.169708e-001; foe(n+1)=5.173738e-001; krok(n+1)=2.320583e-001; ng(n+1)=4.588435e+001;
n=49; farx(n+1)=3.040802e-001; foe(n+1)=4.993205e-001; krok(n+1)=3.407387e-002; ng(n+1)=1.220075e+002;
n=50; farx(n+1)=3.009368e-001; foe(n+1)=4.838433e-001; krok(n+1)=1.261335e-001; ng(n+1)=1.249734e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
