%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.560021e+002; foe(n+1)=2.636479e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.728991e+002; foe(n+1)=1.769384e+002; krok(n+1)=4.820713e-004; ng(n+1)=8.047674e+002;
n=2; farx(n+1)=6.338618e+001; foe(n+1)=6.131512e+001; krok(n+1)=2.727640e-002; ng(n+1)=1.828777e+002;
n=3; farx(n+1)=6.066982e+001; foe(n+1)=5.917148e+001; krok(n+1)=4.636412e-004; ng(n+1)=2.603505e+002;
n=4; farx(n+1)=5.319077e+001; foe(n+1)=5.435710e+001; krok(n+1)=2.038894e-002; ng(n+1)=1.093232e+002;
n=5; farx(n+1)=4.094415e+001; foe(n+1)=4.344564e+001; krok(n+1)=5.548179e-003; ng(n+1)=1.283452e+002;
n=6; farx(n+1)=3.703350e+001; foe(n+1)=4.001863e+001; krok(n+1)=9.356732e-003; ng(n+1)=2.461928e+002;
n=7; farx(n+1)=2.364663e+001; foe(n+1)=3.362588e+001; krok(n+1)=4.756755e-002; ng(n+1)=1.213141e+002;
n=8; farx(n+1)=1.950519e+001; foe(n+1)=3.140000e+001; krok(n+1)=1.559274e-002; ng(n+1)=1.900744e+002;
n=9; farx(n+1)=1.812366e+001; foe(n+1)=3.020832e+001; krok(n+1)=3.677109e-003; ng(n+1)=2.796646e+002;
n=10; farx(n+1)=1.705546e+001; foe(n+1)=2.796971e+001; krok(n+1)=1.992696e-001; ng(n+1)=3.624290e+002;
n=11; farx(n+1)=1.814630e+001; foe(n+1)=2.619065e+001; krok(n+1)=5.079872e-002; ng(n+1)=3.666927e+002;
n=12; farx(n+1)=1.861732e+001; foe(n+1)=2.473074e+001; krok(n+1)=4.686838e-002; ng(n+1)=2.032227e+002;
n=13; farx(n+1)=1.697523e+001; foe(n+1)=2.383563e+001; krok(n+1)=9.365437e-002; ng(n+1)=1.067131e+002;
n=14; farx(n+1)=1.594056e+001; foe(n+1)=2.336083e+001; krok(n+1)=1.965861e-002; ng(n+1)=1.389095e+002;
n=15; farx(n+1)=1.099295e+001; foe(n+1)=2.090047e+001; krok(n+1)=2.193298e-001; ng(n+1)=2.088397e+002;
n=16; farx(n+1)=1.021413e+001; foe(n+1)=2.054260e+001; krok(n+1)=3.081734e-002; ng(n+1)=1.685131e+002;
n=17; farx(n+1)=7.312204e+000; foe(n+1)=1.874541e+001; krok(n+1)=1.041001e-001; ng(n+1)=2.514035e+002;
n=18; farx(n+1)=6.192315e+000; foe(n+1)=1.789143e+001; krok(n+1)=6.963444e-002; ng(n+1)=1.311938e+002;
n=19; farx(n+1)=2.645044e+000; foe(n+1)=1.089602e+001; krok(n+1)=2.514437e-001; ng(n+1)=4.058324e+002;
n=20; farx(n+1)=2.487991e+000; foe(n+1)=9.970993e+000; krok(n+1)=1.634950e-002; ng(n+1)=8.823780e+002;
n=21; farx(n+1)=2.578325e+000; foe(n+1)=7.407802e+000; krok(n+1)=5.529705e-002; ng(n+1)=6.774928e+002;
n=22; farx(n+1)=2.741553e+000; foe(n+1)=6.934788e+000; krok(n+1)=2.366211e-002; ng(n+1)=3.090185e+002;
n=23; farx(n+1)=2.427935e+000; foe(n+1)=4.773654e+000; krok(n+1)=8.512166e-002; ng(n+1)=3.713745e+002;
n=24; farx(n+1)=2.181235e+000; foe(n+1)=4.237270e+000; krok(n+1)=5.059367e-002; ng(n+1)=1.565805e+002;
n=25; farx(n+1)=1.354794e+000; foe(n+1)=3.379791e+000; krok(n+1)=1.500565e-001; ng(n+1)=1.953870e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.348274e+000; foe(n+1)=3.282077e+000; krok(n+1)=1.304908e-005; ng(n+1)=2.637384e+002;
n=27; farx(n+1)=1.361736e+000; foe(n+1)=3.247274e+000; krok(n+1)=7.910691e-005; ng(n+1)=7.662732e+001;
n=28; farx(n+1)=1.333482e+000; foe(n+1)=3.181629e+000; krok(n+1)=3.569936e-004; ng(n+1)=5.003841e+001;
n=29; farx(n+1)=1.193897e+000; foe(n+1)=2.588940e+000; krok(n+1)=8.252113e-003; ng(n+1)=2.800818e+001;
n=30; farx(n+1)=1.096121e+000; foe(n+1)=2.363581e+000; krok(n+1)=1.289397e-002; ng(n+1)=1.863995e+002;
n=31; farx(n+1)=1.063015e+000; foe(n+1)=2.269873e+000; krok(n+1)=3.910756e-003; ng(n+1)=1.071671e+002;
n=32; farx(n+1)=8.534382e-001; foe(n+1)=1.968086e+000; krok(n+1)=1.589439e-002; ng(n+1)=2.259021e+002;
n=33; farx(n+1)=8.498928e-001; foe(n+1)=1.920269e+000; krok(n+1)=2.981463e-002; ng(n+1)=6.794027e+001;
n=34; farx(n+1)=7.994826e-001; foe(n+1)=1.848693e+000; krok(n+1)=5.466235e-002; ng(n+1)=6.316726e+001;
n=35; farx(n+1)=6.119009e-001; foe(n+1)=1.586887e+000; krok(n+1)=1.940886e-001; ng(n+1)=1.006667e+002;
n=36; farx(n+1)=6.649422e-001; foe(n+1)=1.436670e+000; krok(n+1)=7.384818e-002; ng(n+1)=1.358041e+002;
n=37; farx(n+1)=6.853517e-001; foe(n+1)=1.398953e+000; krok(n+1)=3.432277e-002; ng(n+1)=1.394411e+002;
n=38; farx(n+1)=7.279557e-001; foe(n+1)=1.355448e+000; krok(n+1)=2.320583e-001; ng(n+1)=1.071860e+002;
n=39; farx(n+1)=7.831326e-001; foe(n+1)=1.316327e+000; krok(n+1)=1.919189e-001; ng(n+1)=2.263185e+001;
n=40; farx(n+1)=8.419170e-001; foe(n+1)=1.253341e+000; krok(n+1)=2.340680e-001; ng(n+1)=1.326833e+002;
n=41; farx(n+1)=8.518381e-001; foe(n+1)=1.228942e+000; krok(n+1)=4.904031e-001; ng(n+1)=5.884920e+001;
n=42; farx(n+1)=8.000058e-001; foe(n+1)=1.170597e+000; krok(n+1)=5.013461e-001; ng(n+1)=7.018575e+001;
n=43; farx(n+1)=7.430872e-001; foe(n+1)=1.098179e+000; krok(n+1)=5.519767e-001; ng(n+1)=9.225360e+001;
n=44; farx(n+1)=7.281169e-001; foe(n+1)=1.070067e+000; krok(n+1)=3.238984e-001; ng(n+1)=5.567480e+001;
n=45; farx(n+1)=6.615155e-001; foe(n+1)=9.906145e-001; krok(n+1)=8.644849e-001; ng(n+1)=6.211018e+001;
n=46; farx(n+1)=6.175674e-001; foe(n+1)=9.461239e-001; krok(n+1)=4.997929e-001; ng(n+1)=6.901225e+001;
n=47; farx(n+1)=5.576198e-001; foe(n+1)=9.125725e-001; krok(n+1)=9.483842e-001; ng(n+1)=8.450146e+001;
n=48; farx(n+1)=5.289163e-001; foe(n+1)=8.968113e-001; krok(n+1)=4.881595e-001; ng(n+1)=4.466666e+001;
n=49; farx(n+1)=5.037910e-001; foe(n+1)=8.822717e-001; krok(n+1)=5.853717e-001; ng(n+1)=2.441663e+001;
n=50; farx(n+1)=4.841631e-001; foe(n+1)=8.697411e-001; krok(n+1)=2.701727e-001; ng(n+1)=3.560692e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
