%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.719375e+002; foe(n+1)=2.734331e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.702587e+002; foe(n+1)=1.716270e+002; krok(n+1)=4.971608e-004; ng(n+1)=7.989807e+002;
n=2; farx(n+1)=5.516265e+001; foe(n+1)=5.731641e+001; krok(n+1)=1.109636e-002; ng(n+1)=2.121140e+002;
n=3; farx(n+1)=5.281994e+001; foe(n+1)=5.420774e+001; krok(n+1)=1.184603e-003; ng(n+1)=2.287687e+002;
n=4; farx(n+1)=4.720421e+001; foe(n+1)=5.226488e+001; krok(n+1)=7.418259e-003; ng(n+1)=6.816787e+001;
n=5; farx(n+1)=2.046230e+001; foe(n+1)=4.052850e+001; krok(n+1)=6.390530e-003; ng(n+1)=1.880005e+002;
n=6; farx(n+1)=1.178787e+001; foe(n+1)=3.185893e+001; krok(n+1)=4.782427e-003; ng(n+1)=5.308184e+002;
n=7; farx(n+1)=1.099596e+001; foe(n+1)=2.922163e+001; krok(n+1)=3.211338e-003; ng(n+1)=1.033808e+003;
n=8; farx(n+1)=1.040468e+001; foe(n+1)=2.425363e+001; krok(n+1)=7.739087e-003; ng(n+1)=9.651404e+002;
n=9; farx(n+1)=1.079086e+001; foe(n+1)=2.358849e+001; krok(n+1)=4.564205e-003; ng(n+1)=3.782316e+002;
n=10; farx(n+1)=1.176348e+001; foe(n+1)=2.273732e+001; krok(n+1)=1.019133e-002; ng(n+1)=2.189039e+002;
n=11; farx(n+1)=1.190167e+001; foe(n+1)=2.227313e+001; krok(n+1)=1.911063e-002; ng(n+1)=8.656827e+001;
n=12; farx(n+1)=1.063316e+001; foe(n+1)=1.961972e+001; krok(n+1)=2.733118e-002; ng(n+1)=8.558113e+001;
n=13; farx(n+1)=9.763768e+000; foe(n+1)=1.864887e+001; krok(n+1)=1.210728e-002; ng(n+1)=2.835814e+002;
n=14; farx(n+1)=5.874249e+000; foe(n+1)=1.528135e+001; krok(n+1)=1.181740e-001; ng(n+1)=3.064222e+002;
n=15; farx(n+1)=5.560806e+000; foe(n+1)=1.309657e+001; krok(n+1)=6.754791e-002; ng(n+1)=6.849637e+002;
n=16; farx(n+1)=4.601201e+000; foe(n+1)=1.153507e+001; krok(n+1)=4.138006e-002; ng(n+1)=6.827585e+002;
n=17; farx(n+1)=2.868356e+000; foe(n+1)=8.861613e+000; krok(n+1)=1.390811e-001; ng(n+1)=4.401134e+002;
n=18; farx(n+1)=1.353265e+000; foe(n+1)=5.998569e+000; krok(n+1)=2.421357e-001; ng(n+1)=5.157520e+002;
n=19; farx(n+1)=1.379005e+000; foe(n+1)=5.370333e+000; krok(n+1)=1.981558e-001; ng(n+1)=3.836546e+002;
n=20; farx(n+1)=1.092837e+000; foe(n+1)=4.916009e+000; krok(n+1)=3.805404e-001; ng(n+1)=1.992182e+002;
n=21; farx(n+1)=1.030120e+000; foe(n+1)=4.635010e+000; krok(n+1)=5.861088e-001; ng(n+1)=6.735559e+001;
n=22; farx(n+1)=1.069743e+000; foe(n+1)=4.472572e+000; krok(n+1)=2.442288e-001; ng(n+1)=2.117575e+002;
n=23; farx(n+1)=1.012680e+000; foe(n+1)=4.329482e+000; krok(n+1)=3.122975e-001; ng(n+1)=2.925908e+002;
n=24; farx(n+1)=9.409805e-001; foe(n+1)=4.060479e+000; krok(n+1)=1.738735e-001; ng(n+1)=1.622796e+002;
n=25; farx(n+1)=8.527442e-001; foe(n+1)=3.543557e+000; krok(n+1)=3.238984e-001; ng(n+1)=2.033097e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.442298e-001; foe(n+1)=3.426170e+000; krok(n+1)=3.819627e-005; ng(n+1)=2.234013e+002;
n=27; farx(n+1)=8.473743e-001; foe(n+1)=3.409361e+000; krok(n+1)=1.046074e-005; ng(n+1)=1.071412e+002;
n=28; farx(n+1)=8.626501e-001; foe(n+1)=3.244549e+000; krok(n+1)=8.010721e-004; ng(n+1)=5.062343e+001;
n=29; farx(n+1)=8.559627e-001; foe(n+1)=2.882298e+000; krok(n+1)=2.414856e-003; ng(n+1)=5.085436e+001;
n=30; farx(n+1)=8.575285e-001; foe(n+1)=2.000949e+000; krok(n+1)=3.178877e-002; ng(n+1)=2.298196e+001;
n=31; farx(n+1)=8.755630e-001; foe(n+1)=1.912392e+000; krok(n+1)=3.065383e-003; ng(n+1)=1.145392e+002;
n=32; farx(n+1)=8.971083e-001; foe(n+1)=1.688869e+000; krok(n+1)=4.372259e-003; ng(n+1)=1.746702e+002;
n=33; farx(n+1)=7.874498e-001; foe(n+1)=1.604616e+000; krok(n+1)=5.565015e-002; ng(n+1)=7.396621e+001;
n=34; farx(n+1)=6.823479e-001; foe(n+1)=1.427852e+000; krok(n+1)=2.191235e-002; ng(n+1)=1.580291e+002;
n=35; farx(n+1)=6.466293e-001; foe(n+1)=1.393233e+000; krok(n+1)=3.253129e-003; ng(n+1)=1.848078e+002;
n=36; farx(n+1)=6.139202e-001; foe(n+1)=1.364744e+000; krok(n+1)=4.317077e-003; ng(n+1)=1.167360e+002;
n=37; farx(n+1)=5.968337e-001; foe(n+1)=1.340688e+000; krok(n+1)=1.989989e-002; ng(n+1)=8.973793e+001;
n=38; farx(n+1)=5.977170e-001; foe(n+1)=1.297968e+000; krok(n+1)=3.243320e-002; ng(n+1)=1.338708e+002;
n=39; farx(n+1)=6.395843e-001; foe(n+1)=1.173398e+000; krok(n+1)=3.772555e-001; ng(n+1)=6.439729e+001;
n=40; farx(n+1)=5.637479e-001; foe(n+1)=1.128619e+000; krok(n+1)=1.452529e-001; ng(n+1)=8.388156e+001;
n=41; farx(n+1)=5.929536e-001; foe(n+1)=1.075763e+000; krok(n+1)=3.444314e-001; ng(n+1)=6.914556e+001;
n=42; farx(n+1)=5.101752e-001; foe(n+1)=1.014464e+000; krok(n+1)=2.320583e-001; ng(n+1)=7.790417e+001;
n=43; farx(n+1)=5.022497e-001; foe(n+1)=9.824579e-001; krok(n+1)=2.682636e-001; ng(n+1)=3.898054e+001;
n=44; farx(n+1)=4.778186e-001; foe(n+1)=9.320643e-001; krok(n+1)=8.576098e-001; ng(n+1)=8.878076e+001;
n=45; farx(n+1)=4.221464e-001; foe(n+1)=8.846231e-001; krok(n+1)=5.327344e-001; ng(n+1)=5.822536e+001;
n=46; farx(n+1)=4.135592e-001; foe(n+1)=8.436960e-001; krok(n+1)=2.767539e-001; ng(n+1)=6.530136e+001;
n=47; farx(n+1)=3.891283e-001; foe(n+1)=8.291426e-001; krok(n+1)=4.228884e-001; ng(n+1)=1.612382e+001;
n=48; farx(n+1)=3.621743e-001; foe(n+1)=8.064923e-001; krok(n+1)=5.907855e-001; ng(n+1)=7.444103e+001;
n=49; farx(n+1)=3.408261e-001; foe(n+1)=7.870653e-001; krok(n+1)=7.461552e-001; ng(n+1)=2.701815e+001;
n=50; farx(n+1)=3.556355e-001; foe(n+1)=7.768202e-001; krok(n+1)=7.847380e-001; ng(n+1)=3.949111e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
