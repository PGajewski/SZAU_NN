%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.732459e+002; foe(n+1)=2.682776e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.775747e+002; foe(n+1)=1.728757e+002; krok(n+1)=5.047515e-004; ng(n+1)=7.095049e+002;
n=2; farx(n+1)=6.347288e+001; foe(n+1)=6.141106e+001; krok(n+1)=1.389524e-002; ng(n+1)=1.727258e+002;
n=3; farx(n+1)=5.792996e+001; foe(n+1)=5.534937e+001; krok(n+1)=3.918749e-003; ng(n+1)=2.224698e+002;
n=4; farx(n+1)=5.300629e+001; foe(n+1)=5.109642e+001; krok(n+1)=3.965892e-003; ng(n+1)=1.511581e+002;
n=5; farx(n+1)=3.191603e+001; foe(n+1)=4.206161e+001; krok(n+1)=5.694364e-002; ng(n+1)=7.635237e+001;
n=6; farx(n+1)=2.166945e+001; foe(n+1)=3.167352e+001; krok(n+1)=4.926484e-003; ng(n+1)=2.632846e+002;
n=7; farx(n+1)=2.105839e+001; foe(n+1)=3.113357e+001; krok(n+1)=9.247269e-004; ng(n+1)=1.418584e+002;
n=8; farx(n+1)=1.744390e+001; foe(n+1)=2.987360e+001; krok(n+1)=8.672124e-003; ng(n+1)=8.000579e+001;
n=9; farx(n+1)=1.738806e+001; foe(n+1)=2.849470e+001; krok(n+1)=3.946598e-002; ng(n+1)=1.008631e+002;
n=10; farx(n+1)=1.565244e+001; foe(n+1)=2.607680e+001; krok(n+1)=5.188122e-002; ng(n+1)=1.770287e+002;
n=11; farx(n+1)=1.469136e+001; foe(n+1)=2.503687e+001; krok(n+1)=1.296098e-002; ng(n+1)=1.147039e+002;
n=12; farx(n+1)=1.214303e+001; foe(n+1)=2.346492e+001; krok(n+1)=4.517978e-002; ng(n+1)=6.387654e+001;
n=13; farx(n+1)=9.917234e+000; foe(n+1)=2.110478e+001; krok(n+1)=1.111619e-001; ng(n+1)=1.724102e+002;
n=14; farx(n+1)=7.481711e+000; foe(n+1)=1.853551e+001; krok(n+1)=1.599256e-001; ng(n+1)=3.235627e+002;
n=15; farx(n+1)=5.486729e+000; foe(n+1)=1.737721e+001; krok(n+1)=1.661865e-002; ng(n+1)=3.321986e+002;
n=16; farx(n+1)=5.014954e+000; foe(n+1)=1.619657e+001; krok(n+1)=1.964862e-002; ng(n+1)=3.642909e+002;
n=17; farx(n+1)=3.345156e+000; foe(n+1)=1.180552e+001; krok(n+1)=4.478955e-001; ng(n+1)=2.061718e+002;
n=18; farx(n+1)=2.552662e+000; foe(n+1)=9.535267e+000; krok(n+1)=4.215364e-002; ng(n+1)=4.752750e+002;
n=19; farx(n+1)=2.226132e+000; foe(n+1)=8.187430e+000; krok(n+1)=2.230542e-001; ng(n+1)=2.573377e+002;
n=20; farx(n+1)=2.301179e+000; foe(n+1)=7.758237e+000; krok(n+1)=3.268918e-001; ng(n+1)=6.977565e+001;
n=21; farx(n+1)=2.156844e+000; foe(n+1)=6.410359e+000; krok(n+1)=2.962682e-001; ng(n+1)=1.036146e+002;
n=22; farx(n+1)=1.936547e+000; foe(n+1)=5.643937e+000; krok(n+1)=1.304490e+000; ng(n+1)=1.568349e+002;
n=23; farx(n+1)=2.001510e+000; foe(n+1)=5.264838e+000; krok(n+1)=2.959384e-001; ng(n+1)=1.938892e+002;
n=24; farx(n+1)=1.717454e+000; foe(n+1)=4.738769e+000; krok(n+1)=9.769152e-001; ng(n+1)=8.217979e+001;
n=25; farx(n+1)=1.254415e+000; foe(n+1)=4.149999e+000; krok(n+1)=9.730681e-001; ng(n+1)=6.030726e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.263779e+000; foe(n+1)=4.128977e+000; krok(n+1)=4.837788e-005; ng(n+1)=5.837722e+001;
n=27; farx(n+1)=1.285058e+000; foe(n+1)=4.101581e+000; krok(n+1)=1.250770e-004; ng(n+1)=3.806395e+001;
n=28; farx(n+1)=1.281218e+000; foe(n+1)=4.092008e+000; krok(n+1)=4.576195e-004; ng(n+1)=1.650007e+001;
n=29; farx(n+1)=1.087137e+000; foe(n+1)=3.670050e+000; krok(n+1)=1.902655e-002; ng(n+1)=1.389190e+001;
n=30; farx(n+1)=1.060120e+000; foe(n+1)=3.480739e+000; krok(n+1)=8.625805e-003; ng(n+1)=9.196304e+001;
n=31; farx(n+1)=9.927849e-001; foe(n+1)=3.306960e+000; krok(n+1)=3.578637e-002; ng(n+1)=5.249666e+001;
n=32; farx(n+1)=1.015696e+000; foe(n+1)=3.193486e+000; krok(n+1)=4.545636e-002; ng(n+1)=9.639499e+001;
n=33; farx(n+1)=1.032662e+000; foe(n+1)=3.019662e+000; krok(n+1)=3.251545e-002; ng(n+1)=1.457617e+002;
n=34; farx(n+1)=9.430374e-001; foe(n+1)=2.891909e+000; krok(n+1)=3.789541e-002; ng(n+1)=7.613613e+001;
n=35; farx(n+1)=8.963084e-001; foe(n+1)=2.657647e+000; krok(n+1)=1.079418e-001; ng(n+1)=1.649532e+002;
n=36; farx(n+1)=8.211631e-001; foe(n+1)=2.092428e+000; krok(n+1)=3.158996e-001; ng(n+1)=1.780394e+002;
n=37; farx(n+1)=7.185375e-001; foe(n+1)=1.856865e+000; krok(n+1)=1.937164e-001; ng(n+1)=4.098191e+001;
n=38; farx(n+1)=6.345222e-001; foe(n+1)=1.608858e+000; krok(n+1)=1.827807e-001; ng(n+1)=4.679838e+001;
n=39; farx(n+1)=5.457572e-001; foe(n+1)=1.397044e+000; krok(n+1)=2.912288e-001; ng(n+1)=5.263728e+001;
n=40; farx(n+1)=5.409150e-001; foe(n+1)=1.339789e+000; krok(n+1)=1.141951e-001; ng(n+1)=2.830923e+001;
n=41; farx(n+1)=5.432684e-001; foe(n+1)=1.272061e+000; krok(n+1)=5.189311e-001; ng(n+1)=7.508693e+001;
n=42; farx(n+1)=5.355717e-001; foe(n+1)=1.249522e+000; krok(n+1)=5.534700e-001; ng(n+1)=2.162621e+001;
n=43; farx(n+1)=4.879488e-001; foe(n+1)=1.208560e+000; krok(n+1)=1.447680e+000; ng(n+1)=2.493949e+001;
n=44; farx(n+1)=4.818757e-001; foe(n+1)=1.176987e+000; krok(n+1)=9.990941e-001; ng(n+1)=2.025196e+001;
n=45; farx(n+1)=4.816720e-001; foe(n+1)=1.142504e+000; krok(n+1)=7.525275e-001; ng(n+1)=2.726120e+001;
n=46; farx(n+1)=4.834574e-001; foe(n+1)=1.103274e+000; krok(n+1)=7.101669e-001; ng(n+1)=2.365477e+001;
n=47; farx(n+1)=4.714911e-001; foe(n+1)=1.025929e+000; krok(n+1)=2.005385e+000; ng(n+1)=3.924521e+001;
n=48; farx(n+1)=4.580141e-001; foe(n+1)=9.815730e-001; krok(n+1)=7.741360e-001; ng(n+1)=3.650590e+001;
n=49; farx(n+1)=4.501746e-001; foe(n+1)=9.469987e-001; krok(n+1)=6.480438e-001; ng(n+1)=1.884284e+001;
n=50; farx(n+1)=4.452894e-001; foe(n+1)=9.037507e-001; krok(n+1)=9.574267e-001; ng(n+1)=2.227839e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
