%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.761582e+002; foe(n+1)=2.699486e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.793594e+002; foe(n+1)=1.758093e+002; krok(n+1)=5.126539e-004; ng(n+1)=5.942350e+002;
n=2; farx(n+1)=5.087520e+001; foe(n+1)=5.818783e+001; krok(n+1)=1.661865e-002; ng(n+1)=1.569800e+002;
n=3; farx(n+1)=4.570932e+001; foe(n+1)=5.222731e+001; krok(n+1)=9.208067e-004; ng(n+1)=2.964167e+002;
n=4; farx(n+1)=4.449896e+001; foe(n+1)=5.152420e+001; krok(n+1)=1.127039e-003; ng(n+1)=8.281575e+001;
n=5; farx(n+1)=7.984567e+000; foe(n+1)=2.952632e+001; krok(n+1)=2.753789e-002; ng(n+1)=1.061461e+002;
n=6; farx(n+1)=5.568725e+000; foe(n+1)=2.582880e+001; krok(n+1)=2.000848e-003; ng(n+1)=1.157564e+003;
n=7; farx(n+1)=4.678616e+000; foe(n+1)=1.607122e+001; krok(n+1)=9.739153e-003; ng(n+1)=1.658203e+003;
n=8; farx(n+1)=4.636279e+000; foe(n+1)=1.558629e+001; krok(n+1)=8.540993e-004; ng(n+1)=1.917176e+002;
n=9; farx(n+1)=5.081458e+000; foe(n+1)=1.384965e+001; krok(n+1)=8.029022e-003; ng(n+1)=2.464287e+002;
n=10; farx(n+1)=5.309029e+000; foe(n+1)=1.292355e+001; krok(n+1)=2.543628e-003; ng(n+1)=3.025907e+002;
n=11; farx(n+1)=5.211095e+000; foe(n+1)=1.262784e+001; krok(n+1)=6.035177e-003; ng(n+1)=1.197502e+002;
n=12; farx(n+1)=4.880455e+000; foe(n+1)=1.113765e+001; krok(n+1)=2.702970e-002; ng(n+1)=3.184178e+002;
n=13; farx(n+1)=3.798377e+000; foe(n+1)=1.031341e+001; krok(n+1)=3.542231e-002; ng(n+1)=3.594702e+002;
n=14; farx(n+1)=2.756205e+000; foe(n+1)=8.770303e+000; krok(n+1)=1.463429e-001; ng(n+1)=5.787467e+002;
n=15; farx(n+1)=1.345360e+000; foe(n+1)=6.333377e+000; krok(n+1)=7.734497e-001; ng(n+1)=4.406926e+002;
n=16; farx(n+1)=1.017427e+000; foe(n+1)=5.837103e+000; krok(n+1)=1.992696e-001; ng(n+1)=1.683605e+002;
n=17; farx(n+1)=7.962021e-001; foe(n+1)=5.413225e+000; krok(n+1)=2.223238e-001; ng(n+1)=9.045352e+001;
n=18; farx(n+1)=7.825852e-001; foe(n+1)=4.981746e+000; krok(n+1)=1.664562e-001; ng(n+1)=1.461411e+002;
n=19; farx(n+1)=7.356199e-001; foe(n+1)=4.741260e+000; krok(n+1)=1.664220e-001; ng(n+1)=9.443341e+001;
n=20; farx(n+1)=7.480653e-001; foe(n+1)=4.579937e+000; krok(n+1)=3.963116e-001; ng(n+1)=1.684080e+002;
n=21; farx(n+1)=7.434133e-001; foe(n+1)=4.489533e+000; krok(n+1)=7.113726e-001; ng(n+1)=4.168608e+001;
n=22; farx(n+1)=6.822972e-001; foe(n+1)=4.370839e+000; krok(n+1)=1.566412e+000; ng(n+1)=4.992601e+001;
n=23; farx(n+1)=5.932838e-001; foe(n+1)=3.758720e+000; krok(n+1)=1.948980e+000; ng(n+1)=9.576364e+001;
n=24; farx(n+1)=6.104851e-001; foe(n+1)=3.570307e+000; krok(n+1)=1.694433e-001; ng(n+1)=3.043397e+002;
n=25; farx(n+1)=6.215344e-001; foe(n+1)=3.288331e+000; krok(n+1)=1.559050e-001; ng(n+1)=4.597044e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=6.286122e-001; foe(n+1)=3.222387e+000; krok(n+1)=2.444110e-005; ng(n+1)=1.416895e+002;
n=27; farx(n+1)=6.327501e-001; foe(n+1)=3.198821e+000; krok(n+1)=9.031324e-006; ng(n+1)=1.261216e+002;
n=28; farx(n+1)=6.318310e-001; foe(n+1)=3.189215e+000; krok(n+1)=3.902677e-004; ng(n+1)=1.615247e+001;
n=29; farx(n+1)=5.904009e-001; foe(n+1)=3.053815e+000; krok(n+1)=2.778799e-003; ng(n+1)=2.223418e+001;
n=30; farx(n+1)=5.724950e-001; foe(n+1)=2.957890e+000; krok(n+1)=3.195265e-003; ng(n+1)=6.819498e+001;
n=31; farx(n+1)=5.334237e-001; foe(n+1)=2.726394e+000; krok(n+1)=3.450322e-002; ng(n+1)=1.939987e+002;
n=32; farx(n+1)=5.043253e-001; foe(n+1)=2.501900e+000; krok(n+1)=1.290032e-002; ng(n+1)=1.260300e+002;
n=33; farx(n+1)=4.863826e-001; foe(n+1)=2.437007e+000; krok(n+1)=1.183052e-002; ng(n+1)=1.162517e+002;
n=34; farx(n+1)=3.965423e-001; foe(n+1)=2.175450e+000; krok(n+1)=1.732520e-001; ng(n+1)=9.685792e+001;
n=35; farx(n+1)=3.449508e-001; foe(n+1)=2.050868e+000; krok(n+1)=1.067078e-001; ng(n+1)=2.025704e+002;
n=36; farx(n+1)=3.190088e-001; foe(n+1)=1.908762e+000; krok(n+1)=1.048915e-001; ng(n+1)=1.562800e+002;
n=37; farx(n+1)=3.207553e-001; foe(n+1)=1.676957e+000; krok(n+1)=4.065930e-001; ng(n+1)=1.874251e+002;
n=38; farx(n+1)=3.684512e-001; foe(n+1)=1.350656e+000; krok(n+1)=7.491049e-001; ng(n+1)=3.274993e+002;
n=39; farx(n+1)=3.707334e-001; foe(n+1)=1.235876e+000; krok(n+1)=4.305393e-002; ng(n+1)=8.258326e+001;
n=40; farx(n+1)=3.418307e-001; foe(n+1)=1.118146e+000; krok(n+1)=8.005809e-002; ng(n+1)=2.368057e+002;
n=41; farx(n+1)=2.846854e-001; foe(n+1)=9.198548e-001; krok(n+1)=1.701816e-001; ng(n+1)=1.314649e+002;
n=42; farx(n+1)=2.844043e-001; foe(n+1)=9.040438e-001; krok(n+1)=3.678347e-002; ng(n+1)=1.019243e+002;
n=43; farx(n+1)=2.762886e-001; foe(n+1)=8.378351e-001; krok(n+1)=4.498732e-001; ng(n+1)=5.903887e+001;
n=44; farx(n+1)=2.668899e-001; foe(n+1)=8.211568e-001; krok(n+1)=1.315187e+000; ng(n+1)=2.077382e+001;
n=45; farx(n+1)=2.524793e-001; foe(n+1)=8.015832e-001; krok(n+1)=2.209742e+000; ng(n+1)=5.091149e+001;
n=46; farx(n+1)=2.488738e-001; foe(n+1)=7.730227e-001; krok(n+1)=1.221426e+000; ng(n+1)=1.738208e+001;
n=47; farx(n+1)=2.441805e-001; foe(n+1)=7.515410e-001; krok(n+1)=6.151726e-001; ng(n+1)=2.682506e+001;
n=48; farx(n+1)=2.402733e-001; foe(n+1)=7.446409e-001; krok(n+1)=1.006076e+000; ng(n+1)=2.807128e+001;
n=49; farx(n+1)=2.378927e-001; foe(n+1)=7.391331e-001; krok(n+1)=1.328755e+000; ng(n+1)=1.240604e+001;
n=50; farx(n+1)=2.416648e-001; foe(n+1)=7.359036e-001; krok(n+1)=4.635137e-001; ng(n+1)=2.195047e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
