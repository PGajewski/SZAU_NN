%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.561860e+002; foe(n+1)=2.677424e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.672434e+002; foe(n+1)=1.724190e+002; krok(n+1)=4.792372e-004; ng(n+1)=8.648272e+002;
n=2; farx(n+1)=5.889373e+001; foe(n+1)=5.594807e+001; krok(n+1)=1.177574e-002; ng(n+1)=2.476575e+002;
n=3; farx(n+1)=5.756615e+001; foe(n+1)=5.450215e+001; krok(n+1)=1.940831e-003; ng(n+1)=1.137042e+002;
n=4; farx(n+1)=5.155006e+001; foe(n+1)=5.326361e+001; krok(n+1)=6.757425e-003; ng(n+1)=6.278789e+001;
n=5; farx(n+1)=2.073135e+001; foe(n+1)=3.561602e+001; krok(n+1)=1.390067e-002; ng(n+1)=1.277190e+002;
n=6; farx(n+1)=1.242639e+001; foe(n+1)=2.710094e+001; krok(n+1)=5.485375e-003; ng(n+1)=2.509059e+002;
n=7; farx(n+1)=1.197788e+001; foe(n+1)=2.538988e+001; krok(n+1)=6.946998e-004; ng(n+1)=5.492584e+002;
n=8; farx(n+1)=1.143357e+001; foe(n+1)=2.427919e+001; krok(n+1)=1.032555e-002; ng(n+1)=4.114218e+002;
n=9; farx(n+1)=1.053970e+001; foe(n+1)=2.321485e+001; krok(n+1)=1.631060e-002; ng(n+1)=3.256272e+002;
n=10; farx(n+1)=9.904748e+000; foe(n+1)=2.179860e+001; krok(n+1)=1.401574e-002; ng(n+1)=3.355670e+002;
n=11; farx(n+1)=1.138189e+001; foe(n+1)=2.047626e+001; krok(n+1)=1.904910e-002; ng(n+1)=2.169692e+002;
n=12; farx(n+1)=9.743332e+000; foe(n+1)=1.702333e+001; krok(n+1)=7.382986e-002; ng(n+1)=1.393889e+002;
n=13; farx(n+1)=8.222776e+000; foe(n+1)=1.604952e+001; krok(n+1)=3.203828e-002; ng(n+1)=9.187995e+001;
n=14; farx(n+1)=5.731041e+000; foe(n+1)=1.416801e+001; krok(n+1)=1.448480e-002; ng(n+1)=1.707196e+002;
n=15; farx(n+1)=4.558433e+000; foe(n+1)=1.284810e+001; krok(n+1)=2.458210e-003; ng(n+1)=4.137033e+002;
n=16; farx(n+1)=3.757382e+000; foe(n+1)=1.113186e+001; krok(n+1)=1.429000e-002; ng(n+1)=3.437464e+002;
n=17; farx(n+1)=3.190112e+000; foe(n+1)=1.058118e+001; krok(n+1)=1.363820e-002; ng(n+1)=1.561533e+002;
n=18; farx(n+1)=2.662585e+000; foe(n+1)=9.384160e+000; krok(n+1)=7.517970e-002; ng(n+1)=2.180588e+002;
n=19; farx(n+1)=2.470851e+000; foe(n+1)=9.104993e+000; krok(n+1)=1.647425e-002; ng(n+1)=1.829906e+002;
n=20; farx(n+1)=1.921009e+000; foe(n+1)=8.063606e+000; krok(n+1)=2.143812e-001; ng(n+1)=3.411566e+002;
n=21; farx(n+1)=1.439772e+000; foe(n+1)=6.721426e+000; krok(n+1)=1.634459e-001; ng(n+1)=3.943286e+002;
n=22; farx(n+1)=1.131182e+000; foe(n+1)=5.156026e+000; krok(n+1)=6.863735e-002; ng(n+1)=8.478327e+002;
n=23; farx(n+1)=8.280596e-001; foe(n+1)=4.118857e+000; krok(n+1)=2.051030e-001; ng(n+1)=2.450128e+002;
n=24; farx(n+1)=7.792697e-001; foe(n+1)=3.707440e+000; krok(n+1)=8.343059e-002; ng(n+1)=3.436092e+002;
n=25; farx(n+1)=8.994673e-001; foe(n+1)=3.160348e+000; krok(n+1)=4.577617e-001; ng(n+1)=1.700268e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.986333e-001; foe(n+1)=3.119549e+000; krok(n+1)=1.504078e-005; ng(n+1)=1.692424e+002;
n=27; farx(n+1)=8.978281e-001; foe(n+1)=3.106168e+000; krok(n+1)=1.602043e-005; ng(n+1)=9.218026e+001;
n=28; farx(n+1)=9.060865e-001; foe(n+1)=3.077418e+000; krok(n+1)=1.511553e-003; ng(n+1)=1.487971e+001;
n=29; farx(n+1)=9.138798e-001; foe(n+1)=2.558134e+000; krok(n+1)=1.007731e-002; ng(n+1)=2.679766e+001;
n=30; farx(n+1)=8.575246e-001; foe(n+1)=2.089937e+000; krok(n+1)=9.397462e-003; ng(n+1)=2.510519e+002;
n=31; farx(n+1)=8.680461e-001; foe(n+1)=1.914272e+000; krok(n+1)=1.570905e-003; ng(n+1)=3.734447e+002;
n=32; farx(n+1)=8.869769e-001; foe(n+1)=1.737736e+000; krok(n+1)=3.128460e-003; ng(n+1)=1.516882e+002;
n=33; farx(n+1)=8.978422e-001; foe(n+1)=1.647349e+000; krok(n+1)=7.385876e-003; ng(n+1)=1.374276e+002;
n=34; farx(n+1)=8.655656e-001; foe(n+1)=1.523543e+000; krok(n+1)=2.107682e-002; ng(n+1)=7.996133e+001;
n=35; farx(n+1)=8.141179e-001; foe(n+1)=1.393006e+000; krok(n+1)=1.430505e-002; ng(n+1)=1.742920e+002;
n=36; farx(n+1)=6.298916e-001; foe(n+1)=1.194483e+000; krok(n+1)=4.000365e-002; ng(n+1)=9.223994e+001;
n=37; farx(n+1)=5.799910e-001; foe(n+1)=1.106971e+000; krok(n+1)=4.438543e-002; ng(n+1)=5.541616e+001;
n=38; farx(n+1)=5.519200e-001; foe(n+1)=1.036490e+000; krok(n+1)=6.995615e-002; ng(n+1)=3.178014e+001;
n=39; farx(n+1)=5.424360e-001; foe(n+1)=7.713504e-001; krok(n+1)=2.538306e-001; ng(n+1)=1.083007e+002;
n=40; farx(n+1)=4.738957e-001; foe(n+1)=7.550592e-001; krok(n+1)=6.736795e-002; ng(n+1)=4.353737e+001;
n=41; farx(n+1)=4.687251e-001; foe(n+1)=7.001852e-001; krok(n+1)=4.544515e-001; ng(n+1)=3.520859e+001;
n=42; farx(n+1)=4.340987e-001; foe(n+1)=6.447853e-001; krok(n+1)=1.217699e+000; ng(n+1)=3.330873e+001;
n=43; farx(n+1)=4.293901e-001; foe(n+1)=6.322587e-001; krok(n+1)=4.386596e-001; ng(n+1)=4.152447e+001;
n=44; farx(n+1)=4.162961e-001; foe(n+1)=6.170737e-001; krok(n+1)=1.092360e+000; ng(n+1)=1.945589e+001;
n=45; farx(n+1)=4.037564e-001; foe(n+1)=6.041216e-001; krok(n+1)=6.749097e-001; ng(n+1)=9.507810e+001;
n=46; farx(n+1)=4.054481e-001; foe(n+1)=5.924425e-001; krok(n+1)=1.114151e+000; ng(n+1)=1.131157e+001;
n=47; farx(n+1)=4.025517e-001; foe(n+1)=5.782281e-001; krok(n+1)=2.704893e+000; ng(n+1)=1.143911e+001;
n=48; farx(n+1)=3.967993e-001; foe(n+1)=5.728252e-001; krok(n+1)=7.734497e-001; ng(n+1)=1.418777e+001;
n=49; farx(n+1)=3.899937e-001; foe(n+1)=5.641936e-001; krok(n+1)=1.659005e+000; ng(n+1)=2.018714e+001;
n=50; farx(n+1)=3.785715e-001; foe(n+1)=5.549431e-001; krok(n+1)=1.210207e+000; ng(n+1)=9.557971e+000;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
