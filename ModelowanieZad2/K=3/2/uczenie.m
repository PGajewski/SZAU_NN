%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.502050e+002; foe(n+1)=2.533700e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.682853e+002; foe(n+1)=1.724918e+002; krok(n+1)=4.927090e-004; ng(n+1)=6.599970e+002;
n=2; farx(n+1)=5.161374e+001; foe(n+1)=6.170741e+001; krok(n+1)=1.131031e-002; ng(n+1)=1.930751e+002;
n=3; farx(n+1)=4.694288e+001; foe(n+1)=5.545709e+001; krok(n+1)=9.481985e-004; ng(n+1)=3.369048e+002;
n=4; farx(n+1)=4.522330e+001; foe(n+1)=5.242717e+001; krok(n+1)=1.909306e-003; ng(n+1)=2.688524e+002;
n=5; farx(n+1)=1.632174e+001; foe(n+1)=3.569861e+001; krok(n+1)=4.284718e-002; ng(n+1)=8.758560e+001;
n=6; farx(n+1)=1.242253e+001; foe(n+1)=3.272797e+001; krok(n+1)=2.581388e-003; ng(n+1)=5.348501e+002;
n=7; farx(n+1)=1.242235e+001; foe(n+1)=2.979610e+001; krok(n+1)=1.175883e-002; ng(n+1)=9.204120e+002;
n=8; farx(n+1)=1.200501e+001; foe(n+1)=2.363475e+001; krok(n+1)=2.113198e-002; ng(n+1)=7.037614e+002;
n=9; farx(n+1)=1.187713e+001; foe(n+1)=2.345807e+001; krok(n+1)=1.427772e-003; ng(n+1)=1.827532e+002;
n=10; farx(n+1)=9.866083e+000; foe(n+1)=2.129300e+001; krok(n+1)=8.713251e-002; ng(n+1)=1.285512e+002;
n=11; farx(n+1)=8.868902e+000; foe(n+1)=2.004650e+001; krok(n+1)=3.599004e-002; ng(n+1)=2.003966e+002;
n=12; farx(n+1)=9.295274e+000; foe(n+1)=1.928475e+001; krok(n+1)=1.803826e-002; ng(n+1)=3.341117e+002;
n=13; farx(n+1)=9.314378e+000; foe(n+1)=1.898040e+001; krok(n+1)=8.669283e-003; ng(n+1)=3.922829e+002;
n=14; farx(n+1)=9.179343e+000; foe(n+1)=1.863371e+001; krok(n+1)=2.508493e-002; ng(n+1)=4.683250e+002;
n=15; farx(n+1)=9.196869e+000; foe(n+1)=1.432205e+001; krok(n+1)=1.257595e-001; ng(n+1)=4.286316e+002;
n=16; farx(n+1)=8.345516e+000; foe(n+1)=1.322181e+001; krok(n+1)=3.201933e-002; ng(n+1)=5.834689e+002;
n=17; farx(n+1)=5.504273e+000; foe(n+1)=1.061233e+001; krok(n+1)=6.474159e-002; ng(n+1)=5.679794e+002;
n=18; farx(n+1)=3.530487e+000; foe(n+1)=8.814709e+000; krok(n+1)=3.840290e-002; ng(n+1)=5.796686e+002;
n=19; farx(n+1)=2.587434e+000; foe(n+1)=7.793831e+000; krok(n+1)=6.392790e-002; ng(n+1)=5.918531e+002;
n=20; farx(n+1)=1.821687e+000; foe(n+1)=6.322645e+000; krok(n+1)=9.018109e-002; ng(n+1)=4.396080e+002;
n=21; farx(n+1)=1.219818e+000; foe(n+1)=5.632928e+000; krok(n+1)=1.138873e-001; ng(n+1)=1.104341e+002;
n=22; farx(n+1)=1.168841e+000; foe(n+1)=5.396663e+000; krok(n+1)=3.268918e-001; ng(n+1)=1.260026e+002;
n=23; farx(n+1)=1.027610e+000; foe(n+1)=4.870993e+000; krok(n+1)=4.178411e-001; ng(n+1)=2.218843e+002;
n=24; farx(n+1)=1.073632e+000; foe(n+1)=4.558524e+000; krok(n+1)=4.734602e-001; ng(n+1)=2.992080e+002;
n=25; farx(n+1)=7.828361e-001; foe(n+1)=3.528569e+000; krok(n+1)=1.001603e+000; ng(n+1)=1.164120e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.776927e-001; foe(n+1)=3.321540e+000; krok(n+1)=1.835442e-005; ng(n+1)=4.348861e+002;
n=27; farx(n+1)=7.738066e-001; foe(n+1)=3.246466e+000; krok(n+1)=1.519948e-005; ng(n+1)=1.985961e+002;
n=28; farx(n+1)=7.755124e-001; foe(n+1)=3.129228e+000; krok(n+1)=1.126296e-003; ng(n+1)=3.864721e+001;
n=29; farx(n+1)=7.060097e-001; foe(n+1)=2.707708e+000; krok(n+1)=1.958383e-003; ng(n+1)=5.129989e+001;
n=30; farx(n+1)=6.186132e-001; foe(n+1)=1.937006e+000; krok(n+1)=1.021537e-002; ng(n+1)=3.779224e+001;
n=31; farx(n+1)=6.127306e-001; foe(n+1)=1.853922e+000; krok(n+1)=2.543628e-003; ng(n+1)=1.912063e+002;
n=32; farx(n+1)=5.729293e-001; foe(n+1)=1.476135e+000; krok(n+1)=1.042905e-002; ng(n+1)=1.087093e+002;
n=33; farx(n+1)=5.349848e-001; foe(n+1)=1.366570e+000; krok(n+1)=3.276344e-002; ng(n+1)=1.322838e+002;
n=34; farx(n+1)=5.326754e-001; foe(n+1)=1.312725e+000; krok(n+1)=2.515521e-002; ng(n+1)=1.706500e+002;
n=35; farx(n+1)=5.264267e-001; foe(n+1)=1.273065e+000; krok(n+1)=1.563153e-002; ng(n+1)=9.747354e+001;
n=36; farx(n+1)=5.244570e-001; foe(n+1)=1.229209e+000; krok(n+1)=5.382558e-002; ng(n+1)=7.320226e+001;
n=37; farx(n+1)=4.945674e-001; foe(n+1)=1.188843e+000; krok(n+1)=7.923274e-002; ng(n+1)=8.573086e+001;
n=38; farx(n+1)=4.012659e-001; foe(n+1)=1.122154e+000; krok(n+1)=1.600146e-001; ng(n+1)=3.532565e+001;
n=39; farx(n+1)=3.263049e-001; foe(n+1)=9.798408e-001; krok(n+1)=8.896431e-001; ng(n+1)=7.589059e+001;
n=40; farx(n+1)=3.506860e-001; foe(n+1)=9.325652e-001; krok(n+1)=8.386628e-002; ng(n+1)=7.734140e+001;
n=41; farx(n+1)=3.230005e-001; foe(n+1)=9.060415e-001; krok(n+1)=3.083795e-001; ng(n+1)=7.000275e+001;
n=42; farx(n+1)=3.214750e-001; foe(n+1)=8.911936e-001; krok(n+1)=4.385923e-001; ng(n+1)=2.432151e+001;
n=43; farx(n+1)=2.999926e-001; foe(n+1)=8.765430e-001; krok(n+1)=5.491644e-001; ng(n+1)=3.902485e+001;
n=44; farx(n+1)=2.741263e-001; foe(n+1)=8.524420e-001; krok(n+1)=8.457767e-001; ng(n+1)=4.781015e+001;
n=45; farx(n+1)=2.826515e-001; foe(n+1)=8.397473e-001; krok(n+1)=8.391318e-001; ng(n+1)=2.813238e+001;
n=46; farx(n+1)=2.908168e-001; foe(n+1)=8.289494e-001; krok(n+1)=1.285695e+000; ng(n+1)=2.168026e+001;
n=47; farx(n+1)=2.964964e-001; foe(n+1)=8.174032e-001; krok(n+1)=1.056270e+000; ng(n+1)=3.694526e+001;
n=48; farx(n+1)=2.870383e-001; foe(n+1)=8.098797e-001; krok(n+1)=4.572701e-001; ng(n+1)=3.485894e+001;
n=49; farx(n+1)=2.741658e-001; foe(n+1)=7.968020e-001; krok(n+1)=7.382907e-001; ng(n+1)=5.829103e+001;
n=50; farx(n+1)=2.657267e-001; foe(n+1)=7.866300e-001; krok(n+1)=1.951976e-001; ng(n+1)=2.657630e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
