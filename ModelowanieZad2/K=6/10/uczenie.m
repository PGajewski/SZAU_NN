%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.752980e+002; foe(n+1)=1.783079e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.588636e+002; foe(n+1)=1.632986e+002; krok(n+1)=6.946998e-004; ng(n+1)=4.823585e+002;
n=2; farx(n+1)=6.463414e+001; foe(n+1)=7.292102e+001; krok(n+1)=4.210497e-003; ng(n+1)=4.171984e+002;
n=3; farx(n+1)=5.465800e+001; foe(n+1)=5.984630e+001; krok(n+1)=1.588254e-003; ng(n+1)=5.003226e+002;
n=4; farx(n+1)=5.342995e+001; foe(n+1)=5.683056e+001; krok(n+1)=2.364726e-003; ng(n+1)=3.476452e+002;
n=5; farx(n+1)=2.592161e+001; foe(n+1)=4.807807e+001; krok(n+1)=5.003902e-002; ng(n+1)=7.789491e+001;
n=6; farx(n+1)=8.553556e+000; foe(n+1)=3.520609e+001; krok(n+1)=8.294817e-003; ng(n+1)=5.237002e+002;
n=7; farx(n+1)=7.751929e+000; foe(n+1)=3.434543e+001; krok(n+1)=1.032442e-004; ng(n+1)=1.457295e+003;
n=8; farx(n+1)=8.152154e+000; foe(n+1)=3.275460e+001; krok(n+1)=7.566741e-003; ng(n+1)=1.825653e+003;
n=9; farx(n+1)=9.235055e+000; foe(n+1)=2.998520e+001; krok(n+1)=6.488063e-004; ng(n+1)=1.824252e+003;
n=10; farx(n+1)=1.068817e+001; foe(n+1)=2.810741e+001; krok(n+1)=7.117955e-003; ng(n+1)=2.129224e+003;
n=11; farx(n+1)=1.207878e+001; foe(n+1)=2.496220e+001; krok(n+1)=1.411868e-003; ng(n+1)=1.786391e+003;
n=12; farx(n+1)=1.232805e+001; foe(n+1)=2.437980e+001; krok(n+1)=1.774971e-003; ng(n+1)=5.750959e+002;
n=13; farx(n+1)=1.209203e+001; foe(n+1)=2.196458e+001; krok(n+1)=5.699196e-003; ng(n+1)=4.310001e+002;
n=14; farx(n+1)=1.170515e+001; foe(n+1)=2.019959e+001; krok(n+1)=3.065383e-003; ng(n+1)=8.027474e+002;
n=15; farx(n+1)=1.179757e+001; foe(n+1)=1.910140e+001; krok(n+1)=1.208515e-002; ng(n+1)=7.977612e+002;
n=16; farx(n+1)=1.025571e+001; foe(n+1)=1.730679e+001; krok(n+1)=1.333847e-002; ng(n+1)=4.720166e+002;
n=17; farx(n+1)=8.738791e+000; foe(n+1)=1.607958e+001; krok(n+1)=8.252113e-003; ng(n+1)=4.503056e+002;
n=18; farx(n+1)=6.180166e+000; foe(n+1)=1.399902e+001; krok(n+1)=1.165911e-002; ng(n+1)=3.878919e+002;
n=19; farx(n+1)=4.563836e+000; foe(n+1)=1.265906e+001; krok(n+1)=1.038090e-002; ng(n+1)=3.227621e+002;
n=20; farx(n+1)=2.518999e+000; foe(n+1)=8.849989e+000; krok(n+1)=2.946581e-002; ng(n+1)=5.979447e+002;
n=21; farx(n+1)=1.943718e+000; foe(n+1)=7.503935e+000; krok(n+1)=4.337081e-003; ng(n+1)=1.009319e+003;
n=22; farx(n+1)=1.762958e+000; foe(n+1)=6.320129e+000; krok(n+1)=4.126056e-003; ng(n+1)=7.617447e+002;
n=23; farx(n+1)=1.813516e+000; foe(n+1)=6.188670e+000; krok(n+1)=5.355898e-003; ng(n+1)=3.279542e+002;
n=24; farx(n+1)=1.868057e+000; foe(n+1)=5.602718e+000; krok(n+1)=2.243330e-002; ng(n+1)=3.022909e+002;
n=25; farx(n+1)=1.617924e+000; foe(n+1)=4.567906e+000; krok(n+1)=8.061847e-002; ng(n+1)=1.508630e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.485590e+000; foe(n+1)=4.304122e+000; krok(n+1)=3.773212e-005; ng(n+1)=2.687485e+002;
n=27; farx(n+1)=1.427146e+000; foe(n+1)=4.105690e+000; krok(n+1)=6.197037e-005; ng(n+1)=2.217638e+002;
n=28; farx(n+1)=1.441648e+000; foe(n+1)=3.961499e+000; krok(n+1)=1.323135e-004; ng(n+1)=1.211764e+002;
n=29; farx(n+1)=1.131976e+000; foe(n+1)=3.085472e+000; krok(n+1)=9.824309e-003; ng(n+1)=3.661344e+001;
n=30; farx(n+1)=9.550949e-001; foe(n+1)=2.871946e+000; krok(n+1)=1.394089e-002; ng(n+1)=1.400837e+002;
n=31; farx(n+1)=8.747124e-001; foe(n+1)=2.658580e+000; krok(n+1)=8.252113e-003; ng(n+1)=1.339799e+002;
n=32; farx(n+1)=8.477061e-001; foe(n+1)=2.503761e+000; krok(n+1)=1.278106e-002; ng(n+1)=1.610160e+002;
n=33; farx(n+1)=8.299832e-001; foe(n+1)=2.437803e+000; krok(n+1)=8.053672e-003; ng(n+1)=1.076882e+002;
n=34; farx(n+1)=7.608022e-001; foe(n+1)=2.219303e+000; krok(n+1)=6.602029e-002; ng(n+1)=5.661484e+001;
n=35; farx(n+1)=7.376311e-001; foe(n+1)=1.941849e+000; krok(n+1)=1.971968e-002; ng(n+1)=1.838272e+002;
n=36; farx(n+1)=7.103734e-001; foe(n+1)=1.732433e+000; krok(n+1)=3.871130e-002; ng(n+1)=9.309636e+001;
n=37; farx(n+1)=6.943092e-001; foe(n+1)=1.668890e+000; krok(n+1)=8.202462e-003; ng(n+1)=8.929412e+001;
n=38; farx(n+1)=5.971401e-001; foe(n+1)=1.429544e+000; krok(n+1)=1.183052e-002; ng(n+1)=9.586844e+001;
n=39; farx(n+1)=5.626200e-001; foe(n+1)=1.368662e+000; krok(n+1)=8.375056e-003; ng(n+1)=8.435857e+001;
n=40; farx(n+1)=5.023215e-001; foe(n+1)=1.219592e+000; krok(n+1)=1.470844e-002; ng(n+1)=1.522444e+002;
n=41; farx(n+1)=4.949954e-001; foe(n+1)=1.165074e+000; krok(n+1)=1.516106e-002; ng(n+1)=1.068427e+002;
n=42; farx(n+1)=4.433604e-001; foe(n+1)=1.026819e+000; krok(n+1)=1.387866e-001; ng(n+1)=3.268804e+001;
n=43; farx(n+1)=4.303169e-001; foe(n+1)=9.763429e-001; krok(n+1)=5.671128e-002; ng(n+1)=9.204007e+001;
n=44; farx(n+1)=4.138190e-001; foe(n+1)=9.068327e-001; krok(n+1)=1.387540e-001; ng(n+1)=1.140706e+002;
n=45; farx(n+1)=4.186338e-001; foe(n+1)=8.251947e-001; krok(n+1)=1.259999e-001; ng(n+1)=5.268742e+001;
n=46; farx(n+1)=4.340246e-001; foe(n+1)=7.863744e-001; krok(n+1)=1.456144e-001; ng(n+1)=5.085136e+001;
n=47; farx(n+1)=4.004271e-001; foe(n+1)=7.337458e-001; krok(n+1)=5.122170e-001; ng(n+1)=5.726853e+001;
n=48; farx(n+1)=3.754535e-001; foe(n+1)=6.963446e-001; krok(n+1)=1.254000e-001; ng(n+1)=5.449585e+001;
n=49; farx(n+1)=3.767415e-001; foe(n+1)=6.691817e-001; krok(n+1)=5.752763e-001; ng(n+1)=2.556827e+001;
n=50; farx(n+1)=3.770355e-001; foe(n+1)=6.532567e-001; krok(n+1)=5.014424e-001; ng(n+1)=2.552306e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
