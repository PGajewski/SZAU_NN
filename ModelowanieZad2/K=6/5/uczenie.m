%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.122257e+002; foe(n+1)=3.146358e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.799541e+002; foe(n+1)=1.808748e+002; krok(n+1)=4.957630e-004; ng(n+1)=1.020351e+003;
n=2; farx(n+1)=1.445935e+002; foe(n+1)=1.517181e+002; krok(n+1)=8.161186e-003; ng(n+1)=2.485791e+002;
n=3; farx(n+1)=4.765172e+001; foe(n+1)=5.459888e+001; krok(n+1)=1.462416e-003; ng(n+1)=7.378004e+002;
n=4; farx(n+1)=4.579068e+001; foe(n+1)=5.246674e+001; krok(n+1)=5.557084e-004; ng(n+1)=2.439476e+002;
n=5; farx(n+1)=2.684748e+001; foe(n+1)=4.378946e+001; krok(n+1)=2.128042e-002; ng(n+1)=1.285625e+002;
n=6; farx(n+1)=2.105029e+001; foe(n+1)=3.385703e+001; krok(n+1)=3.625910e-003; ng(n+1)=7.511091e+002;
n=7; farx(n+1)=1.934465e+001; foe(n+1)=3.130076e+001; krok(n+1)=2.420827e-003; ng(n+1)=6.237088e+002;
n=8; farx(n+1)=1.915309e+001; foe(n+1)=3.024652e+001; krok(n+1)=7.837498e-003; ng(n+1)=4.240731e+002;
n=9; farx(n+1)=1.972362e+001; foe(n+1)=2.896087e+001; krok(n+1)=1.729712e-002; ng(n+1)=1.238726e+002;
n=10; farx(n+1)=1.967742e+001; foe(n+1)=2.695295e+001; krok(n+1)=2.560682e-002; ng(n+1)=1.573347e+002;
n=11; farx(n+1)=1.884568e+001; foe(n+1)=2.606424e+001; krok(n+1)=1.483652e-002; ng(n+1)=1.597850e+002;
n=12; farx(n+1)=1.763029e+001; foe(n+1)=2.518292e+001; krok(n+1)=1.111520e-002; ng(n+1)=1.315310e+002;
n=13; farx(n+1)=1.612938e+001; foe(n+1)=2.432812e+001; krok(n+1)=8.839546e-003; ng(n+1)=1.470990e+002;
n=14; farx(n+1)=1.288321e+001; foe(n+1)=2.247150e+001; krok(n+1)=2.571046e-002; ng(n+1)=1.234494e+002;
n=15; farx(n+1)=7.601004e+000; foe(n+1)=1.895631e+001; krok(n+1)=2.812841e-002; ng(n+1)=1.444077e+002;
n=16; farx(n+1)=5.792866e+000; foe(n+1)=1.804418e+001; krok(n+1)=4.586643e-003; ng(n+1)=1.695781e+002;
n=17; farx(n+1)=5.086292e+000; foe(n+1)=1.737206e+001; krok(n+1)=2.921865e-003; ng(n+1)=4.328547e+002;
n=18; farx(n+1)=4.418066e+000; foe(n+1)=1.669010e+001; krok(n+1)=5.067687e-004; ng(n+1)=6.380558e+002;
n=19; farx(n+1)=4.231495e+000; foe(n+1)=1.633611e+001; krok(n+1)=1.338974e-003; ng(n+1)=6.405784e+002;
n=20; farx(n+1)=3.653864e+000; foe(n+1)=1.528822e+001; krok(n+1)=5.507794e-002; ng(n+1)=7.731156e+002;
n=21; farx(n+1)=3.242067e+000; foe(n+1)=1.371968e+001; krok(n+1)=2.928765e-002; ng(n+1)=9.410197e+002;
n=22; farx(n+1)=2.253443e+000; foe(n+1)=1.001688e+001; krok(n+1)=3.871130e-002; ng(n+1)=6.309066e+002;
n=23; farx(n+1)=1.872250e+000; foe(n+1)=8.751988e+000; krok(n+1)=2.338404e-002; ng(n+1)=3.528140e+002;
n=24; farx(n+1)=1.830653e+000; foe(n+1)=8.093483e+000; krok(n+1)=6.353015e-003; ng(n+1)=6.892044e+002;
n=25; farx(n+1)=1.744234e+000; foe(n+1)=7.377920e+000; krok(n+1)=1.406421e-002; ng(n+1)=6.653257e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.717700e+000; foe(n+1)=7.102780e+000; krok(n+1)=2.382783e-005; ng(n+1)=4.109414e+002;
n=27; farx(n+1)=1.766648e+000; foe(n+1)=6.925196e+000; krok(n+1)=6.836820e-005; ng(n+1)=2.018652e+002;
n=28; farx(n+1)=1.733403e+000; foe(n+1)=6.479326e+000; krok(n+1)=2.015675e-004; ng(n+1)=1.699315e+002;
n=29; farx(n+1)=1.643951e+000; foe(n+1)=5.768913e+000; krok(n+1)=5.604282e-004; ng(n+1)=1.681070e+002;
n=30; farx(n+1)=1.602371e+000; foe(n+1)=4.652674e+000; krok(n+1)=6.390530e-003; ng(n+1)=1.485450e+002;
n=31; farx(n+1)=1.490739e+000; foe(n+1)=4.212308e+000; krok(n+1)=2.287557e-003; ng(n+1)=1.869380e+002;
n=32; farx(n+1)=1.280781e+000; foe(n+1)=3.095703e+000; krok(n+1)=8.300976e-003; ng(n+1)=4.924216e+002;
n=33; farx(n+1)=1.135195e+000; foe(n+1)=2.697012e+000; krok(n+1)=1.448480e-002; ng(n+1)=2.283158e+002;
n=34; farx(n+1)=9.555999e-001; foe(n+1)=2.201502e+000; krok(n+1)=1.226253e-002; ng(n+1)=2.777587e+002;
n=35; farx(n+1)=9.138085e-001; foe(n+1)=2.010065e+000; krok(n+1)=5.843731e-003; ng(n+1)=2.746045e+002;
n=36; farx(n+1)=7.268405e-001; foe(n+1)=1.643317e+000; krok(n+1)=4.256083e-002; ng(n+1)=1.378195e+002;
n=37; farx(n+1)=6.234544e-001; foe(n+1)=1.381794e+000; krok(n+1)=1.274938e-002; ng(n+1)=2.733638e+002;
n=38; farx(n+1)=5.455310e-001; foe(n+1)=1.204153e+000; krok(n+1)=4.725510e-002; ng(n+1)=8.371846e+001;
n=39; farx(n+1)=4.820745e-001; foe(n+1)=1.055307e+000; krok(n+1)=9.326940e-002; ng(n+1)=2.801099e+001;
n=40; farx(n+1)=4.760888e-001; foe(n+1)=1.023343e+000; krok(n+1)=1.586441e-002; ng(n+1)=1.074361e+002;
n=41; farx(n+1)=4.748286e-001; foe(n+1)=9.508402e-001; krok(n+1)=7.084462e-002; ng(n+1)=6.257808e+001;
n=42; farx(n+1)=4.680085e-001; foe(n+1)=9.044379e-001; krok(n+1)=1.005379e-001; ng(n+1)=4.988588e+001;
n=43; farx(n+1)=4.582538e-001; foe(n+1)=8.852125e-001; krok(n+1)=8.764941e-002; ng(n+1)=6.234109e+001;
n=44; farx(n+1)=4.281349e-001; foe(n+1)=8.390445e-001; krok(n+1)=1.523673e-001; ng(n+1)=6.133901e+001;
n=45; farx(n+1)=4.093252e-001; foe(n+1)=8.067715e-001; krok(n+1)=9.089589e-002; ng(n+1)=8.345928e+001;
n=46; farx(n+1)=3.964280e-001; foe(n+1)=7.587062e-001; krok(n+1)=1.300618e-001; ng(n+1)=7.300265e+001;
n=47; farx(n+1)=3.998107e-001; foe(n+1)=7.216586e-001; krok(n+1)=3.029139e-001; ng(n+1)=6.253624e+001;
n=48; farx(n+1)=4.019390e-001; foe(n+1)=6.959058e-001; krok(n+1)=2.857025e-001; ng(n+1)=4.226516e+001;
n=49; farx(n+1)=3.774811e-001; foe(n+1)=6.802714e-001; krok(n+1)=2.857373e-001; ng(n+1)=3.748880e+001;
n=50; farx(n+1)=3.804018e-001; foe(n+1)=6.677674e-001; krok(n+1)=5.556839e-001; ng(n+1)=3.027706e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
