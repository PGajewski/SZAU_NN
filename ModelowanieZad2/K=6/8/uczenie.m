%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.806476e+002; foe(n+1)=1.756110e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.630192e+002; foe(n+1)=1.586598e+002; krok(n+1)=7.138862e-004; ng(n+1)=5.499428e+002;
n=2; farx(n+1)=7.802199e+001; foe(n+1)=7.385972e+001; krok(n+1)=3.816075e-003; ng(n+1)=5.055510e+002;
n=3; farx(n+1)=6.704222e+001; foe(n+1)=6.010629e+001; krok(n+1)=3.032635e-003; ng(n+1)=4.895156e+002;
n=4; farx(n+1)=6.576720e+001; foe(n+1)=5.790943e+001; krok(n+1)=3.990929e-003; ng(n+1)=2.448081e+002;
n=5; farx(n+1)=4.802203e+001; foe(n+1)=5.342754e+001; krok(n+1)=2.992730e-002; ng(n+1)=7.684114e+001;
n=6; farx(n+1)=1.572387e+001; foe(n+1)=3.906071e+001; krok(n+1)=2.803148e-002; ng(n+1)=2.600299e+002;
n=7; farx(n+1)=1.326271e+001; foe(n+1)=3.704399e+001; krok(n+1)=2.130969e-004; ng(n+1)=1.117829e+003;
n=8; farx(n+1)=1.271200e+001; foe(n+1)=3.585952e+001; krok(n+1)=3.174920e-003; ng(n+1)=1.393325e+003;
n=9; farx(n+1)=1.594313e+001; foe(n+1)=3.107272e+001; krok(n+1)=6.413861e-003; ng(n+1)=1.814763e+003;
n=10; farx(n+1)=1.667207e+001; foe(n+1)=3.046047e+001; krok(n+1)=1.389400e-003; ng(n+1)=1.262419e+003;
n=11; farx(n+1)=1.775016e+001; foe(n+1)=2.941085e+001; krok(n+1)=8.669283e-003; ng(n+1)=8.926845e+002;
n=12; farx(n+1)=1.758574e+001; foe(n+1)=2.699394e+001; krok(n+1)=2.452306e-002; ng(n+1)=6.497657e+002;
n=13; farx(n+1)=1.692778e+001; foe(n+1)=2.566422e+001; krok(n+1)=3.240245e-003; ng(n+1)=3.882958e+002;
n=14; farx(n+1)=1.522096e+001; foe(n+1)=2.360212e+001; krok(n+1)=3.621201e-003; ng(n+1)=5.165589e+002;
n=15; farx(n+1)=1.439140e+001; foe(n+1)=2.232379e+001; krok(n+1)=1.986608e-003; ng(n+1)=1.262615e+003;
n=16; farx(n+1)=1.262005e+001; foe(n+1)=1.972979e+001; krok(n+1)=1.048565e-002; ng(n+1)=1.345403e+003;
n=17; farx(n+1)=1.155073e+001; foe(n+1)=1.835534e+001; krok(n+1)=5.723719e-004; ng(n+1)=8.594747e+002;
n=18; farx(n+1)=8.659501e+000; foe(n+1)=1.571417e+001; krok(n+1)=1.316643e-002; ng(n+1)=8.019097e+002;
n=19; farx(n+1)=7.590179e+000; foe(n+1)=1.412927e+001; krok(n+1)=8.625805e-003; ng(n+1)=9.407799e+002;
n=20; farx(n+1)=7.049468e+000; foe(n+1)=1.339949e+001; krok(n+1)=2.021294e-003; ng(n+1)=8.180425e+002;
n=21; farx(n+1)=6.030354e+000; foe(n+1)=1.205738e+001; krok(n+1)=1.333847e-002; ng(n+1)=1.051343e+003;
n=22; farx(n+1)=5.212498e+000; foe(n+1)=1.008191e+001; krok(n+1)=4.960373e-003; ng(n+1)=9.133927e+002;
n=23; farx(n+1)=4.116652e+000; foe(n+1)=8.803386e+000; krok(n+1)=2.127270e-002; ng(n+1)=2.686138e+002;
n=24; farx(n+1)=3.050421e+000; foe(n+1)=6.603190e+000; krok(n+1)=3.192003e-002; ng(n+1)=5.568102e+002;
n=25; farx(n+1)=1.759007e+000; foe(n+1)=4.786585e+000; krok(n+1)=3.946598e-002; ng(n+1)=1.215971e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.757329e+000; foe(n+1)=3.748155e+000; krok(n+1)=1.191391e-005; ng(n+1)=1.486395e+003;
n=27; farx(n+1)=1.790349e+000; foe(n+1)=3.629613e+000; krok(n+1)=3.742939e-005; ng(n+1)=2.427928e+002;
n=28; farx(n+1)=1.744689e+000; foe(n+1)=3.527323e+000; krok(n+1)=2.681467e-004; ng(n+1)=8.351637e+001;
n=29; farx(n+1)=1.301269e+000; foe(n+1)=2.484500e+000; krok(n+1)=4.090464e-003; ng(n+1)=1.214956e+002;
n=30; farx(n+1)=8.783396e-001; foe(n+1)=1.765460e+000; krok(n+1)=5.241643e-003; ng(n+1)=2.034420e+002;
n=31; farx(n+1)=5.094336e-001; foe(n+1)=1.311061e+000; krok(n+1)=1.005588e-002; ng(n+1)=1.206052e+002;
n=32; farx(n+1)=4.781378e-001; foe(n+1)=1.236235e+000; krok(n+1)=1.895132e-003; ng(n+1)=2.767949e+002;
n=33; farx(n+1)=4.912687e-001; foe(n+1)=1.201897e+000; krok(n+1)=1.750226e-002; ng(n+1)=6.302631e+001;
n=34; farx(n+1)=4.980106e-001; foe(n+1)=1.185645e+000; krok(n+1)=6.543079e-003; ng(n+1)=8.635824e+001;
n=35; farx(n+1)=4.913863e-001; foe(n+1)=1.159291e+000; krok(n+1)=1.740861e-002; ng(n+1)=5.147322e+001;
n=36; farx(n+1)=4.650614e-001; foe(n+1)=1.112473e+000; krok(n+1)=4.215364e-002; ng(n+1)=1.281684e+002;
n=37; farx(n+1)=4.135246e-001; foe(n+1)=1.028541e+000; krok(n+1)=3.771383e-002; ng(n+1)=5.560767e+001;
n=38; farx(n+1)=4.124926e-001; foe(n+1)=9.880917e-001; krok(n+1)=4.446078e-002; ng(n+1)=1.252487e+002;
n=39; farx(n+1)=4.588327e-001; foe(n+1)=9.256886e-001; krok(n+1)=1.091672e-001; ng(n+1)=5.369400e+001;
n=40; farx(n+1)=4.488854e-001; foe(n+1)=9.180288e-001; krok(n+1)=2.147336e-002; ng(n+1)=4.015626e+001;
n=41; farx(n+1)=4.217618e-001; foe(n+1)=8.959412e-001; krok(n+1)=3.923333e-002; ng(n+1)=5.006876e+001;
n=42; farx(n+1)=4.032304e-001; foe(n+1)=8.794829e-001; krok(n+1)=3.065020e-002; ng(n+1)=8.400774e+001;
n=43; farx(n+1)=3.919972e-001; foe(n+1)=8.599345e-001; krok(n+1)=1.125137e-001; ng(n+1)=3.507743e+001;
n=44; farx(n+1)=3.861607e-001; foe(n+1)=8.339290e-001; krok(n+1)=1.655578e-001; ng(n+1)=7.207611e+001;
n=45; farx(n+1)=3.832163e-001; foe(n+1)=8.254813e-001; krok(n+1)=6.407656e-002; ng(n+1)=8.841840e+001;
n=46; farx(n+1)=3.779410e-001; foe(n+1)=8.055763e-001; krok(n+1)=1.482616e-001; ng(n+1)=3.252125e+001;
n=47; farx(n+1)=3.753940e-001; foe(n+1)=7.779056e-001; krok(n+1)=2.760258e-001; ng(n+1)=8.832950e+001;
n=48; farx(n+1)=3.803599e-001; foe(n+1)=7.449436e-001; krok(n+1)=4.536385e-001; ng(n+1)=6.400406e+001;
n=49; farx(n+1)=3.825628e-001; foe(n+1)=7.330148e-001; krok(n+1)=5.360061e-002; ng(n+1)=6.032445e+001;
n=50; farx(n+1)=3.717255e-001; foe(n+1)=7.136108e-001; krok(n+1)=1.937164e-001; ng(n+1)=6.068506e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
