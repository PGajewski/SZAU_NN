%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.202426e+002; foe(n+1)=3.120537e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.687636e+002; foe(n+1)=1.647283e+002; krok(n+1)=5.080539e-004; ng(n+1)=1.043258e+003;
n=2; farx(n+1)=6.491284e+001; foe(n+1)=5.913999e+001; krok(n+1)=7.242402e-003; ng(n+1)=3.537957e+002;
n=3; farx(n+1)=6.351470e+001; foe(n+1)=5.766081e+001; krok(n+1)=1.441974e-003; ng(n+1)=1.639306e+002;
n=4; farx(n+1)=1.726060e+001; foe(n+1)=4.486490e+001; krok(n+1)=9.233170e-002; ng(n+1)=5.358130e+001;
n=5; farx(n+1)=1.405667e+001; foe(n+1)=4.330402e+001; krok(n+1)=1.337213e-004; ng(n+1)=8.794601e+002;
n=6; farx(n+1)=1.222864e+001; foe(n+1)=4.068264e+001; krok(n+1)=2.241713e-003; ng(n+1)=1.218591e+003;
n=7; farx(n+1)=1.215606e+001; foe(n+1)=3.933169e+001; krok(n+1)=6.037139e-004; ng(n+1)=1.937512e+003;
n=8; farx(n+1)=1.235270e+001; foe(n+1)=3.889972e+001; krok(n+1)=5.139053e-003; ng(n+1)=1.969602e+003;
n=9; farx(n+1)=1.237955e+001; foe(n+1)=3.475627e+001; krok(n+1)=1.785641e-002; ng(n+1)=1.812646e+003;
n=10; farx(n+1)=1.243156e+001; foe(n+1)=3.455677e+001; krok(n+1)=1.037622e-003; ng(n+1)=6.562913e+002;
n=11; farx(n+1)=1.348777e+001; foe(n+1)=3.313440e+001; krok(n+1)=1.761298e-002; ng(n+1)=5.261119e+002;
n=12; farx(n+1)=1.411503e+001; foe(n+1)=3.121091e+001; krok(n+1)=4.040200e-003; ng(n+1)=8.469864e+002;
n=13; farx(n+1)=1.387103e+001; foe(n+1)=3.052932e+001; krok(n+1)=2.170640e-003; ng(n+1)=4.980306e+002;
n=14; farx(n+1)=1.426261e+001; foe(n+1)=2.897531e+001; krok(n+1)=1.171709e-002; ng(n+1)=5.476627e+002;
n=15; farx(n+1)=1.394965e+001; foe(n+1)=2.760322e+001; krok(n+1)=4.090464e-003; ng(n+1)=3.117564e+002;
n=16; farx(n+1)=1.238322e+001; foe(n+1)=2.488873e+001; krok(n+1)=6.244283e-003; ng(n+1)=4.030600e+002;
n=17; farx(n+1)=1.159079e+001; foe(n+1)=2.259414e+001; krok(n+1)=4.790962e-003; ng(n+1)=4.475191e+002;
n=18; farx(n+1)=1.080139e+001; foe(n+1)=2.142695e+001; krok(n+1)=2.600344e-003; ng(n+1)=4.264731e+002;
n=19; farx(n+1)=9.003204e+000; foe(n+1)=1.954859e+001; krok(n+1)=7.737158e-003; ng(n+1)=2.246480e+002;
n=20; farx(n+1)=6.124532e+000; foe(n+1)=1.515902e+001; krok(n+1)=1.865725e-002; ng(n+1)=3.913618e+002;
n=21; farx(n+1)=4.722548e+000; foe(n+1)=1.330128e+001; krok(n+1)=1.889294e-003; ng(n+1)=5.755809e+002;
n=22; farx(n+1)=3.021330e+000; foe(n+1)=9.869770e+000; krok(n+1)=4.187528e-003; ng(n+1)=9.941462e+002;
n=23; farx(n+1)=1.515021e+000; foe(n+1)=5.021745e+000; krok(n+1)=4.715694e-002; ng(n+1)=1.032974e+003;
n=24; farx(n+1)=1.013962e+000; foe(n+1)=3.439119e+000; krok(n+1)=3.754388e-002; ng(n+1)=3.076401e+002;
n=25; farx(n+1)=9.728763e-001; foe(n+1)=3.227249e+000; krok(n+1)=1.303720e-002; ng(n+1)=2.765598e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.698143e-001; foe(n+1)=3.190047e+000; krok(n+1)=7.357142e-005; ng(n+1)=9.286349e+001;
n=27; farx(n+1)=9.385102e-001; foe(n+1)=3.096346e+000; krok(n+1)=6.334609e-005; ng(n+1)=1.218322e+002;
n=28; farx(n+1)=8.107636e-001; foe(n+1)=2.819728e+000; krok(n+1)=7.323184e-004; ng(n+1)=6.853643e+001;
n=29; farx(n+1)=7.502067e-001; foe(n+1)=2.581898e+000; krok(n+1)=2.463545e-004; ng(n+1)=1.317621e+002;
n=30; farx(n+1)=6.637385e-001; foe(n+1)=2.355929e+000; krok(n+1)=1.499359e-002; ng(n+1)=7.691462e+001;
n=31; farx(n+1)=6.234338e-001; foe(n+1)=1.999937e+000; krok(n+1)=3.034235e-002; ng(n+1)=1.277263e+002;
n=32; farx(n+1)=6.116001e-001; foe(n+1)=1.856659e+000; krok(n+1)=3.113587e-003; ng(n+1)=1.809754e+002;
n=33; farx(n+1)=5.802846e-001; foe(n+1)=1.619982e+000; krok(n+1)=7.191611e-003; ng(n+1)=2.354798e+002;
n=34; farx(n+1)=5.519364e-001; foe(n+1)=1.495738e+000; krok(n+1)=8.300976e-003; ng(n+1)=2.381902e+002;
n=35; farx(n+1)=5.071449e-001; foe(n+1)=1.379567e+000; krok(n+1)=3.012318e-002; ng(n+1)=5.744845e+001;
n=36; farx(n+1)=4.578232e-001; foe(n+1)=1.291669e+000; krok(n+1)=3.961637e-002; ng(n+1)=8.386532e+001;
n=37; farx(n+1)=4.397514e-001; foe(n+1)=1.262313e+000; krok(n+1)=2.097129e-002; ng(n+1)=5.051934e+001;
n=38; farx(n+1)=4.342738e-001; foe(n+1)=1.252101e+000; krok(n+1)=1.251065e-002; ng(n+1)=2.983256e+001;
n=39; farx(n+1)=4.185107e-001; foe(n+1)=1.172750e+000; krok(n+1)=1.464036e-001; ng(n+1)=5.918074e+001;
n=40; farx(n+1)=4.007824e-001; foe(n+1)=1.115539e+000; krok(n+1)=4.895097e-002; ng(n+1)=7.905751e+001;
n=41; farx(n+1)=3.614407e-001; foe(n+1)=1.031144e+000; krok(n+1)=3.095635e-002; ng(n+1)=8.478508e+001;
n=42; farx(n+1)=3.501816e-001; foe(n+1)=1.007430e+000; krok(n+1)=1.576669e-002; ng(n+1)=1.052152e+002;
n=43; farx(n+1)=3.363743e-001; foe(n+1)=9.634737e-001; krok(n+1)=1.134226e-001; ng(n+1)=3.059343e+001;
n=44; farx(n+1)=3.433668e-001; foe(n+1)=9.275894e-001; krok(n+1)=2.515310e-001; ng(n+1)=7.560086e+001;
n=45; farx(n+1)=3.561872e-001; foe(n+1)=8.793507e-001; krok(n+1)=4.930774e-001; ng(n+1)=3.456673e+001;
n=46; farx(n+1)=3.493238e-001; foe(n+1)=8.455797e-001; krok(n+1)=1.951976e-001; ng(n+1)=6.734057e+001;
n=47; farx(n+1)=3.448476e-001; foe(n+1)=8.314676e-001; krok(n+1)=3.202323e-001; ng(n+1)=2.639489e+001;
n=48; farx(n+1)=3.423235e-001; foe(n+1)=8.243286e-001; krok(n+1)=1.183650e-001; ng(n+1)=5.395447e+001;
n=49; farx(n+1)=3.386567e-001; foe(n+1)=8.145104e-001; krok(n+1)=2.143812e-001; ng(n+1)=3.353530e+001;
n=50; farx(n+1)=3.411811e-001; foe(n+1)=7.920805e-001; krok(n+1)=5.714050e-001; ng(n+1)=3.292452e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
