%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.931544e+002; foe(n+1)=1.910485e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.722247e+002; foe(n+1)=1.711478e+002; krok(n+1)=8.410247e-004; ng(n+1)=5.489012e+002;
n=2; farx(n+1)=6.056542e+001; foe(n+1)=6.039163e+001; krok(n+1)=5.711090e-003; ng(n+1)=4.136493e+002;
n=3; farx(n+1)=5.594654e+001; foe(n+1)=5.726801e+001; krok(n+1)=4.623634e-004; ng(n+1)=4.686340e+002;
n=4; farx(n+1)=5.298381e+001; foe(n+1)=5.604850e+001; krok(n+1)=2.303132e-003; ng(n+1)=1.395991e+002;
n=5; farx(n+1)=1.550366e+001; foe(n+1)=3.893584e+001; krok(n+1)=2.008899e-002; ng(n+1)=1.316232e+002;
n=6; farx(n+1)=1.012551e+001; foe(n+1)=2.423383e+001; krok(n+1)=2.778799e-003; ng(n+1)=8.128161e+002;
n=7; farx(n+1)=1.048298e+001; foe(n+1)=2.293687e+001; krok(n+1)=2.574102e-004; ng(n+1)=1.815948e+003;
n=8; farx(n+1)=1.097185e+001; foe(n+1)=2.210080e+001; krok(n+1)=5.478088e-003; ng(n+1)=1.525714e+003;
n=9; farx(n+1)=1.151154e+001; foe(n+1)=2.141445e+001; krok(n+1)=9.439199e-003; ng(n+1)=1.004877e+003;
n=10; farx(n+1)=9.138337e+000; foe(n+1)=1.759677e+001; krok(n+1)=3.377159e-002; ng(n+1)=8.041160e+002;
n=11; farx(n+1)=8.568766e+000; foe(n+1)=1.662257e+001; krok(n+1)=1.575776e-003; ng(n+1)=3.466727e+002;
n=12; farx(n+1)=7.936182e+000; foe(n+1)=1.526716e+001; krok(n+1)=4.187528e-003; ng(n+1)=3.289118e+002;
n=13; farx(n+1)=7.346942e+000; foe(n+1)=1.427552e+001; krok(n+1)=5.172508e-003; ng(n+1)=4.015395e+002;
n=14; farx(n+1)=6.930649e+000; foe(n+1)=1.373561e+001; krok(n+1)=6.353015e-003; ng(n+1)=4.804655e+002;
n=15; farx(n+1)=6.298965e+000; foe(n+1)=1.141083e+001; krok(n+1)=2.835564e-002; ng(n+1)=6.398208e+002;
n=16; farx(n+1)=6.088915e+000; foe(n+1)=1.062209e+001; krok(n+1)=3.426502e-003; ng(n+1)=4.230492e+002;
n=17; farx(n+1)=6.048223e+000; foe(n+1)=9.924794e+000; krok(n+1)=8.155298e-003; ng(n+1)=4.141794e+002;
n=18; farx(n+1)=5.713934e+000; foe(n+1)=9.134824e+000; krok(n+1)=8.324349e-003; ng(n+1)=1.807127e+002;
n=19; farx(n+1)=3.714697e+000; foe(n+1)=6.987196e+000; krok(n+1)=4.486659e-002; ng(n+1)=2.706566e+002;
n=20; farx(n+1)=3.207863e+000; foe(n+1)=6.356746e+000; krok(n+1)=1.033570e-002; ng(n+1)=4.712498e+002;
n=21; farx(n+1)=2.768199e+000; foe(n+1)=5.607712e+000; krok(n+1)=5.654998e-003; ng(n+1)=5.853800e+002;
n=22; farx(n+1)=1.311369e+000; foe(n+1)=3.794889e+000; krok(n+1)=5.625683e-002; ng(n+1)=3.106070e+002;
n=23; farx(n+1)=8.649290e-001; foe(n+1)=2.319647e+000; krok(n+1)=4.050274e-002; ng(n+1)=4.741046e+002;
n=24; farx(n+1)=8.198557e-001; foe(n+1)=2.107204e+000; krok(n+1)=1.908478e-002; ng(n+1)=4.476326e+002;
n=25; farx(n+1)=7.186107e-001; foe(n+1)=1.745094e+000; krok(n+1)=9.326072e-002; ng(n+1)=3.285255e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.184991e-001; foe(n+1)=1.712791e+000; krok(n+1)=2.016710e-005; ng(n+1)=1.600698e+002;
n=27; farx(n+1)=7.222706e-001; foe(n+1)=1.681934e+000; krok(n+1)=7.363092e-005; ng(n+1)=8.243527e+001;
n=28; farx(n+1)=7.206037e-001; foe(n+1)=1.653935e+000; krok(n+1)=7.703001e-005; ng(n+1)=7.308015e+001;
n=29; farx(n+1)=6.986903e-001; foe(n+1)=1.512271e+000; krok(n+1)=4.408444e-003; ng(n+1)=2.842728e+001;
n=30; farx(n+1)=6.478922e-001; foe(n+1)=1.331341e+000; krok(n+1)=1.703305e-002; ng(n+1)=3.680984e+001;
n=31; farx(n+1)=5.818662e-001; foe(n+1)=1.246386e+000; krok(n+1)=2.720095e-002; ng(n+1)=1.214454e+002;
n=32; farx(n+1)=5.722677e-001; foe(n+1)=1.212081e+000; krok(n+1)=1.086709e-002; ng(n+1)=1.336982e+002;
n=33; farx(n+1)=5.526349e-001; foe(n+1)=1.180761e+000; krok(n+1)=1.991120e-002; ng(n+1)=3.156097e+001;
n=34; farx(n+1)=5.519389e-001; foe(n+1)=1.139941e+000; krok(n+1)=1.534343e-002; ng(n+1)=9.228794e+001;
n=35; farx(n+1)=5.482819e-001; foe(n+1)=1.113693e+000; krok(n+1)=2.541206e-002; ng(n+1)=1.009782e+002;
n=36; farx(n+1)=5.594225e-001; foe(n+1)=1.102933e+000; krok(n+1)=2.243356e-002; ng(n+1)=2.751939e+001;
n=37; farx(n+1)=5.453671e-001; foe(n+1)=1.085025e+000; krok(n+1)=3.045281e-002; ng(n+1)=6.047663e+001;
n=38; farx(n+1)=5.268467e-001; foe(n+1)=1.049155e+000; krok(n+1)=1.044009e-001; ng(n+1)=3.393477e+001;
n=39; farx(n+1)=4.801884e-001; foe(n+1)=9.714434e-001; krok(n+1)=2.134155e-001; ng(n+1)=3.973240e+001;
n=40; farx(n+1)=4.735919e-001; foe(n+1)=9.646244e-001; krok(n+1)=1.521910e-002; ng(n+1)=4.601734e+001;
n=41; farx(n+1)=4.314830e-001; foe(n+1)=9.118599e-001; krok(n+1)=1.409038e-001; ng(n+1)=7.850083e+001;
n=42; farx(n+1)=3.995985e-001; foe(n+1)=8.719735e-001; krok(n+1)=1.174729e-001; ng(n+1)=7.168045e+001;
n=43; farx(n+1)=3.972967e-001; foe(n+1)=8.648169e-001; krok(n+1)=2.097129e-002; ng(n+1)=4.983948e+001;
n=44; farx(n+1)=3.866847e-001; foe(n+1)=8.529247e-001; krok(n+1)=1.612369e-001; ng(n+1)=4.031447e+001;
n=45; farx(n+1)=3.797167e-001; foe(n+1)=8.469981e-001; krok(n+1)=7.190954e-002; ng(n+1)=2.140861e+001;
n=46; farx(n+1)=3.646338e-001; foe(n+1)=8.150175e-001; krok(n+1)=4.951781e-001; ng(n+1)=4.437192e+001;
n=47; farx(n+1)=3.644748e-001; foe(n+1)=8.111994e-001; krok(n+1)=2.812841e-002; ng(n+1)=2.121124e+001;
n=48; farx(n+1)=3.519621e-001; foe(n+1)=7.873517e-001; krok(n+1)=6.305900e-001; ng(n+1)=5.091234e+001;
n=49; farx(n+1)=3.354562e-001; foe(n+1)=7.658039e-001; krok(n+1)=2.920744e-001; ng(n+1)=7.471895e+001;
n=50; farx(n+1)=3.250734e-001; foe(n+1)=7.406280e-001; krok(n+1)=3.485301e-001; ng(n+1)=4.099708e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
