%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.859418e+002; foe(n+1)=1.899450e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.733196e+002; foe(n+1)=1.744268e+002; krok(n+1)=6.162400e-004; ng(n+1)=5.417233e+002;
n=2; farx(n+1)=7.440237e+001; foe(n+1)=5.855622e+001; krok(n+1)=1.129495e-002; ng(n+1)=3.744646e+002;
n=3; farx(n+1)=7.254819e+001; foe(n+1)=5.819088e+001; krok(n+1)=8.336543e-004; ng(n+1)=1.157728e+002;
n=4; farx(n+1)=5.708515e+001; foe(n+1)=5.552409e+001; krok(n+1)=1.091588e-002; ng(n+1)=7.547871e+001;
n=5; farx(n+1)=2.516334e+001; foe(n+1)=4.644896e+001; krok(n+1)=3.215773e-003; ng(n+1)=2.436567e+002;
n=6; farx(n+1)=1.409510e+001; foe(n+1)=3.871147e+001; krok(n+1)=5.699196e-003; ng(n+1)=8.370535e+002;
n=7; farx(n+1)=1.403746e+001; foe(n+1)=3.658379e+001; krok(n+1)=4.283128e-004; ng(n+1)=1.643386e+003;
n=8; farx(n+1)=1.461010e+001; foe(n+1)=3.417555e+001; krok(n+1)=6.543079e-003; ng(n+1)=1.879837e+003;
n=9; farx(n+1)=1.529254e+001; foe(n+1)=3.324430e+001; krok(n+1)=1.797903e-003; ng(n+1)=1.640730e+003;
n=10; farx(n+1)=1.695375e+001; foe(n+1)=3.222030e+001; krok(n+1)=6.583213e-003; ng(n+1)=9.946689e+002;
n=11; farx(n+1)=1.822208e+001; foe(n+1)=3.109759e+001; krok(n+1)=6.607631e-003; ng(n+1)=8.940518e+002;
n=12; farx(n+1)=1.685404e+001; foe(n+1)=2.695058e+001; krok(n+1)=2.067140e-002; ng(n+1)=4.279052e+002;
n=13; farx(n+1)=1.639673e+001; foe(n+1)=2.628457e+001; krok(n+1)=5.598060e-004; ng(n+1)=7.395942e+002;
n=14; farx(n+1)=1.490631e+001; foe(n+1)=2.425239e+001; krok(n+1)=6.193383e-003; ng(n+1)=5.538091e+002;
n=15; farx(n+1)=1.383283e+001; foe(n+1)=2.309146e+001; krok(n+1)=1.517951e-003; ng(n+1)=3.365292e+002;
n=16; farx(n+1)=4.698933e+000; foe(n+1)=1.275703e+001; krok(n+1)=4.111242e-002; ng(n+1)=2.415835e+002;
n=17; farx(n+1)=2.390582e+000; foe(n+1)=9.634521e+000; krok(n+1)=8.861138e-004; ng(n+1)=8.648736e+002;
n=18; farx(n+1)=1.931615e+000; foe(n+1)=8.405506e+000; krok(n+1)=2.105249e-003; ng(n+1)=1.779710e+003;
n=19; farx(n+1)=1.653242e+000; foe(n+1)=7.752047e+000; krok(n+1)=3.026819e-003; ng(n+1)=7.648237e+002;
n=20; farx(n+1)=1.493422e+000; foe(n+1)=6.814715e+000; krok(n+1)=5.167850e-003; ng(n+1)=3.020836e+002;
n=21; farx(n+1)=1.507034e+000; foe(n+1)=5.234051e+000; krok(n+1)=1.345640e-002; ng(n+1)=8.270527e+002;
n=22; farx(n+1)=1.361160e+000; foe(n+1)=4.309393e+000; krok(n+1)=2.643052e-002; ng(n+1)=3.509700e+002;
n=23; farx(n+1)=1.367903e+000; foe(n+1)=3.775686e+000; krok(n+1)=5.294040e-003; ng(n+1)=6.960519e+002;
n=24; farx(n+1)=1.086989e+000; foe(n+1)=3.000830e+000; krok(n+1)=1.111520e-002; ng(n+1)=5.624921e+002;
n=25; farx(n+1)=9.030395e-001; foe(n+1)=2.565834e+000; krok(n+1)=1.856024e-002; ng(n+1)=3.150633e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.957298e-001; foe(n+1)=2.527658e+000; krok(n+1)=9.456357e-006; ng(n+1)=3.013497e+002;
n=27; farx(n+1)=8.882791e-001; foe(n+1)=2.521302e+000; krok(n+1)=5.162212e-005; ng(n+1)=5.128202e+001;
n=28; farx(n+1)=8.623104e-001; foe(n+1)=2.472137e+000; krok(n+1)=6.173058e-004; ng(n+1)=4.326376e+001;
n=29; farx(n+1)=7.150485e-001; foe(n+1)=2.217485e+000; krok(n+1)=1.358387e-003; ng(n+1)=6.129997e+001;
n=30; farx(n+1)=5.929669e-001; foe(n+1)=1.832895e+000; krok(n+1)=4.375565e-003; ng(n+1)=6.666035e+001;
n=31; farx(n+1)=5.357338e-001; foe(n+1)=1.652956e+000; krok(n+1)=5.478088e-003; ng(n+1)=3.543643e+002;
n=32; farx(n+1)=5.032666e-001; foe(n+1)=1.512956e+000; krok(n+1)=1.082825e-002; ng(n+1)=9.979349e+001;
n=33; farx(n+1)=4.461892e-001; foe(n+1)=1.403835e+000; krok(n+1)=1.004449e-002; ng(n+1)=3.076483e+002;
n=34; farx(n+1)=4.355780e-001; foe(n+1)=1.336162e+000; krok(n+1)=7.029269e-003; ng(n+1)=3.293069e+002;
n=35; farx(n+1)=4.272105e-001; foe(n+1)=1.244725e+000; krok(n+1)=1.417782e-002; ng(n+1)=3.741601e+002;
n=36; farx(n+1)=3.827695e-001; foe(n+1)=1.065787e+000; krok(n+1)=1.121665e-002; ng(n+1)=1.146829e+002;
n=37; farx(n+1)=3.752116e-001; foe(n+1)=9.562003e-001; krok(n+1)=6.307385e-002; ng(n+1)=1.649747e+002;
n=38; farx(n+1)=3.676465e-001; foe(n+1)=8.904744e-001; krok(n+1)=9.375382e-003; ng(n+1)=3.361998e+002;
n=39; farx(n+1)=3.551620e-001; foe(n+1)=8.357600e-001; krok(n+1)=4.256083e-002; ng(n+1)=5.480984e+001;
n=40; farx(n+1)=3.461572e-001; foe(n+1)=8.043806e-001; krok(n+1)=3.933136e-002; ng(n+1)=1.123644e+002;
n=41; farx(n+1)=3.328177e-001; foe(n+1)=7.722109e-001; krok(n+1)=2.055621e-002; ng(n+1)=9.849695e+001;
n=42; farx(n+1)=3.381852e-001; foe(n+1)=7.520497e-001; krok(n+1)=6.786752e-002; ng(n+1)=4.439924e+001;
n=43; farx(n+1)=3.644081e-001; foe(n+1)=7.326652e-001; krok(n+1)=1.981883e-001; ng(n+1)=8.355750e+001;
n=44; farx(n+1)=3.446289e-001; foe(n+1)=7.191605e-001; krok(n+1)=1.631115e-001; ng(n+1)=7.119069e+001;
n=45; farx(n+1)=3.317311e-001; foe(n+1)=6.931471e-001; krok(n+1)=2.522670e-001; ng(n+1)=5.430347e+001;
n=46; farx(n+1)=3.276230e-001; foe(n+1)=6.550345e-001; krok(n+1)=1.036878e-001; ng(n+1)=1.027083e+002;
n=47; farx(n+1)=3.209716e-001; foe(n+1)=6.343079e-001; krok(n+1)=1.105941e-001; ng(n+1)=4.976750e+001;
n=48; farx(n+1)=3.076778e-001; foe(n+1)=6.171177e-001; krok(n+1)=1.583927e-001; ng(n+1)=5.390873e+001;
n=49; farx(n+1)=3.007899e-001; foe(n+1)=5.991677e-001; krok(n+1)=1.738735e-001; ng(n+1)=7.537260e+001;
n=50; farx(n+1)=2.891791e-001; foe(n+1)=5.903746e-001; krok(n+1)=2.869393e-001; ng(n+1)=1.216073e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
