%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.782101e+002; foe(n+1)=2.774231e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.749481e+002; foe(n+1)=1.723937e+002; krok(n+1)=5.014459e-004; ng(n+1)=1.441324e+003;
n=2; farx(n+1)=5.915180e+001; foe(n+1)=5.805522e+001; krok(n+1)=8.130648e-003; ng(n+1)=5.698784e+002;
n=3; farx(n+1)=5.807705e+001; foe(n+1)=5.745005e+001; krok(n+1)=1.524981e-003; ng(n+1)=1.278294e+002;
n=4; farx(n+1)=5.281198e+001; foe(n+1)=5.651430e+001; krok(n+1)=4.055547e-003; ng(n+1)=9.543274e+001;
n=5; farx(n+1)=1.217127e+001; foe(n+1)=3.510482e+001; krok(n+1)=1.776017e-002; ng(n+1)=1.704344e+002;
n=6; farx(n+1)=9.458719e+000; foe(n+1)=3.198668e+001; krok(n+1)=3.920873e-004; ng(n+1)=1.339506e+003;
n=7; farx(n+1)=9.001022e+000; foe(n+1)=3.049353e+001; krok(n+1)=6.453470e-004; ng(n+1)=2.061959e+003;
n=8; farx(n+1)=8.984528e+000; foe(n+1)=2.601037e+001; krok(n+1)=1.812955e-003; ng(n+1)=2.821146e+003;
n=9; farx(n+1)=8.717038e+000; foe(n+1)=2.431412e+001; krok(n+1)=4.096666e-003; ng(n+1)=2.368637e+003;
n=10; farx(n+1)=8.858027e+000; foe(n+1)=2.043068e+001; krok(n+1)=5.711090e-003; ng(n+1)=1.743348e+003;
n=11; farx(n+1)=9.044212e+000; foe(n+1)=1.650890e+001; krok(n+1)=1.772228e-003; ng(n+1)=1.233043e+003;
n=12; farx(n+1)=8.400672e+000; foe(n+1)=1.582322e+001; krok(n+1)=3.334617e-003; ng(n+1)=6.813342e+002;
n=13; farx(n+1)=7.021777e+000; foe(n+1)=1.434450e+001; krok(n+1)=5.631405e-003; ng(n+1)=6.365201e+002;
n=14; farx(n+1)=3.955205e+000; foe(n+1)=1.242223e+001; krok(n+1)=3.006802e-002; ng(n+1)=2.338306e+002;
n=15; farx(n+1)=2.975890e+000; foe(n+1)=1.135884e+001; krok(n+1)=2.160874e-002; ng(n+1)=3.048152e+002;
n=16; farx(n+1)=2.173242e+000; foe(n+1)=1.022952e+001; krok(n+1)=1.063635e-002; ng(n+1)=2.786515e+002;
n=17; farx(n+1)=1.686367e+000; foe(n+1)=8.823703e+000; krok(n+1)=1.402081e-003; ng(n+1)=5.720407e+002;
n=18; farx(n+1)=1.436119e+000; foe(n+1)=8.085765e+000; krok(n+1)=3.880673e-003; ng(n+1)=2.588503e+002;
n=19; farx(n+1)=1.218938e+000; foe(n+1)=7.643015e+000; krok(n+1)=4.118564e-003; ng(n+1)=3.899278e+002;
n=20; farx(n+1)=9.882918e-001; foe(n+1)=6.778037e+000; krok(n+1)=1.037622e-003; ng(n+1)=6.539750e+002;
n=21; farx(n+1)=8.734850e-001; foe(n+1)=5.334253e+000; krok(n+1)=1.448033e-003; ng(n+1)=1.144025e+003;
n=22; farx(n+1)=8.363600e-001; foe(n+1)=4.727659e+000; krok(n+1)=2.598953e-003; ng(n+1)=4.137340e+002;
n=23; farx(n+1)=8.635112e-001; foe(n+1)=4.234557e+000; krok(n+1)=2.100547e-003; ng(n+1)=4.698055e+002;
n=24; farx(n+1)=8.556599e-001; foe(n+1)=3.711641e+000; krok(n+1)=2.924832e-003; ng(n+1)=8.606199e+002;
n=25; farx(n+1)=7.506724e-001; foe(n+1)=3.306871e+000; krok(n+1)=8.300976e-003; ng(n+1)=2.008506e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.526347e-001; foe(n+1)=3.233371e+000; krok(n+1)=7.471755e-006; ng(n+1)=5.297628e+002;
n=27; farx(n+1)=7.395185e-001; foe(n+1)=3.184765e+000; krok(n+1)=1.848603e-004; ng(n+1)=8.620093e+001;
n=28; farx(n+1)=7.388054e-001; foe(n+1)=3.129883e+000; krok(n+1)=4.766449e-004; ng(n+1)=5.565458e+001;
n=29; farx(n+1)=5.951165e-001; foe(n+1)=2.378967e+000; krok(n+1)=3.831728e-004; ng(n+1)=1.966427e+002;
n=30; farx(n+1)=4.895393e-001; foe(n+1)=2.033607e+000; krok(n+1)=6.544675e-003; ng(n+1)=6.833754e+002;
n=31; farx(n+1)=4.730050e-001; foe(n+1)=1.641028e+000; krok(n+1)=2.442482e-003; ng(n+1)=7.492682e+002;
n=32; farx(n+1)=4.759684e-001; foe(n+1)=1.368823e+000; krok(n+1)=1.274938e-002; ng(n+1)=1.633947e+002;
n=33; farx(n+1)=4.820939e-001; foe(n+1)=1.260131e+000; krok(n+1)=9.417142e-003; ng(n+1)=1.975555e+002;
n=34; farx(n+1)=4.267104e-001; foe(n+1)=1.119106e+000; krok(n+1)=3.535818e-002; ng(n+1)=1.216782e+002;
n=35; farx(n+1)=4.105131e-001; foe(n+1)=1.067210e+000; krok(n+1)=6.607631e-003; ng(n+1)=1.145603e+002;
n=36; farx(n+1)=3.980806e-001; foe(n+1)=9.720291e-001; krok(n+1)=1.486332e-002; ng(n+1)=2.087355e+002;
n=37; farx(n+1)=3.815544e-001; foe(n+1)=9.038012e-001; krok(n+1)=1.042882e-002; ng(n+1)=1.688037e+002;
n=38; farx(n+1)=3.843567e-001; foe(n+1)=8.625472e-001; krok(n+1)=1.576669e-002; ng(n+1)=2.211026e+002;
n=39; farx(n+1)=3.705359e-001; foe(n+1)=7.752650e-001; krok(n+1)=3.230408e-002; ng(n+1)=1.158151e+002;
n=40; farx(n+1)=3.638943e-001; foe(n+1)=7.181955e-001; krok(n+1)=2.876670e-002; ng(n+1)=1.470314e+002;
n=41; farx(n+1)=3.634222e-001; foe(n+1)=6.967254e-001; krok(n+1)=5.608324e-003; ng(n+1)=1.411833e+002;
n=42; farx(n+1)=3.548791e-001; foe(n+1)=6.734833e-001; krok(n+1)=3.122169e-002; ng(n+1)=8.652533e+001;
n=43; farx(n+1)=3.291923e-001; foe(n+1)=6.383008e-001; krok(n+1)=5.983917e-002; ng(n+1)=6.278395e+001;
n=44; farx(n+1)=3.217977e-001; foe(n+1)=6.224455e-001; krok(n+1)=1.244697e-002; ng(n+1)=1.020328e+002;
n=45; farx(n+1)=3.166597e-001; foe(n+1)=5.853223e-001; krok(n+1)=5.483245e-002; ng(n+1)=9.925603e+001;
n=46; farx(n+1)=3.140993e-001; foe(n+1)=5.642990e-001; krok(n+1)=9.048247e-002; ng(n+1)=1.719623e+001;
n=47; farx(n+1)=3.164527e-001; foe(n+1)=5.401040e-001; krok(n+1)=4.382471e-002; ng(n+1)=8.416842e+001;
n=48; farx(n+1)=3.189278e-001; foe(n+1)=5.015920e-001; krok(n+1)=3.064379e-002; ng(n+1)=1.394265e+002;
n=49; farx(n+1)=3.117953e-001; foe(n+1)=4.702002e-001; krok(n+1)=8.662598e-002; ng(n+1)=7.484424e+001;
n=50; farx(n+1)=3.028842e-001; foe(n+1)=4.519729e-001; krok(n+1)=2.835564e-002; ng(n+1)=1.739850e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
