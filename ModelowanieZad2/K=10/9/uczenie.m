%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.560614e+002; foe(n+1)=2.710967e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.553761e+002; foe(n+1)=1.643733e+002; krok(n+1)=4.651747e-004; ng(n+1)=1.527443e+003;
n=2; farx(n+1)=5.189554e+001; foe(n+1)=5.922060e+001; krok(n+1)=5.269205e-003; ng(n+1)=6.693263e+002;
n=3; farx(n+1)=5.010136e+001; foe(n+1)=5.622529e+001; krok(n+1)=1.667309e-003; ng(n+1)=3.058760e+002;
n=4; farx(n+1)=4.649160e+001; foe(n+1)=5.536502e+001; krok(n+1)=4.324280e-003; ng(n+1)=9.619069e+001;
n=5; farx(n+1)=9.261644e+000; foe(n+1)=2.930633e+001; krok(n+1)=4.076532e-002; ng(n+1)=1.439528e+002;
n=6; farx(n+1)=7.429780e+000; foe(n+1)=2.319124e+001; krok(n+1)=2.436365e-004; ng(n+1)=1.567707e+003;
n=7; farx(n+1)=7.244297e+000; foe(n+1)=2.082371e+001; krok(n+1)=2.197532e-004; ng(n+1)=2.581045e+003;
n=8; farx(n+1)=7.765272e+000; foe(n+1)=1.942541e+001; krok(n+1)=7.625735e-004; ng(n+1)=2.047402e+003;
n=9; farx(n+1)=5.892876e+000; foe(n+1)=1.548055e+001; krok(n+1)=4.226038e-002; ng(n+1)=8.947575e+002;
n=10; farx(n+1)=5.378243e+000; foe(n+1)=1.432383e+001; krok(n+1)=1.203191e-003; ng(n+1)=9.287220e+002;
n=11; farx(n+1)=4.243042e+000; foe(n+1)=1.304015e+001; krok(n+1)=1.063635e-002; ng(n+1)=1.831703e+002;
n=12; farx(n+1)=3.842798e+000; foe(n+1)=1.254781e+001; krok(n+1)=9.854180e-004; ng(n+1)=5.892351e+002;
n=13; farx(n+1)=2.463907e+000; foe(n+1)=9.088555e+000; krok(n+1)=3.022871e-002; ng(n+1)=8.332243e+002;
n=14; farx(n+1)=2.192631e+000; foe(n+1)=8.688245e+000; krok(n+1)=1.201509e-003; ng(n+1)=4.378271e+002;
n=15; farx(n+1)=1.800677e+000; foe(n+1)=7.958645e+000; krok(n+1)=6.081190e-003; ng(n+1)=8.463747e+002;
n=16; farx(n+1)=1.532258e+000; foe(n+1)=6.939745e+000; krok(n+1)=4.437686e-003; ng(n+1)=6.102734e+002;
n=17; farx(n+1)=1.471981e+000; foe(n+1)=6.273191e+000; krok(n+1)=4.520892e-003; ng(n+1)=4.544978e+002;
n=18; farx(n+1)=1.312926e+000; foe(n+1)=5.877632e+000; krok(n+1)=5.915528e-003; ng(n+1)=4.279309e+002;
n=19; farx(n+1)=8.739631e-001; foe(n+1)=5.156865e+000; krok(n+1)=9.219686e-003; ng(n+1)=4.129728e+002;
n=20; farx(n+1)=5.839366e-001; foe(n+1)=3.523147e+000; krok(n+1)=5.318174e-003; ng(n+1)=1.071823e+003;
n=21; farx(n+1)=5.536712e-001; foe(n+1)=3.256695e+000; krok(n+1)=2.357114e-003; ng(n+1)=5.992708e+002;
n=22; farx(n+1)=4.835715e-001; foe(n+1)=2.834705e+000; krok(n+1)=7.242402e-003; ng(n+1)=9.122047e+002;
n=23; farx(n+1)=4.106438e-001; foe(n+1)=1.626174e+000; krok(n+1)=3.625910e-003; ng(n+1)=1.565257e+003;
n=24; farx(n+1)=4.181799e-001; foe(n+1)=1.499186e+000; krok(n+1)=3.751501e-003; ng(n+1)=5.063059e+002;
n=25; farx(n+1)=4.376858e-001; foe(n+1)=1.300011e+000; krok(n+1)=2.142359e-002; ng(n+1)=3.189529e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.351068e-001; foe(n+1)=1.272773e+000; krok(n+1)=3.176034e-005; ng(n+1)=1.521807e+002;
n=27; farx(n+1)=4.333637e-001; foe(n+1)=1.261419e+000; krok(n+1)=2.496650e-005; ng(n+1)=1.084847e+002;
n=28; farx(n+1)=4.351683e-001; foe(n+1)=1.232837e+000; krok(n+1)=5.161420e-005; ng(n+1)=1.082170e+002;
n=29; farx(n+1)=4.083284e-001; foe(n+1)=1.080068e+000; krok(n+1)=3.400118e-003; ng(n+1)=3.614640e+001;
n=30; farx(n+1)=4.044830e-001; foe(n+1)=9.578240e-001; krok(n+1)=7.088910e-003; ng(n+1)=5.158835e+001;
n=31; farx(n+1)=4.061536e-001; foe(n+1)=8.913031e-001; krok(n+1)=1.680696e-002; ng(n+1)=8.745131e+001;
n=32; farx(n+1)=4.338982e-001; foe(n+1)=8.449279e-001; krok(n+1)=2.128042e-002; ng(n+1)=1.325500e+002;
n=33; farx(n+1)=4.348076e-001; foe(n+1)=8.297856e-001; krok(n+1)=1.183052e-002; ng(n+1)=8.936948e+001;
n=34; farx(n+1)=4.151336e-001; foe(n+1)=7.960860e-001; krok(n+1)=3.040838e-002; ng(n+1)=7.611220e+001;
n=35; farx(n+1)=4.123434e-001; foe(n+1)=7.789069e-001; krok(n+1)=3.685289e-002; ng(n+1)=8.799104e+001;
n=36; farx(n+1)=4.100050e-001; foe(n+1)=7.741359e-001; krok(n+1)=1.370811e-002; ng(n+1)=5.959885e+001;
n=37; farx(n+1)=3.890679e-001; foe(n+1)=7.432932e-001; krok(n+1)=1.204927e-001; ng(n+1)=4.307338e+001;
n=38; farx(n+1)=3.700327e-001; foe(n+1)=7.123080e-001; krok(n+1)=5.335388e-002; ng(n+1)=1.243771e+002;
n=39; farx(n+1)=3.590313e-001; foe(n+1)=6.946034e-001; krok(n+1)=4.446078e-002; ng(n+1)=9.057976e+001;
n=40; farx(n+1)=3.426716e-001; foe(n+1)=6.788599e-001; krok(n+1)=2.409244e-002; ng(n+1)=6.952538e+001;
n=41; farx(n+1)=3.276938e-001; foe(n+1)=6.610230e-001; krok(n+1)=3.604146e-002; ng(n+1)=7.308757e+001;
n=42; farx(n+1)=3.244885e-001; foe(n+1)=6.450725e-001; krok(n+1)=1.011873e-001; ng(n+1)=2.914400e+001;
n=43; farx(n+1)=3.212255e-001; foe(n+1)=6.301010e-001; krok(n+1)=5.558094e-002; ng(n+1)=7.232824e+001;
n=44; farx(n+1)=3.183824e-001; foe(n+1)=6.234528e-001; krok(n+1)=4.102628e-002; ng(n+1)=4.724199e+001;
n=45; farx(n+1)=3.190179e-001; foe(n+1)=6.103771e-001; krok(n+1)=4.641307e-002; ng(n+1)=4.784487e+001;
n=46; farx(n+1)=3.193886e-001; foe(n+1)=6.028524e-001; krok(n+1)=3.281725e-002; ng(n+1)=4.590026e+001;
n=47; farx(n+1)=3.226912e-001; foe(n+1)=5.837527e-001; krok(n+1)=5.079872e-002; ng(n+1)=6.235327e+001;
n=48; farx(n+1)=3.394545e-001; foe(n+1)=5.584798e-001; krok(n+1)=9.790194e-002; ng(n+1)=5.852074e+001;
n=49; farx(n+1)=3.534181e-001; foe(n+1)=5.415476e-001; krok(n+1)=5.236098e-002; ng(n+1)=7.242036e+001;
n=50; farx(n+1)=3.635386e-001; foe(n+1)=5.261063e-001; krok(n+1)=5.387784e-002; ng(n+1)=5.069642e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
