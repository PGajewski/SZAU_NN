%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.813075e+002; foe(n+1)=2.680868e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.720988e+002; foe(n+1)=1.632036e+002; krok(n+1)=5.081655e-004; ng(n+1)=1.289135e+003;
n=2; farx(n+1)=7.411460e+001; foe(n+1)=6.105708e+001; krok(n+1)=6.947618e-003; ng(n+1)=4.489469e+002;
n=3; farx(n+1)=7.218031e+001; foe(n+1)=5.881965e+001; krok(n+1)=2.973498e-003; ng(n+1)=1.888322e+002;
n=4; farx(n+1)=4.707369e+001; foe(n+1)=5.528452e+001; krok(n+1)=4.256083e-002; ng(n+1)=5.835307e+001;
n=5; farx(n+1)=2.296792e+001; foe(n+1)=4.146686e+001; krok(n+1)=2.831403e-003; ng(n+1)=3.587326e+002;
n=6; farx(n+1)=1.462583e+001; foe(n+1)=3.783927e+001; krok(n+1)=5.647473e-003; ng(n+1)=2.907535e+002;
n=7; farx(n+1)=1.082946e+001; foe(n+1)=3.535620e+001; krok(n+1)=9.977322e-004; ng(n+1)=1.130828e+003;
n=8; farx(n+1)=8.041065e+000; foe(n+1)=3.187524e+001; krok(n+1)=6.935224e-004; ng(n+1)=1.686459e+003;
n=9; farx(n+1)=6.558646e+000; foe(n+1)=2.512692e+001; krok(n+1)=1.496365e-002; ng(n+1)=2.822202e+003;
n=10; farx(n+1)=6.459663e+000; foe(n+1)=2.471934e+001; krok(n+1)=7.212392e-005; ng(n+1)=2.836244e+003;
n=11; farx(n+1)=6.346478e+000; foe(n+1)=2.426188e+001; krok(n+1)=2.364726e-003; ng(n+1)=2.444658e+003;
n=12; farx(n+1)=6.835406e+000; foe(n+1)=1.921398e+001; krok(n+1)=9.590335e-003; ng(n+1)=2.525819e+003;
n=13; farx(n+1)=7.526215e+000; foe(n+1)=1.643384e+001; krok(n+1)=2.391214e-003; ng(n+1)=1.030353e+003;
n=14; farx(n+1)=7.145205e+000; foe(n+1)=1.561112e+001; krok(n+1)=4.118564e-003; ng(n+1)=4.275658e+002;
n=15; farx(n+1)=4.323141e+000; foe(n+1)=1.246648e+001; krok(n+1)=1.622219e-002; ng(n+1)=4.890368e+002;
n=16; farx(n+1)=3.211204e+000; foe(n+1)=1.029441e+001; krok(n+1)=5.972073e-004; ng(n+1)=1.369771e+003;
n=17; farx(n+1)=2.490700e+000; foe(n+1)=9.009053e+000; krok(n+1)=2.855545e-003; ng(n+1)=9.356954e+002;
n=18; farx(n+1)=2.449514e+000; foe(n+1)=8.720299e+000; krok(n+1)=4.863026e-004; ng(n+1)=8.141197e+002;
n=19; farx(n+1)=1.592929e+000; foe(n+1)=7.174412e+000; krok(n+1)=1.939776e-002; ng(n+1)=5.650440e+002;
n=20; farx(n+1)=1.509616e+000; foe(n+1)=7.009272e+000; krok(n+1)=5.598060e-004; ng(n+1)=3.260542e+002;
n=21; farx(n+1)=1.345575e+000; foe(n+1)=6.376265e+000; krok(n+1)=1.413789e-003; ng(n+1)=7.119791e+002;
n=22; farx(n+1)=1.257712e+000; foe(n+1)=5.437483e+000; krok(n+1)=4.408444e-003; ng(n+1)=6.866712e+002;
n=23; farx(n+1)=1.349478e+000; foe(n+1)=4.674384e+000; krok(n+1)=4.336062e-003; ng(n+1)=1.135244e+003;
n=24; farx(n+1)=1.309613e+000; foe(n+1)=4.396067e+000; krok(n+1)=7.517005e-003; ng(n+1)=2.369023e+002;
n=25; farx(n+1)=1.283162e+000; foe(n+1)=4.114182e+000; krok(n+1)=2.804162e-003; ng(n+1)=5.091884e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.247827e+000; foe(n+1)=3.954509e+000; krok(n+1)=3.031326e-005; ng(n+1)=3.045050e+002;
n=27; farx(n+1)=1.235417e+000; foe(n+1)=3.898358e+000; krok(n+1)=1.649003e-005; ng(n+1)=3.055893e+002;
n=28; farx(n+1)=1.205732e+000; foe(n+1)=3.767510e+000; krok(n+1)=8.836179e-005; ng(n+1)=1.873666e+002;
n=29; farx(n+1)=1.133000e+000; foe(n+1)=3.222176e+000; krok(n+1)=1.595033e-003; ng(n+1)=9.622110e+001;
n=30; farx(n+1)=1.039526e+000; foe(n+1)=2.799955e+000; krok(n+1)=3.625910e-003; ng(n+1)=1.203789e+002;
n=31; farx(n+1)=8.236976e-001; foe(n+1)=2.198661e+000; krok(n+1)=8.997511e-003; ng(n+1)=3.084961e+002;
n=32; farx(n+1)=8.090115e-001; foe(n+1)=2.100083e+000; krok(n+1)=6.130766e-003; ng(n+1)=3.218359e+002;
n=33; farx(n+1)=7.185629e-001; foe(n+1)=1.844006e+000; krok(n+1)=5.335388e-002; ng(n+1)=1.958657e+002;
n=34; farx(n+1)=6.807484e-001; foe(n+1)=1.672756e+000; krok(n+1)=2.486715e-002; ng(n+1)=9.647807e+001;
n=35; farx(n+1)=6.482071e-001; foe(n+1)=1.591035e+000; krok(n+1)=3.544455e-003; ng(n+1)=2.073814e+002;
n=36; farx(n+1)=5.522795e-001; foe(n+1)=1.348321e+000; krok(n+1)=1.053841e-002; ng(n+1)=3.495282e+002;
n=37; farx(n+1)=4.966435e-001; foe(n+1)=1.158863e+000; krok(n+1)=2.428721e-002; ng(n+1)=3.742433e+002;
n=38; farx(n+1)=4.707245e-001; foe(n+1)=9.972799e-001; krok(n+1)=9.195867e-003; ng(n+1)=2.269069e+002;
n=39; farx(n+1)=4.697109e-001; foe(n+1)=9.295425e-001; krok(n+1)=6.884742e-003; ng(n+1)=3.638053e+002;
n=40; farx(n+1)=4.703690e-001; foe(n+1)=8.797425e-001; krok(n+1)=1.729594e-002; ng(n+1)=5.380362e+001;
n=41; farx(n+1)=4.642507e-001; foe(n+1)=8.348106e-001; krok(n+1)=2.121282e-002; ng(n+1)=9.356086e+001;
n=42; farx(n+1)=4.602138e-001; foe(n+1)=8.106688e-001; krok(n+1)=1.450364e-002; ng(n+1)=1.087534e+002;
n=43; farx(n+1)=4.077728e-001; foe(n+1)=7.143275e-001; krok(n+1)=7.053511e-002; ng(n+1)=3.736084e+001;
n=44; farx(n+1)=3.997406e-001; foe(n+1)=6.853304e-001; krok(n+1)=1.676647e-002; ng(n+1)=5.493748e+001;
n=45; farx(n+1)=4.010405e-001; foe(n+1)=5.843005e-001; krok(n+1)=2.452306e-002; ng(n+1)=1.659494e+002;
n=46; farx(n+1)=4.085069e-001; foe(n+1)=5.605888e-001; krok(n+1)=1.974372e-002; ng(n+1)=1.078609e+002;
n=47; farx(n+1)=4.064351e-001; foe(n+1)=5.364187e-001; krok(n+1)=5.985461e-002; ng(n+1)=4.024806e+001;
n=48; farx(n+1)=3.917213e-001; foe(n+1)=5.208882e-001; krok(n+1)=4.681906e-002; ng(n+1)=5.905505e+001;
n=49; farx(n+1)=3.827678e-001; foe(n+1)=4.968652e-001; krok(n+1)=7.453607e-002; ng(n+1)=8.334383e+001;
n=50; farx(n+1)=3.818201e-001; foe(n+1)=4.900196e-001; krok(n+1)=1.835014e-002; ng(n+1)=5.142680e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
