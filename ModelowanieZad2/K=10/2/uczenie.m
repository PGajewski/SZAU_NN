%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.651142e+002; foe(n+1)=2.680491e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.513501e+002; foe(n+1)=1.527618e+002; krok(n+1)=4.875677e-004; ng(n+1)=1.480235e+003;
n=2; farx(n+1)=5.973747e+001; foe(n+1)=6.028962e+001; krok(n+1)=4.042588e-003; ng(n+1)=6.487390e+002;
n=3; farx(n+1)=5.809613e+001; foe(n+1)=5.770818e+001; krok(n+1)=2.032662e-003; ng(n+1)=2.626618e+002;
n=4; farx(n+1)=4.985648e+001; foe(n+1)=5.634965e+001; krok(n+1)=1.290032e-002; ng(n+1)=6.160361e+001;
n=5; farx(n+1)=1.945288e+001; foe(n+1)=4.318069e+001; krok(n+1)=2.025137e-002; ng(n+1)=1.943084e+002;
n=6; farx(n+1)=1.297604e+001; foe(n+1)=3.945290e+001; krok(n+1)=1.709568e-003; ng(n+1)=7.319115e+002;
n=7; farx(n+1)=9.232250e+000; foe(n+1)=3.467979e+001; krok(n+1)=1.990272e-003; ng(n+1)=1.483622e+003;
n=8; farx(n+1)=8.995637e+000; foe(n+1)=3.385113e+001; krok(n+1)=2.836970e-004; ng(n+1)=2.808595e+003;
n=9; farx(n+1)=8.801978e+000; foe(n+1)=3.237831e+001; krok(n+1)=3.752980e-003; ng(n+1)=2.621739e+003;
n=10; farx(n+1)=9.039816e+000; foe(n+1)=3.146642e+001; krok(n+1)=1.078226e-003; ng(n+1)=3.021067e+003;
n=11; farx(n+1)=9.489070e+000; foe(n+1)=3.071116e+001; krok(n+1)=4.548255e-003; ng(n+1)=2.885523e+003;
n=12; farx(n+1)=1.032907e+001; foe(n+1)=2.632342e+001; krok(n+1)=1.127264e-002; ng(n+1)=2.416646e+003;
n=13; farx(n+1)=1.059275e+001; foe(n+1)=2.560275e+001; krok(n+1)=4.308196e-004; ng(n+1)=1.104201e+003;
n=14; farx(n+1)=1.070760e+001; foe(n+1)=2.390542e+001; krok(n+1)=7.088910e-003; ng(n+1)=2.059471e+003;
n=15; farx(n+1)=1.002760e+001; foe(n+1)=2.056395e+001; krok(n+1)=1.212360e-003; ng(n+1)=1.919756e+003;
n=16; farx(n+1)=9.053221e+000; foe(n+1)=1.873973e+001; krok(n+1)=3.941672e-003; ng(n+1)=8.184294e+002;
n=17; farx(n+1)=7.848519e+000; foe(n+1)=1.508603e+001; krok(n+1)=4.235232e-002; ng(n+1)=3.986479e+002;
n=18; farx(n+1)=7.323785e+000; foe(n+1)=1.427767e+001; krok(n+1)=2.176076e-003; ng(n+1)=3.924413e+002;
n=19; farx(n+1)=6.306951e+000; foe(n+1)=1.204515e+001; krok(n+1)=2.778799e-003; ng(n+1)=3.376193e+002;
n=20; farx(n+1)=6.118401e+000; foe(n+1)=1.158333e+001; krok(n+1)=5.592616e-004; ng(n+1)=3.760359e+002;
n=21; farx(n+1)=5.350572e+000; foe(n+1)=1.019736e+001; krok(n+1)=3.264384e-003; ng(n+1)=2.134098e+002;
n=22; farx(n+1)=4.898149e+000; foe(n+1)=9.533410e+000; krok(n+1)=2.081087e-003; ng(n+1)=4.781706e+002;
n=23; farx(n+1)=3.565359e+000; foe(n+1)=7.252858e+000; krok(n+1)=7.397815e-003; ng(n+1)=5.863390e+002;
n=24; farx(n+1)=2.041260e+000; foe(n+1)=3.850441e+000; krok(n+1)=4.788074e-003; ng(n+1)=8.056623e+002;
n=25; farx(n+1)=1.796650e+000; foe(n+1)=3.205348e+000; krok(n+1)=9.532898e-004; ng(n+1)=8.574365e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.793553e+000; foe(n+1)=3.182352e+000; krok(n+1)=1.277945e-005; ng(n+1)=2.305603e+002;
n=27; farx(n+1)=1.799805e+000; foe(n+1)=3.166736e+000; krok(n+1)=4.404185e-005; ng(n+1)=9.860003e+001;
n=28; farx(n+1)=1.760607e+000; foe(n+1)=3.078136e+000; krok(n+1)=2.030280e-004; ng(n+1)=1.083739e+002;
n=29; farx(n+1)=1.441494e+000; foe(n+1)=2.479330e+000; krok(n+1)=2.038825e-003; ng(n+1)=9.729512e+001;
n=30; farx(n+1)=9.925008e-001; foe(n+1)=1.996929e+000; krok(n+1)=6.319511e-003; ng(n+1)=1.016263e+002;
n=31; farx(n+1)=8.027559e-001; foe(n+1)=1.763856e+000; krok(n+1)=4.892577e-003; ng(n+1)=2.303048e+002;
n=32; farx(n+1)=7.077610e-001; foe(n+1)=1.630094e+000; krok(n+1)=4.445667e-003; ng(n+1)=4.592204e+002;
n=33; farx(n+1)=6.491738e-001; foe(n+1)=1.532261e+000; krok(n+1)=4.736926e-003; ng(n+1)=3.021105e+002;
n=34; farx(n+1)=5.565620e-001; foe(n+1)=1.297638e+000; krok(n+1)=2.038266e-002; ng(n+1)=2.177607e+002;
n=35; farx(n+1)=5.304560e-001; foe(n+1)=1.165685e+000; krok(n+1)=2.447519e-002; ng(n+1)=5.077857e+001;
n=36; farx(n+1)=5.287028e-001; foe(n+1)=1.052321e+000; krok(n+1)=3.446556e-003; ng(n+1)=3.529483e+002;
n=37; farx(n+1)=5.412864e-001; foe(n+1)=9.647828e-001; krok(n+1)=1.486332e-002; ng(n+1)=1.560197e+002;
n=38; farx(n+1)=5.147631e-001; foe(n+1)=9.345779e-001; krok(n+1)=1.214548e-002; ng(n+1)=7.668027e+001;
n=39; farx(n+1)=4.385712e-001; foe(n+1)=8.447493e-001; krok(n+1)=1.596002e-002; ng(n+1)=1.321062e+002;
n=40; farx(n+1)=4.194691e-001; foe(n+1)=7.618013e-001; krok(n+1)=6.503090e-002; ng(n+1)=1.142202e+002;
n=41; farx(n+1)=4.174281e-001; foe(n+1)=7.539940e-001; krok(n+1)=7.100804e-003; ng(n+1)=8.680973e+001;
n=42; farx(n+1)=4.097817e-001; foe(n+1)=6.977724e-001; krok(n+1)=1.673711e-002; ng(n+1)=1.319002e+002;
n=43; farx(n+1)=3.949078e-001; foe(n+1)=6.540379e-001; krok(n+1)=2.900728e-002; ng(n+1)=8.948012e+001;
n=44; farx(n+1)=3.876998e-001; foe(n+1)=6.142621e-001; krok(n+1)=2.366103e-002; ng(n+1)=1.136288e+002;
n=45; farx(n+1)=3.841294e-001; foe(n+1)=5.969023e-001; krok(n+1)=1.697325e-002; ng(n+1)=1.010763e+002;
n=46; farx(n+1)=3.486997e-001; foe(n+1)=5.124150e-001; krok(n+1)=4.757597e-002; ng(n+1)=1.176919e+002;
n=47; farx(n+1)=3.292966e-001; foe(n+1)=4.824737e-001; krok(n+1)=5.205007e-002; ng(n+1)=1.401694e+002;
n=48; farx(n+1)=3.031151e-001; foe(n+1)=4.530195e-001; krok(n+1)=5.793922e-002; ng(n+1)=7.985636e+001;
n=49; farx(n+1)=2.973024e-001; foe(n+1)=4.426683e-001; krok(n+1)=3.243320e-002; ng(n+1)=8.764846e+001;
n=50; farx(n+1)=2.802864e-001; foe(n+1)=4.146891e-001; krok(n+1)=1.247419e-001; ng(n+1)=4.957328e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
