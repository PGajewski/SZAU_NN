%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.139973e+002; foe(n+1)=3.120582e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.889151e+002; foe(n+1)=1.864352e+002; krok(n+1)=5.157570e-004; ng(n+1)=1.598484e+003;
n=2; farx(n+1)=1.291011e+002; foe(n+1)=1.198883e+002; krok(n+1)=5.357205e-003; ng(n+1)=6.285006e+002;
n=3; farx(n+1)=5.926463e+001; foe(n+1)=5.624377e+001; krok(n+1)=1.020808e-003; ng(n+1)=1.384672e+003;
n=4; farx(n+1)=4.786341e+001; foe(n+1)=5.449966e+001; krok(n+1)=8.625805e-003; ng(n+1)=8.611943e+001;
n=5; farx(n+1)=3.910690e+001; foe(n+1)=5.286486e+001; krok(n+1)=1.282071e-003; ng(n+1)=3.951482e+002;
n=6; farx(n+1)=2.887211e+001; foe(n+1)=4.012842e+001; krok(n+1)=2.561181e-002; ng(n+1)=6.666251e+002;
n=7; farx(n+1)=2.538763e+001; foe(n+1)=3.546526e+001; krok(n+1)=1.568149e-002; ng(n+1)=3.050388e+002;
n=8; farx(n+1)=2.170171e+001; foe(n+1)=3.197674e+001; krok(n+1)=5.548179e-003; ng(n+1)=3.132289e+002;
n=9; farx(n+1)=1.882006e+001; foe(n+1)=2.704144e+001; krok(n+1)=4.544795e-002; ng(n+1)=6.337698e+002;
n=10; farx(n+1)=1.778324e+001; foe(n+1)=2.554948e+001; krok(n+1)=6.089906e-004; ng(n+1)=5.065395e+002;
n=11; farx(n+1)=1.573483e+001; foe(n+1)=2.287422e+001; krok(n+1)=1.308616e-002; ng(n+1)=2.699439e+002;
n=12; farx(n+1)=1.407045e+001; foe(n+1)=2.068161e+001; krok(n+1)=8.103099e-003; ng(n+1)=3.254448e+002;
n=13; farx(n+1)=1.238738e+001; foe(n+1)=1.983054e+001; krok(n+1)=1.059400e-002; ng(n+1)=1.012259e+002;
n=14; farx(n+1)=1.072550e+001; foe(n+1)=1.906381e+001; krok(n+1)=1.857915e-003; ng(n+1)=3.624537e+002;
n=15; farx(n+1)=6.995195e+000; foe(n+1)=1.537947e+001; krok(n+1)=7.029269e-003; ng(n+1)=5.844889e+002;
n=16; farx(n+1)=3.166499e+000; foe(n+1)=9.895984e+000; krok(n+1)=2.280046e-002; ng(n+1)=5.138101e+002;
n=17; farx(n+1)=2.899601e+000; foe(n+1)=9.526836e+000; krok(n+1)=4.108016e-004; ng(n+1)=4.672567e+002;
n=18; farx(n+1)=2.649846e+000; foe(n+1)=8.950910e+000; krok(n+1)=1.182363e-003; ng(n+1)=8.010402e+002;
n=19; farx(n+1)=2.537849e+000; foe(n+1)=8.798251e+000; krok(n+1)=1.688016e-003; ng(n+1)=5.777317e+002;
n=20; farx(n+1)=2.270937e+000; foe(n+1)=8.267825e+000; krok(n+1)=5.355898e-003; ng(n+1)=4.123374e+002;
n=21; farx(n+1)=2.091735e+000; foe(n+1)=7.934909e+000; krok(n+1)=8.468065e-003; ng(n+1)=7.298034e+002;
n=22; farx(n+1)=1.541921e+000; foe(n+1)=6.183271e+000; krok(n+1)=4.161404e-002; ng(n+1)=2.462726e+002;
n=23; farx(n+1)=1.469208e+000; foe(n+1)=5.926582e+000; krok(n+1)=2.626087e-004; ng(n+1)=1.415029e+003;
n=24; farx(n+1)=1.522309e+000; foe(n+1)=5.158941e+000; krok(n+1)=1.274938e-002; ng(n+1)=5.135560e+002;
n=25; farx(n+1)=1.463011e+000; foe(n+1)=4.568372e+000; krok(n+1)=5.711090e-003; ng(n+1)=7.793056e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.471036e+000; foe(n+1)=4.507020e+000; krok(n+1)=5.123959e-006; ng(n+1)=5.683378e+002;
n=27; farx(n+1)=1.483331e+000; foe(n+1)=4.482468e+000; krok(n+1)=6.158863e-005; ng(n+1)=1.057561e+002;
n=28; farx(n+1)=1.514434e+000; foe(n+1)=4.295333e+000; krok(n+1)=4.168272e-004; ng(n+1)=1.110708e+002;
n=29; farx(n+1)=1.361981e+000; foe(n+1)=2.867823e+000; krok(n+1)=1.457199e-003; ng(n+1)=1.345726e+002;
n=30; farx(n+1)=1.317429e+000; foe(n+1)=2.557915e+000; krok(n+1)=2.032216e-003; ng(n+1)=6.572002e+002;
n=31; farx(n+1)=1.272030e+000; foe(n+1)=2.327716e+000; krok(n+1)=3.595805e-003; ng(n+1)=4.661614e+002;
n=32; farx(n+1)=9.461337e-001; foe(n+1)=1.559019e+000; krok(n+1)=1.340015e-002; ng(n+1)=4.070937e+002;
n=33; farx(n+1)=8.263980e-001; foe(n+1)=1.261105e+000; krok(n+1)=5.294040e-003; ng(n+1)=4.291933e+002;
n=34; farx(n+1)=7.680358e-001; foe(n+1)=1.154033e+000; krok(n+1)=3.334617e-003; ng(n+1)=3.695306e+002;
n=35; farx(n+1)=7.434056e-001; foe(n+1)=1.095144e+000; krok(n+1)=3.846158e-003; ng(n+1)=2.458114e+002;
n=36; farx(n+1)=6.410642e-001; foe(n+1)=9.848736e-001; krok(n+1)=2.008899e-002; ng(n+1)=4.749131e+001;
n=37; farx(n+1)=6.010995e-001; foe(n+1)=9.516131e-001; krok(n+1)=1.303720e-002; ng(n+1)=9.137186e+001;
n=38; farx(n+1)=4.858995e-001; foe(n+1)=8.386919e-001; krok(n+1)=5.934607e-002; ng(n+1)=2.166712e+002;
n=39; farx(n+1)=4.732245e-001; foe(n+1)=7.912649e-001; krok(n+1)=1.945154e-002; ng(n+1)=2.021564e+002;
n=40; farx(n+1)=4.389955e-001; foe(n+1)=7.038283e-001; krok(n+1)=1.199493e-002; ng(n+1)=2.531417e+002;
n=41; farx(n+1)=4.498782e-001; foe(n+1)=6.706044e-001; krok(n+1)=4.000365e-002; ng(n+1)=1.068217e+002;
n=42; farx(n+1)=4.160776e-001; foe(n+1)=6.223837e-001; krok(n+1)=4.050274e-002; ng(n+1)=1.011241e+002;
n=43; farx(n+1)=3.870354e-001; foe(n+1)=5.819769e-001; krok(n+1)=1.022485e-001; ng(n+1)=5.474746e+001;
n=44; farx(n+1)=3.790681e-001; foe(n+1)=5.438652e-001; krok(n+1)=2.173419e-002; ng(n+1)=1.171044e+002;
n=45; farx(n+1)=3.807697e-001; foe(n+1)=5.321261e-001; krok(n+1)=1.547432e-002; ng(n+1)=7.625996e+001;
n=46; farx(n+1)=3.909731e-001; foe(n+1)=5.123689e-001; krok(n+1)=3.207144e-002; ng(n+1)=9.716136e+001;
n=47; farx(n+1)=3.866232e-001; foe(n+1)=4.947041e-001; krok(n+1)=7.729026e-002; ng(n+1)=5.286889e+001;
n=48; farx(n+1)=3.707475e-001; foe(n+1)=4.831609e-001; krok(n+1)=5.507794e-002; ng(n+1)=7.625447e+001;
n=49; farx(n+1)=3.501955e-001; foe(n+1)=4.728819e-001; krok(n+1)=3.781898e-002; ng(n+1)=4.609259e+001;
n=50; farx(n+1)=3.445487e-001; foe(n+1)=4.615367e-001; krok(n+1)=7.660919e-002; ng(n+1)=5.660429e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
