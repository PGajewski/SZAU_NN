%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.625900e+002; foe(n+1)=2.551728e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.621441e+002; foe(n+1)=1.565731e+002; krok(n+1)=5.057541e-004; ng(n+1)=1.453173e+003;
n=2; farx(n+1)=6.286561e+001; foe(n+1)=6.194704e+001; krok(n+1)=4.933247e-003; ng(n+1)=6.006229e+002;
n=3; farx(n+1)=5.960629e+001; foe(n+1)=5.689834e+001; krok(n+1)=3.758503e-003; ng(n+1)=2.854465e+002;
n=4; farx(n+1)=3.529832e+001; foe(n+1)=5.206248e+001; krok(n+1)=4.953895e-002; ng(n+1)=5.784254e+001;
n=5; farx(n+1)=1.532469e+001; foe(n+1)=3.428109e+001; krok(n+1)=2.424720e-003; ng(n+1)=3.754955e+002;
n=6; farx(n+1)=1.225452e+001; foe(n+1)=3.199893e+001; krok(n+1)=1.923079e-003; ng(n+1)=3.205378e+002;
n=7; farx(n+1)=1.003449e+001; foe(n+1)=2.905018e+001; krok(n+1)=9.396257e-004; ng(n+1)=8.507165e+002;
n=8; farx(n+1)=8.553874e+000; foe(n+1)=2.519602e+001; krok(n+1)=1.870456e-003; ng(n+1)=1.166404e+003;
n=9; farx(n+1)=6.720726e+000; foe(n+1)=2.023761e+001; krok(n+1)=9.545881e-003; ng(n+1)=1.375836e+003;
n=10; farx(n+1)=6.609018e+000; foe(n+1)=1.979751e+001; krok(n+1)=5.391128e-004; ng(n+1)=1.024018e+003;
n=11; farx(n+1)=6.483256e+000; foe(n+1)=1.828759e+001; krok(n+1)=1.815661e-002; ng(n+1)=5.715723e+002;
n=12; farx(n+1)=7.458640e+000; foe(n+1)=1.732928e+001; krok(n+1)=5.433546e-003; ng(n+1)=6.786695e+002;
n=13; farx(n+1)=7.217192e+000; foe(n+1)=1.624918e+001; krok(n+1)=4.866267e-003; ng(n+1)=2.536339e+002;
n=14; farx(n+1)=5.896135e+000; foe(n+1)=1.465754e+001; krok(n+1)=1.071180e-002; ng(n+1)=4.324129e+002;
n=15; farx(n+1)=5.139228e+000; foe(n+1)=1.316760e+001; krok(n+1)=1.178924e-002; ng(n+1)=6.932076e+002;
n=16; farx(n+1)=3.620563e+000; foe(n+1)=1.138608e+001; krok(n+1)=2.165649e-002; ng(n+1)=4.729315e+002;
n=17; farx(n+1)=3.186736e+000; foe(n+1)=1.077958e+001; krok(n+1)=4.944619e-003; ng(n+1)=1.657900e+002;
n=18; farx(n+1)=3.102989e+000; foe(n+1)=1.065424e+001; krok(n+1)=2.563269e-004; ng(n+1)=4.778731e+002;
n=19; farx(n+1)=1.544812e+000; foe(n+1)=6.260748e+000; krok(n+1)=4.235232e-002; ng(n+1)=4.961750e+002;
n=20; farx(n+1)=1.479759e+000; foe(n+1)=5.878555e+000; krok(n+1)=6.254538e-004; ng(n+1)=4.040589e+002;
n=21; farx(n+1)=1.249796e+000; foe(n+1)=5.319535e+000; krok(n+1)=4.575114e-003; ng(n+1)=2.093557e+002;
n=22; farx(n+1)=1.229601e+000; foe(n+1)=5.227390e+000; krok(n+1)=1.361446e-003; ng(n+1)=1.603682e+002;
n=23; farx(n+1)=9.398228e-001; foe(n+1)=4.149234e+000; krok(n+1)=9.707132e-003; ng(n+1)=3.488342e+002;
n=24; farx(n+1)=8.876831e-001; foe(n+1)=3.666127e+000; krok(n+1)=5.197906e-003; ng(n+1)=3.000598e+002;
n=25; farx(n+1)=9.240714e-001; foe(n+1)=3.351342e+000; krok(n+1)=2.168540e-003; ng(n+1)=1.060001e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.101406e-001; foe(n+1)=3.259122e+000; krok(n+1)=8.539569e-006; ng(n+1)=5.449076e+002;
n=27; farx(n+1)=8.753184e-001; foe(n+1)=3.191193e+000; krok(n+1)=2.860122e-005; ng(n+1)=1.974296e+002;
n=28; farx(n+1)=8.231468e-001; foe(n+1)=2.875436e+000; krok(n+1)=7.368272e-004; ng(n+1)=8.630706e+001;
n=29; farx(n+1)=7.541132e-001; foe(n+1)=2.500306e+000; krok(n+1)=5.469456e-004; ng(n+1)=1.311879e+002;
n=30; farx(n+1)=5.244541e-001; foe(n+1)=1.429530e+000; krok(n+1)=4.658504e-003; ng(n+1)=6.895624e+001;
n=31; farx(n+1)=4.165776e-001; foe(n+1)=1.162559e+000; krok(n+1)=3.550424e-002; ng(n+1)=1.265863e+002;
n=32; farx(n+1)=4.168071e-001; foe(n+1)=1.096256e+000; krok(n+1)=7.505960e-003; ng(n+1)=1.116515e+002;
n=33; farx(n+1)=4.352633e-001; foe(n+1)=1.033500e+000; krok(n+1)=3.364099e-003; ng(n+1)=3.244961e+002;
n=34; farx(n+1)=4.776702e-001; foe(n+1)=9.634049e-001; krok(n+1)=1.488820e-002; ng(n+1)=1.697222e+002;
n=35; farx(n+1)=4.518272e-001; foe(n+1)=9.315131e-001; krok(n+1)=2.799347e-002; ng(n+1)=6.965979e+001;
n=36; farx(n+1)=4.139097e-001; foe(n+1)=8.956019e-001; krok(n+1)=1.552769e-002; ng(n+1)=1.822630e+002;
n=37; farx(n+1)=4.024471e-001; foe(n+1)=8.695316e-001; krok(n+1)=1.626130e-002; ng(n+1)=7.368138e+001;
n=38; farx(n+1)=4.050885e-001; foe(n+1)=8.340491e-001; krok(n+1)=6.105720e-002; ng(n+1)=5.080564e+001;
n=39; farx(n+1)=3.707293e-001; foe(n+1)=7.792606e-001; krok(n+1)=4.852216e-002; ng(n+1)=1.162385e+002;
n=40; farx(n+1)=3.586483e-001; foe(n+1)=7.549856e-001; krok(n+1)=2.569527e-003; ng(n+1)=2.791229e+002;
n=41; farx(n+1)=3.517487e-001; foe(n+1)=7.282676e-001; krok(n+1)=5.079872e-002; ng(n+1)=1.382899e+002;
n=42; farx(n+1)=3.544822e-001; foe(n+1)=6.962665e-001; krok(n+1)=3.893128e-002; ng(n+1)=1.119916e+002;
n=43; farx(n+1)=3.445571e-001; foe(n+1)=6.840582e-001; krok(n+1)=5.962927e-002; ng(n+1)=6.254678e+001;
n=44; farx(n+1)=3.313076e-001; foe(n+1)=6.643352e-001; krok(n+1)=8.610785e-002; ng(n+1)=5.365242e+001;
n=45; farx(n+1)=3.141919e-001; foe(n+1)=6.282709e-001; krok(n+1)=4.545636e-002; ng(n+1)=1.213722e+002;
n=46; farx(n+1)=3.049382e-001; foe(n+1)=6.133804e-001; krok(n+1)=3.450322e-002; ng(n+1)=7.711576e+001;
n=47; farx(n+1)=3.104008e-001; foe(n+1)=6.034819e-001; krok(n+1)=8.764941e-002; ng(n+1)=5.202884e+001;
n=48; farx(n+1)=3.178691e-001; foe(n+1)=5.928994e-001; krok(n+1)=6.287977e-002; ng(n+1)=4.502962e+001;
n=49; farx(n+1)=3.116923e-001; foe(n+1)=5.859113e-001; krok(n+1)=1.115271e-001; ng(n+1)=7.156411e+001;
n=50; farx(n+1)=2.908202e-001; foe(n+1)=5.642181e-001; krok(n+1)=1.042976e-001; ng(n+1)=6.375194e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
