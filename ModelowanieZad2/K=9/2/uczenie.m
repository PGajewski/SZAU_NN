%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.024796e+002; foe(n+1)=2.177865e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.307409e+002; foe(n+1)=1.424136e+002; krok(n+1)=4.604034e-004; ng(n+1)=1.297046e+003;
n=2; farx(n+1)=5.358828e+001; foe(n+1)=6.367379e+001; krok(n+1)=3.334617e-003; ng(n+1)=6.188973e+002;
n=3; farx(n+1)=5.005525e+001; foe(n+1)=5.583313e+001; krok(n+1)=3.740913e-003; ng(n+1)=4.229432e+002;
n=4; farx(n+1)=4.530235e+001; foe(n+1)=5.341146e+001; krok(n+1)=1.966568e-002; ng(n+1)=1.021869e+002;
n=5; farx(n+1)=1.957107e+001; foe(n+1)=3.855188e+001; krok(n+1)=2.812841e-002; ng(n+1)=1.676181e+002;
n=6; farx(n+1)=1.749575e+001; foe(n+1)=2.724759e+001; krok(n+1)=1.125636e-003; ng(n+1)=9.140644e+002;
n=7; farx(n+1)=1.730651e+001; foe(n+1)=2.646280e+001; krok(n+1)=1.457598e-004; ng(n+1)=7.585575e+002;
n=8; farx(n+1)=1.508350e+001; foe(n+1)=2.478265e+001; krok(n+1)=5.915528e-003; ng(n+1)=8.178216e+002;
n=9; farx(n+1)=1.316721e+001; foe(n+1)=2.317227e+001; krok(n+1)=3.966104e-003; ng(n+1)=5.785931e+002;
n=10; farx(n+1)=1.097681e+001; foe(n+1)=2.113681e+001; krok(n+1)=7.860345e-003; ng(n+1)=5.842071e+002;
n=11; farx(n+1)=9.486558e+000; foe(n+1)=1.852141e+001; krok(n+1)=2.284436e-002; ng(n+1)=2.168999e+002;
n=12; farx(n+1)=8.398898e+000; foe(n+1)=1.736206e+001; krok(n+1)=1.363820e-002; ng(n+1)=1.680642e+002;
n=13; farx(n+1)=8.229682e+000; foe(n+1)=1.669442e+001; krok(n+1)=5.414124e-003; ng(n+1)=4.239693e+002;
n=14; farx(n+1)=7.156838e+000; foe(n+1)=1.577745e+001; krok(n+1)=7.418259e-003; ng(n+1)=3.722518e+002;
n=15; farx(n+1)=6.659214e+000; foe(n+1)=1.499385e+001; krok(n+1)=2.357114e-003; ng(n+1)=5.735738e+002;
n=16; farx(n+1)=5.907846e+000; foe(n+1)=1.431604e+001; krok(n+1)=7.088910e-003; ng(n+1)=4.869575e+002;
n=17; farx(n+1)=5.210293e+000; foe(n+1)=1.369108e+001; krok(n+1)=7.859971e-003; ng(n+1)=2.783567e+002;
n=18; farx(n+1)=3.920965e+000; foe(n+1)=1.311562e+001; krok(n+1)=2.753897e-002; ng(n+1)=2.091220e+002;
n=19; farx(n+1)=3.547610e+000; foe(n+1)=1.261714e+001; krok(n+1)=1.547432e-002; ng(n+1)=1.018026e+002;
n=20; farx(n+1)=2.749927e+000; foe(n+1)=1.154990e+001; krok(n+1)=6.718810e-003; ng(n+1)=3.318087e+002;
n=21; farx(n+1)=2.472823e+000; foe(n+1)=1.120994e+001; krok(n+1)=7.505960e-003; ng(n+1)=3.113535e+002;
n=22; farx(n+1)=2.277853e+000; foe(n+1)=1.091297e+001; krok(n+1)=4.234033e-003; ng(n+1)=2.944673e+002;
n=23; farx(n+1)=1.497613e+000; foe(n+1)=9.527806e+000; krok(n+1)=1.081188e-001; ng(n+1)=1.688592e+002;
n=24; farx(n+1)=1.328624e+000; foe(n+1)=9.010791e+000; krok(n+1)=3.248447e-003; ng(n+1)=6.294288e+002;
n=25; farx(n+1)=1.211145e+000; foe(n+1)=8.710809e+000; krok(n+1)=2.742688e-003; ng(n+1)=3.275043e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.205152e+000; foe(n+1)=8.512405e+000; krok(n+1)=1.539716e-005; ng(n+1)=4.020945e+002;
n=27; farx(n+1)=1.139915e+000; foe(n+1)=8.325063e+000; krok(n+1)=2.710676e-004; ng(n+1)=1.325898e+002;
n=28; farx(n+1)=1.127387e+000; foe(n+1)=8.259055e+000; krok(n+1)=6.575810e-005; ng(n+1)=1.470706e+002;
n=29; farx(n+1)=1.198022e+000; foe(n+1)=7.756586e+000; krok(n+1)=3.174920e-003; ng(n+1)=6.689674e+001;
n=30; farx(n+1)=9.707501e-001; foe(n+1)=7.286668e+000; krok(n+1)=9.219686e-003; ng(n+1)=5.381677e+001;
n=31; farx(n+1)=9.071091e-001; foe(n+1)=6.160224e+000; krok(n+1)=1.305321e-002; ng(n+1)=4.187961e+002;
n=32; farx(n+1)=1.004481e+000; foe(n+1)=5.783845e+000; krok(n+1)=4.738412e-003; ng(n+1)=3.902194e+002;
n=33; farx(n+1)=1.105618e+000; foe(n+1)=5.238320e+000; krok(n+1)=5.295103e-003; ng(n+1)=3.587182e+002;
n=34; farx(n+1)=1.228337e+000; foe(n+1)=4.614916e+000; krok(n+1)=2.855545e-003; ng(n+1)=5.416130e+002;
n=35; farx(n+1)=1.087642e+000; foe(n+1)=3.866949e+000; krok(n+1)=7.702766e-003; ng(n+1)=1.953532e+002;
n=36; farx(n+1)=1.070045e+000; foe(n+1)=3.294184e+000; krok(n+1)=7.598245e-003; ng(n+1)=6.128690e+002;
n=37; farx(n+1)=1.100036e+000; foe(n+1)=2.979067e+000; krok(n+1)=1.532691e-003; ng(n+1)=6.828826e+002;
n=38; farx(n+1)=1.066644e+000; foe(n+1)=2.890975e+000; krok(n+1)=3.408889e-003; ng(n+1)=3.726402e+002;
n=39; farx(n+1)=1.022901e+000; foe(n+1)=2.743532e+000; krok(n+1)=1.199953e-002; ng(n+1)=4.141584e+002;
n=40; farx(n+1)=9.213354e-001; foe(n+1)=2.313543e+000; krok(n+1)=2.594061e-002; ng(n+1)=4.263689e+002;
n=41; farx(n+1)=8.237056e-001; foe(n+1)=2.055201e+000; krok(n+1)=4.050274e-002; ng(n+1)=2.977685e+002;
n=42; farx(n+1)=7.924988e-001; foe(n+1)=1.904599e+000; krok(n+1)=1.611092e-002; ng(n+1)=3.415570e+002;
n=43; farx(n+1)=7.803354e-001; foe(n+1)=1.655278e+000; krok(n+1)=1.631060e-002; ng(n+1)=4.550545e+002;
n=44; farx(n+1)=8.288587e-001; foe(n+1)=1.453410e+000; krok(n+1)=1.598198e-002; ng(n+1)=3.879865e+002;
n=45; farx(n+1)=8.464345e-001; foe(n+1)=1.368570e+000; krok(n+1)=7.366454e-003; ng(n+1)=3.063726e+002;
n=46; farx(n+1)=8.040355e-001; foe(n+1)=1.238225e+000; krok(n+1)=3.459187e-002; ng(n+1)=7.733558e+001;
n=47; farx(n+1)=7.878856e-001; foe(n+1)=1.167829e+000; krok(n+1)=1.046652e-002; ng(n+1)=4.362172e+002;
n=48; farx(n+1)=7.308110e-001; foe(n+1)=1.114287e+000; krok(n+1)=7.563795e-002; ng(n+1)=3.410697e+001;
n=49; farx(n+1)=6.676699e-001; foe(n+1)=1.072463e+000; krok(n+1)=4.235232e-002; ng(n+1)=1.395976e+002;
n=50; farx(n+1)=6.164532e-001; foe(n+1)=1.035169e+000; krok(n+1)=4.226396e-002; ng(n+1)=1.525303e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
