%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.247010e+002; foe(n+1)=2.358053e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.406661e+002; foe(n+1)=1.479866e+002; krok(n+1)=4.822659e-004; ng(n+1)=1.094310e+003;
n=2; farx(n+1)=5.571850e+001; foe(n+1)=6.261712e+001; krok(n+1)=3.715831e-003; ng(n+1)=5.578041e+002;
n=3; farx(n+1)=5.179761e+001; foe(n+1)=5.616735e+001; krok(n+1)=2.281831e-003; ng(n+1)=3.853930e+002;
n=4; farx(n+1)=4.810474e+001; foe(n+1)=5.463774e+001; krok(n+1)=1.370811e-002; ng(n+1)=1.129617e+002;
n=5; farx(n+1)=1.892233e+001; foe(n+1)=4.522467e+001; krok(n+1)=1.958773e-002; ng(n+1)=1.754840e+002;
n=6; farx(n+1)=1.084227e+001; foe(n+1)=3.540751e+001; krok(n+1)=2.201622e-003; ng(n+1)=1.188072e+003;
n=7; farx(n+1)=1.104423e+001; foe(n+1)=3.458514e+001; krok(n+1)=9.144347e-005; ng(n+1)=3.248852e+003;
n=8; farx(n+1)=1.217244e+001; foe(n+1)=3.305747e+001; krok(n+1)=6.374691e-003; ng(n+1)=3.436258e+003;
n=9; farx(n+1)=1.475406e+001; foe(n+1)=2.596642e+001; krok(n+1)=1.060828e-003; ng(n+1)=2.536722e+003;
n=10; farx(n+1)=1.450776e+001; foe(n+1)=2.430950e+001; krok(n+1)=5.320104e-003; ng(n+1)=6.856358e+002;
n=11; farx(n+1)=1.405197e+001; foe(n+1)=2.243649e+001; krok(n+1)=1.170476e-002; ng(n+1)=5.675704e+002;
n=12; farx(n+1)=1.305599e+001; foe(n+1)=1.938948e+001; krok(n+1)=4.235590e-003; ng(n+1)=7.612001e+002;
n=13; farx(n+1)=6.886528e+000; foe(n+1)=1.580239e+001; krok(n+1)=4.710295e-002; ng(n+1)=1.378761e+002;
n=14; farx(n+1)=5.312025e+000; foe(n+1)=1.444899e+001; krok(n+1)=5.504055e-004; ng(n+1)=5.831322e+002;
n=15; farx(n+1)=3.352832e+000; foe(n+1)=1.259731e+001; krok(n+1)=3.941672e-003; ng(n+1)=3.867745e+002;
n=16; farx(n+1)=2.319323e+000; foe(n+1)=1.165440e+001; krok(n+1)=2.474886e-003; ng(n+1)=2.764049e+002;
n=17; farx(n+1)=1.735472e+000; foe(n+1)=1.092183e+001; krok(n+1)=1.875750e-003; ng(n+1)=7.177378e+002;
n=18; farx(n+1)=1.141466e+000; foe(n+1)=9.565826e+000; krok(n+1)=4.154663e-003; ng(n+1)=7.813389e+002;
n=19; farx(n+1)=1.035377e+000; foe(n+1)=8.369358e+000; krok(n+1)=4.505183e-003; ng(n+1)=7.223181e+002;
n=20; farx(n+1)=1.427192e+000; foe(n+1)=6.322194e+000; krok(n+1)=2.322389e-003; ng(n+1)=1.592686e+003;
n=21; farx(n+1)=1.613761e+000; foe(n+1)=5.888337e+000; krok(n+1)=3.516052e-003; ng(n+1)=5.213375e+002;
n=22; farx(n+1)=1.749958e+000; foe(n+1)=5.627552e+000; krok(n+1)=6.727259e-003; ng(n+1)=4.438336e+002;
n=23; farx(n+1)=1.829228e+000; foe(n+1)=5.373916e+000; krok(n+1)=3.248447e-003; ng(n+1)=2.920656e+002;
n=24; farx(n+1)=1.879721e+000; foe(n+1)=4.584824e+000; krok(n+1)=1.868912e-002; ng(n+1)=1.646379e+002;
n=25; farx(n+1)=1.734599e+000; foe(n+1)=4.215577e+000; krok(n+1)=4.974973e-003; ng(n+1)=2.346824e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.725777e+000; foe(n+1)=4.163284e+000; krok(n+1)=6.524847e-006; ng(n+1)=4.093757e+002;
n=27; farx(n+1)=1.658417e+000; foe(n+1)=4.058504e+000; krok(n+1)=1.761674e-004; ng(n+1)=9.926858e+001;
n=28; farx(n+1)=1.582255e+000; foe(n+1)=3.968266e+000; krok(n+1)=9.108681e-005; ng(n+1)=1.452049e+002;
n=29; farx(n+1)=7.939729e-001; foe(n+1)=2.570784e+000; krok(n+1)=9.232346e-004; ng(n+1)=1.799812e+002;
n=30; farx(n+1)=4.623848e-001; foe(n+1)=1.849235e+000; krok(n+1)=3.174920e-003; ng(n+1)=2.259538e+002;
n=31; farx(n+1)=4.430670e-001; foe(n+1)=1.581458e+000; krok(n+1)=3.271540e-003; ng(n+1)=2.805336e+002;
n=32; farx(n+1)=4.385048e-001; foe(n+1)=1.350054e+000; krok(n+1)=2.722891e-003; ng(n+1)=2.530267e+002;
n=33; farx(n+1)=4.123132e-001; foe(n+1)=1.186974e+000; krok(n+1)=1.685330e-002; ng(n+1)=5.307834e+001;
n=34; farx(n+1)=4.061302e-001; foe(n+1)=1.060839e+000; krok(n+1)=1.121665e-002; ng(n+1)=2.543497e+002;
n=35; farx(n+1)=3.997026e-001; foe(n+1)=1.027180e+000; krok(n+1)=4.101231e-003; ng(n+1)=1.727280e+002;
n=36; farx(n+1)=4.056096e-001; foe(n+1)=9.706567e-001; krok(n+1)=5.671128e-002; ng(n+1)=7.632262e+001;
n=37; farx(n+1)=4.051009e-001; foe(n+1)=9.286577e-001; krok(n+1)=2.788178e-002; ng(n+1)=4.566416e+001;
n=38; farx(n+1)=3.932486e-001; foe(n+1)=8.264383e-001; krok(n+1)=3.618094e-002; ng(n+1)=9.061169e+001;
n=39; farx(n+1)=3.915396e-001; foe(n+1)=7.798492e-001; krok(n+1)=2.107682e-002; ng(n+1)=9.732014e+001;
n=40; farx(n+1)=3.917090e-001; foe(n+1)=7.548202e-001; krok(n+1)=4.186607e-002; ng(n+1)=3.556349e+001;
n=41; farx(n+1)=3.872536e-001; foe(n+1)=7.023994e-001; krok(n+1)=1.394089e-002; ng(n+1)=1.240039e+002;
n=42; farx(n+1)=3.802249e-001; foe(n+1)=6.671024e-001; krok(n+1)=1.262969e-002; ng(n+1)=9.991848e+001;
n=43; farx(n+1)=3.754920e-001; foe(n+1)=6.471439e-001; krok(n+1)=3.320390e-002; ng(n+1)=3.099975e+001;
n=44; farx(n+1)=3.727450e-001; foe(n+1)=6.292331e-001; krok(n+1)=3.294851e-002; ng(n+1)=6.202583e+001;
n=45; farx(n+1)=3.625233e-001; foe(n+1)=5.863481e-001; krok(n+1)=8.430727e-002; ng(n+1)=9.651291e+001;
n=46; farx(n+1)=3.590615e-001; foe(n+1)=5.667420e-001; krok(n+1)=1.636186e-002; ng(n+1)=1.263249e+002;
n=47; farx(n+1)=3.670928e-001; foe(n+1)=5.325761e-001; krok(n+1)=1.312394e-001; ng(n+1)=5.982913e+001;
n=48; farx(n+1)=3.824849e-001; foe(n+1)=5.106890e-001; krok(n+1)=7.579082e-002; ng(n+1)=8.249569e+001;
n=49; farx(n+1)=3.917859e-001; foe(n+1)=4.858523e-001; krok(n+1)=1.961845e-001; ng(n+1)=4.450857e+001;
n=50; farx(n+1)=3.901598e-001; foe(n+1)=4.762299e-001; krok(n+1)=5.019954e-002; ng(n+1)=7.135321e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
