%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.611443e+002; foe(n+1)=2.549341e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.882392e+002; foe(n+1)=1.810347e+002; krok(n+1)=5.534736e-004; ng(n+1)=1.240714e+003;
n=2; farx(n+1)=8.813317e+001; foe(n+1)=7.857500e+001; krok(n+1)=8.516524e-003; ng(n+1)=5.942429e+002;
n=3; farx(n+1)=6.339654e+001; foe(n+1)=5.837960e+001; krok(n+1)=4.854552e-004; ng(n+1)=1.249301e+003;
n=4; farx(n+1)=6.059423e+001; foe(n+1)=5.717721e+001; krok(n+1)=1.128760e-003; ng(n+1)=2.015765e+002;
n=5; farx(n+1)=1.466437e+001; foe(n+1)=3.691833e+001; krok(n+1)=3.571281e-002; ng(n+1)=1.291626e+002;
n=6; farx(n+1)=1.121639e+001; foe(n+1)=2.575938e+001; krok(n+1)=1.015069e-003; ng(n+1)=1.893720e+003;
n=7; farx(n+1)=1.145325e+001; foe(n+1)=2.508402e+001; krok(n+1)=4.029366e-004; ng(n+1)=1.805240e+003;
n=8; farx(n+1)=1.187914e+001; foe(n+1)=2.422457e+001; krok(n+1)=8.566255e-004; ng(n+1)=1.503000e+003;
n=9; farx(n+1)=1.300670e+001; foe(n+1)=2.255029e+001; krok(n+1)=1.396192e-002; ng(n+1)=8.260577e+002;
n=10; farx(n+1)=1.022792e+001; foe(n+1)=1.866760e+001; krok(n+1)=3.252259e-002; ng(n+1)=4.608400e+002;
n=11; farx(n+1)=9.271317e+000; foe(n+1)=1.707114e+001; krok(n+1)=5.478088e-003; ng(n+1)=3.623688e+002;
n=12; farx(n+1)=8.818017e+000; foe(n+1)=1.652630e+001; krok(n+1)=1.158499e-003; ng(n+1)=2.709167e+002;
n=13; farx(n+1)=8.153185e+000; foe(n+1)=1.572856e+001; krok(n+1)=1.448480e-002; ng(n+1)=2.528920e+002;
n=14; farx(n+1)=7.502715e+000; foe(n+1)=1.469265e+001; krok(n+1)=1.333847e-002; ng(n+1)=1.789289e+002;
n=15; farx(n+1)=7.159219e+000; foe(n+1)=1.425317e+001; krok(n+1)=3.478135e-003; ng(n+1)=2.793080e+002;
n=16; farx(n+1)=6.846314e+000; foe(n+1)=1.384438e+001; krok(n+1)=6.970444e-003; ng(n+1)=1.048989e+002;
n=17; farx(n+1)=6.570365e+000; foe(n+1)=1.361702e+001; krok(n+1)=9.436540e-003; ng(n+1)=2.174598e+002;
n=18; farx(n+1)=6.266327e+000; foe(n+1)=1.334303e+001; krok(n+1)=7.932207e-003; ng(n+1)=2.694123e+002;
n=19; farx(n+1)=5.279191e+000; foe(n+1)=1.214591e+001; krok(n+1)=2.366103e-002; ng(n+1)=1.429666e+002;
n=20; farx(n+1)=4.517769e+000; foe(n+1)=1.085317e+001; krok(n+1)=1.339882e-002; ng(n+1)=4.385923e+002;
n=21; farx(n+1)=4.026391e+000; foe(n+1)=1.022393e+001; krok(n+1)=5.699196e-003; ng(n+1)=3.328989e+002;
n=22; farx(n+1)=3.715095e+000; foe(n+1)=9.801333e+000; krok(n+1)=7.011828e-003; ng(n+1)=2.432170e+002;
n=23; farx(n+1)=3.113334e+000; foe(n+1)=8.959382e+000; krok(n+1)=5.770731e-003; ng(n+1)=1.743373e+002;
n=24; farx(n+1)=2.943400e+000; foe(n+1)=8.786822e+000; krok(n+1)=9.781284e-004; ng(n+1)=3.593245e+002;
n=25; farx(n+1)=1.577768e+000; foe(n+1)=6.691958e+000; krok(n+1)=3.054889e-002; ng(n+1)=3.698671e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.586358e+000; foe(n+1)=5.731148e+000; krok(n+1)=1.558595e-005; ng(n+1)=9.107201e+002;
n=27; farx(n+1)=1.531232e+000; foe(n+1)=5.558882e+000; krok(n+1)=1.366331e-004; ng(n+1)=1.741740e+002;
n=28; farx(n+1)=1.408076e+000; foe(n+1)=5.143508e+000; krok(n+1)=1.222660e-004; ng(n+1)=2.358713e+002;
n=29; farx(n+1)=1.239195e+000; foe(n+1)=4.471071e+000; krok(n+1)=8.713055e-004; ng(n+1)=1.925519e+002;
n=30; farx(n+1)=8.950056e-001; foe(n+1)=2.548786e+000; krok(n+1)=5.457942e-003; ng(n+1)=1.018746e+002;
n=31; farx(n+1)=8.847416e-001; foe(n+1)=2.094627e+000; krok(n+1)=3.470726e-003; ng(n+1)=4.876758e+002;
n=32; farx(n+1)=8.452557e-001; foe(n+1)=1.839328e+000; krok(n+1)=3.966104e-003; ng(n+1)=2.411290e+002;
n=33; farx(n+1)=7.549927e-001; foe(n+1)=1.478497e+000; krok(n+1)=8.128862e-003; ng(n+1)=3.443200e+002;
n=34; farx(n+1)=7.059471e-001; foe(n+1)=1.379012e+000; krok(n+1)=7.366454e-003; ng(n+1)=1.757062e+002;
n=35; farx(n+1)=5.671522e-001; foe(n+1)=1.077569e+000; krok(n+1)=1.779884e-002; ng(n+1)=2.212641e+002;
n=36; farx(n+1)=5.498945e-001; foe(n+1)=1.052945e+000; krok(n+1)=9.955600e-003; ng(n+1)=5.010474e+001;
n=37; farx(n+1)=4.761036e-001; foe(n+1)=9.213931e-001; krok(n+1)=1.495979e-002; ng(n+1)=1.723853e+002;
n=38; farx(n+1)=4.703678e-001; foe(n+1)=8.704620e-001; krok(n+1)=4.438543e-002; ng(n+1)=7.737103e+001;
n=39; farx(n+1)=4.728727e-001; foe(n+1)=8.272776e-001; krok(n+1)=1.000091e-002; ng(n+1)=1.376568e+002;
n=40; farx(n+1)=4.737118e-001; foe(n+1)=8.022667e-001; krok(n+1)=1.725161e-002; ng(n+1)=7.260297e+001;
n=41; farx(n+1)=4.677665e-001; foe(n+1)=7.525858e-001; krok(n+1)=5.119273e-002; ng(n+1)=8.553182e+001;
n=42; farx(n+1)=4.466634e-001; foe(n+1)=7.028320e-001; krok(n+1)=4.194258e-002; ng(n+1)=1.624146e+002;
n=43; farx(n+1)=4.242939e-001; foe(n+1)=6.772102e-001; krok(n+1)=7.897489e-002; ng(n+1)=4.576235e+001;
n=44; farx(n+1)=3.882143e-001; foe(n+1)=6.385917e-001; krok(n+1)=1.234039e-001; ng(n+1)=6.316665e+001;
n=45; farx(n+1)=3.721537e-001; foe(n+1)=6.219732e-001; krok(n+1)=6.109779e-002; ng(n+1)=5.070487e+001;
n=46; farx(n+1)=3.618599e-001; foe(n+1)=6.024792e-001; krok(n+1)=2.307159e-002; ng(n+1)=1.261503e+002;
n=47; farx(n+1)=3.510733e-001; foe(n+1)=5.759435e-001; krok(n+1)=5.715876e-002; ng(n+1)=3.689693e+001;
n=48; farx(n+1)=3.481005e-001; foe(n+1)=5.682713e-001; krok(n+1)=5.671128e-002; ng(n+1)=4.370042e+001;
n=49; farx(n+1)=3.512602e-001; foe(n+1)=5.571966e-001; krok(n+1)=6.418507e-002; ng(n+1)=2.175031e+001;
n=50; farx(n+1)=3.522478e-001; foe(n+1)=5.415011e-001; krok(n+1)=2.900728e-002; ng(n+1)=7.407235e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
