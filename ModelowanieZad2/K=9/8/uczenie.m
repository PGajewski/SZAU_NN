%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.674985e+002; foe(n+1)=2.637150e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.664460e+002; foe(n+1)=1.645270e+002; krok(n+1)=4.957630e-004; ng(n+1)=1.411986e+003;
n=2; farx(n+1)=6.449358e+001; foe(n+1)=6.154108e+001; krok(n+1)=6.349841e-003; ng(n+1)=5.312454e+002;
n=3; farx(n+1)=6.216456e+001; foe(n+1)=5.817163e+001; krok(n+1)=2.885366e-003; ng(n+1)=2.459595e+002;
n=4; farx(n+1)=5.744109e+001; foe(n+1)=5.723274e+001; krok(n+1)=6.543079e-003; ng(n+1)=7.107056e+001;
n=5; farx(n+1)=3.459926e+001; foe(n+1)=4.765440e+001; krok(n+1)=2.043074e-002; ng(n+1)=1.217708e+002;
n=6; farx(n+1)=1.155596e+001; foe(n+1)=2.382807e+001; krok(n+1)=2.008828e-002; ng(n+1)=2.730320e+002;
n=7; farx(n+1)=1.095893e+001; foe(n+1)=2.243037e+001; krok(n+1)=2.638590e-004; ng(n+1)=4.911953e+002;
n=8; farx(n+1)=1.006447e+001; foe(n+1)=2.163263e+001; krok(n+1)=2.926191e-003; ng(n+1)=6.422518e+002;
n=9; farx(n+1)=1.011359e+001; foe(n+1)=1.988379e+001; krok(n+1)=6.728198e-003; ng(n+1)=8.142762e+002;
n=10; farx(n+1)=8.809090e+000; foe(n+1)=1.866921e+001; krok(n+1)=1.171709e-002; ng(n+1)=2.683541e+002;
n=11; farx(n+1)=7.401787e+000; foe(n+1)=1.701478e+001; krok(n+1)=5.440189e-002; ng(n+1)=2.787067e+002;
n=12; farx(n+1)=6.920608e+000; foe(n+1)=1.622565e+001; krok(n+1)=1.000726e-002; ng(n+1)=3.429577e+002;
n=13; farx(n+1)=5.213367e+000; foe(n+1)=1.386706e+001; krok(n+1)=1.417782e-002; ng(n+1)=3.787275e+002;
n=14; farx(n+1)=4.975828e+000; foe(n+1)=1.368170e+001; krok(n+1)=2.990450e-003; ng(n+1)=1.901246e+002;
n=15; farx(n+1)=4.361623e+000; foe(n+1)=1.305521e+001; krok(n+1)=6.734730e-003; ng(n+1)=1.674725e+002;
n=16; farx(n+1)=3.940889e+000; foe(n+1)=1.263040e+001; krok(n+1)=1.849821e-003; ng(n+1)=2.554795e+002;
n=17; farx(n+1)=3.371867e+000; foe(n+1)=1.187061e+001; krok(n+1)=7.530795e-003; ng(n+1)=2.509631e+002;
n=18; farx(n+1)=2.286604e+000; foe(n+1)=1.040950e+001; krok(n+1)=6.893113e-003; ng(n+1)=2.937841e+002;
n=19; farx(n+1)=1.989812e+000; foe(n+1)=9.942242e+000; krok(n+1)=1.486486e-003; ng(n+1)=5.458176e+002;
n=20; farx(n+1)=1.733260e+000; foe(n+1)=9.492744e+000; krok(n+1)=3.818612e-003; ng(n+1)=5.260883e+002;
n=21; farx(n+1)=1.297214e+000; foe(n+1)=7.756051e+000; krok(n+1)=1.761298e-002; ng(n+1)=3.884268e+002;
n=22; farx(n+1)=1.215895e+000; foe(n+1)=7.357096e+000; krok(n+1)=1.548092e-003; ng(n+1)=9.392308e+002;
n=23; farx(n+1)=1.010445e+000; foe(n+1)=6.311728e+000; krok(n+1)=6.100588e-003; ng(n+1)=9.990184e+002;
n=24; farx(n+1)=8.772376e-001; foe(n+1)=5.030103e+000; krok(n+1)=4.324280e-003; ng(n+1)=7.654866e+002;
n=25; farx(n+1)=8.581457e-001; foe(n+1)=4.252627e+000; krok(n+1)=4.065324e-003; ng(n+1)=1.093400e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.421955e-001; foe(n+1)=3.980712e+000; krok(n+1)=9.263865e-006; ng(n+1)=8.988693e+002;
n=27; farx(n+1)=8.447851e-001; foe(n+1)=3.931335e+000; krok(n+1)=1.167393e-005; ng(n+1)=3.294191e+002;
n=28; farx(n+1)=8.754698e-001; foe(n+1)=3.597340e+000; krok(n+1)=8.312662e-005; ng(n+1)=3.253411e+002;
n=29; farx(n+1)=7.718510e-001; foe(n+1)=2.330949e+000; krok(n+1)=1.964993e-003; ng(n+1)=1.527024e+002;
n=30; farx(n+1)=7.712187e-001; foe(n+1)=1.998103e+000; krok(n+1)=1.086709e-002; ng(n+1)=1.277242e+002;
n=31; farx(n+1)=6.997344e-001; foe(n+1)=1.809883e+000; krok(n+1)=1.082825e-002; ng(n+1)=1.741579e+002;
n=32; farx(n+1)=6.777526e-001; foe(n+1)=1.546995e+000; krok(n+1)=1.178924e-002; ng(n+1)=4.388211e+002;
n=33; farx(n+1)=6.623225e-001; foe(n+1)=1.491540e+000; krok(n+1)=4.352613e-003; ng(n+1)=3.053912e+002;
n=34; farx(n+1)=5.468772e-001; foe(n+1)=1.289214e+000; krok(n+1)=9.128410e-003; ng(n+1)=2.966193e+002;
n=35; farx(n+1)=5.246327e-001; foe(n+1)=1.182118e+000; krok(n+1)=1.142218e-002; ng(n+1)=3.485684e+002;
n=36; farx(n+1)=5.082316e-001; foe(n+1)=1.009811e+000; krok(n+1)=4.294671e-002; ng(n+1)=1.294180e+002;
n=37; farx(n+1)=5.118215e-001; foe(n+1)=9.396386e-001; krok(n+1)=7.954572e-003; ng(n+1)=2.329531e+002;
n=38; farx(n+1)=4.147588e-001; foe(n+1)=8.606986e-001; krok(n+1)=3.500452e-002; ng(n+1)=8.359179e+001;
n=39; farx(n+1)=3.958432e-001; foe(n+1)=8.398707e-001; krok(n+1)=1.420161e-002; ng(n+1)=1.908195e+002;
n=40; farx(n+1)=3.835401e-001; foe(n+1)=8.270513e-001; krok(n+1)=2.643052e-002; ng(n+1)=3.185509e+001;
n=41; farx(n+1)=3.710036e-001; foe(n+1)=7.671794e-001; krok(n+1)=5.234463e-002; ng(n+1)=9.737847e+001;
n=42; farx(n+1)=3.764147e-001; foe(n+1)=7.463347e-001; krok(n+1)=1.309024e-002; ng(n+1)=1.454871e+002;
n=43; farx(n+1)=3.758515e-001; foe(n+1)=7.301163e-001; krok(n+1)=4.953895e-002; ng(n+1)=7.882055e+001;
n=44; farx(n+1)=3.823393e-001; foe(n+1)=7.066337e-001; krok(n+1)=8.764941e-002; ng(n+1)=1.098786e+002;
n=45; farx(n+1)=3.720429e-001; foe(n+1)=6.859928e-001; krok(n+1)=1.016482e-001; ng(n+1)=1.682024e+001;
n=46; farx(n+1)=3.680856e-001; foe(n+1)=6.772770e-001; krok(n+1)=5.919426e-002; ng(n+1)=1.137341e+002;
n=47; farx(n+1)=3.660340e-001; foe(n+1)=6.681796e-001; krok(n+1)=2.580064e-002; ng(n+1)=8.414150e+001;
n=48; farx(n+1)=3.617998e-001; foe(n+1)=6.619134e-001; krok(n+1)=5.286105e-002; ng(n+1)=2.907205e+001;
n=49; farx(n+1)=3.410099e-001; foe(n+1)=6.408459e-001; krok(n+1)=1.444813e-001; ng(n+1)=6.832449e+001;
n=50; farx(n+1)=3.180581e-001; foe(n+1)=6.228093e-001; krok(n+1)=1.134226e-001; ng(n+1)=8.566339e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
