%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.474006e+002; foe(n+1)=2.572102e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.509476e+002; foe(n+1)=1.552249e+002; krok(n+1)=4.981850e-004; ng(n+1)=1.327672e+003;
n=2; farx(n+1)=6.217105e+001; foe(n+1)=5.980995e+001; krok(n+1)=4.289834e-003; ng(n+1)=6.163830e+002;
n=3; farx(n+1)=6.086723e+001; foe(n+1)=5.783913e+001; krok(n+1)=2.087321e-003; ng(n+1)=2.029429e+002;
n=4; farx(n+1)=5.417480e+001; foe(n+1)=5.666745e+001; krok(n+1)=7.859971e-003; ng(n+1)=7.489484e+001;
n=5; farx(n+1)=2.234102e+001; foe(n+1)=4.203851e+001; krok(n+1)=2.741623e-002; ng(n+1)=1.647213e+002;
n=6; farx(n+1)=1.188839e+001; foe(n+1)=3.269333e+001; krok(n+1)=3.242576e-003; ng(n+1)=6.506045e+002;
n=7; farx(n+1)=1.046566e+001; foe(n+1)=3.002772e+001; krok(n+1)=2.108866e-004; ng(n+1)=1.407803e+003;
n=8; farx(n+1)=1.026318e+001; foe(n+1)=2.768736e+001; krok(n+1)=3.707239e-003; ng(n+1)=1.826922e+003;
n=9; farx(n+1)=1.028269e+001; foe(n+1)=2.586487e+001; krok(n+1)=4.857537e-004; ng(n+1)=2.113900e+003;
n=10; farx(n+1)=1.033874e+001; foe(n+1)=2.515662e+001; krok(n+1)=4.026836e-003; ng(n+1)=1.572132e+003;
n=11; farx(n+1)=9.025904e+000; foe(n+1)=1.828545e+001; krok(n+1)=6.299996e-002; ng(n+1)=1.536774e+003;
n=12; farx(n+1)=8.114946e+000; foe(n+1)=1.537909e+001; krok(n+1)=3.704626e-003; ng(n+1)=7.395355e+002;
n=13; farx(n+1)=7.989259e+000; foe(n+1)=1.472109e+001; krok(n+1)=6.856719e-004; ng(n+1)=5.460521e+002;
n=14; farx(n+1)=6.967677e+000; foe(n+1)=1.371942e+001; krok(n+1)=1.175883e-002; ng(n+1)=2.425081e+002;
n=15; farx(n+1)=4.132827e+000; foe(n+1)=1.068499e+001; krok(n+1)=1.136199e-002; ng(n+1)=3.032691e+002;
n=16; farx(n+1)=2.221216e+000; foe(n+1)=7.195592e+000; krok(n+1)=2.199930e-003; ng(n+1)=6.659728e+002;
n=17; farx(n+1)=1.874663e+000; foe(n+1)=6.545478e+000; krok(n+1)=2.953444e-003; ng(n+1)=4.276215e+002;
n=18; farx(n+1)=1.637481e+000; foe(n+1)=6.031636e+000; krok(n+1)=1.528320e-003; ng(n+1)=2.262070e+002;
n=19; farx(n+1)=1.165043e+000; foe(n+1)=4.542761e+000; krok(n+1)=7.191611e-003; ng(n+1)=2.978539e+002;
n=20; farx(n+1)=1.171119e+000; foe(n+1)=4.087064e+000; krok(n+1)=2.157951e-003; ng(n+1)=7.640683e+002;
n=21; farx(n+1)=1.065100e+000; foe(n+1)=3.658473e+000; krok(n+1)=1.256724e-002; ng(n+1)=2.004888e+002;
n=22; farx(n+1)=8.866439e-001; foe(n+1)=3.044088e+000; krok(n+1)=1.378623e-002; ng(n+1)=2.120194e+002;
n=23; farx(n+1)=7.836855e-001; foe(n+1)=2.448250e+000; krok(n+1)=1.262969e-002; ng(n+1)=3.967195e+002;
n=24; farx(n+1)=7.491023e-001; foe(n+1)=2.245928e+000; krok(n+1)=1.626130e-002; ng(n+1)=2.637668e+002;
n=25; farx(n+1)=6.736278e-001; foe(n+1)=2.059834e+000; krok(n+1)=3.188384e-002; ng(n+1)=1.919959e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=6.769498e-001; foe(n+1)=2.033833e+000; krok(n+1)=1.775984e-005; ng(n+1)=1.667595e+002;
n=27; farx(n+1)=6.722101e-001; foe(n+1)=2.015272e+000; krok(n+1)=1.433605e-004; ng(n+1)=4.444795e+001;
n=28; farx(n+1)=6.707015e-001; foe(n+1)=2.006635e+000; krok(n+1)=8.312662e-005; ng(n+1)=4.155038e+001;
n=29; farx(n+1)=6.723804e-001; foe(n+1)=1.909746e+000; krok(n+1)=2.013864e-003; ng(n+1)=3.804965e+001;
n=30; farx(n+1)=6.379147e-001; foe(n+1)=1.657425e+000; krok(n+1)=2.001452e-002; ng(n+1)=2.138621e+001;
n=31; farx(n+1)=4.956615e-001; foe(n+1)=1.193745e+000; krok(n+1)=2.900728e-002; ng(n+1)=7.993811e+001;
n=32; farx(n+1)=4.709534e-001; foe(n+1)=1.075131e+000; krok(n+1)=9.921120e-003; ng(n+1)=1.145265e+002;
n=33; farx(n+1)=4.645419e-001; foe(n+1)=1.021343e+000; krok(n+1)=3.096185e-003; ng(n+1)=1.888902e+002;
n=34; farx(n+1)=4.439357e-001; foe(n+1)=8.652213e-001; krok(n+1)=4.149438e-002; ng(n+1)=1.054320e+002;
n=35; farx(n+1)=4.398889e-001; foe(n+1)=8.098250e-001; krok(n+1)=7.385876e-003; ng(n+1)=1.313898e+002;
n=36; farx(n+1)=4.364670e-001; foe(n+1)=8.005601e-001; krok(n+1)=1.598692e-002; ng(n+1)=3.950548e+001;
n=37; farx(n+1)=4.162126e-001; foe(n+1)=7.576088e-001; krok(n+1)=3.606523e-002; ng(n+1)=3.879268e+001;
n=38; farx(n+1)=4.081184e-001; foe(n+1)=7.041266e-001; krok(n+1)=5.042484e-002; ng(n+1)=9.573221e+001;
n=39; farx(n+1)=4.129980e-001; foe(n+1)=6.788274e-001; krok(n+1)=2.803148e-002; ng(n+1)=6.566941e+001;
n=40; farx(n+1)=4.024575e-001; foe(n+1)=6.526290e-001; krok(n+1)=6.602029e-002; ng(n+1)=3.552475e+001;
n=41; farx(n+1)=3.945184e-001; foe(n+1)=6.369923e-001; krok(n+1)=2.183177e-002; ng(n+1)=7.071526e+001;
n=42; farx(n+1)=3.901968e-001; foe(n+1)=6.289061e-001; krok(n+1)=2.254943e-002; ng(n+1)=7.422652e+001;
n=43; farx(n+1)=3.892204e-001; foe(n+1)=6.127596e-001; krok(n+1)=7.208292e-002; ng(n+1)=4.101855e+001;
n=44; farx(n+1)=3.878296e-001; foe(n+1)=5.959050e-001; krok(n+1)=1.134226e-001; ng(n+1)=4.305197e+001;
n=45; farx(n+1)=3.975735e-001; foe(n+1)=5.696070e-001; krok(n+1)=1.981558e-001; ng(n+1)=1.790557e+001;
n=46; farx(n+1)=3.967767e-001; foe(n+1)=5.601403e-001; krok(n+1)=6.488875e-002; ng(n+1)=1.984784e+001;
n=47; farx(n+1)=3.946941e-001; foe(n+1)=5.519079e-001; krok(n+1)=7.000904e-002; ng(n+1)=3.189244e+001;
n=48; farx(n+1)=3.914130e-001; foe(n+1)=5.431123e-001; krok(n+1)=3.012318e-002; ng(n+1)=7.506829e+001;
n=49; farx(n+1)=3.937375e-001; foe(n+1)=5.302167e-001; krok(n+1)=2.317569e-001; ng(n+1)=4.493608e+001;
n=50; farx(n+1)=3.919599e-001; foe(n+1)=5.126200e-001; krok(n+1)=8.892157e-002; ng(n+1)=4.007332e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
