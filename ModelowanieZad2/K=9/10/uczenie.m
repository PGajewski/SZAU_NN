%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.703150e+002; foe(n+1)=2.708641e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.635047e+002; foe(n+1)=1.653752e+002; krok(n+1)=5.133350e-004; ng(n+1)=1.390851e+003;
n=2; farx(n+1)=5.191334e+001; foe(n+1)=5.697905e+001; krok(n+1)=4.636017e-003; ng(n+1)=5.979321e+002;
n=3; farx(n+1)=5.073807e+001; foe(n+1)=5.585921e+001; krok(n+1)=1.358387e-003; ng(n+1)=1.643549e+002;
n=4; farx(n+1)=4.350697e+001; foe(n+1)=5.427822e+001; krok(n+1)=7.530795e-003; ng(n+1)=8.125493e+001;
n=5; farx(n+1)=8.006428e+000; foe(n+1)=2.274357e+001; krok(n+1)=1.729594e-002; ng(n+1)=2.168457e+002;
n=6; farx(n+1)=7.526726e+000; foe(n+1)=1.990932e+001; krok(n+1)=3.095959e-004; ng(n+1)=1.163648e+003;
n=7; farx(n+1)=7.431129e+000; foe(n+1)=1.934438e+001; krok(n+1)=4.674935e-004; ng(n+1)=1.278468e+003;
n=8; farx(n+1)=7.709404e+000; foe(n+1)=1.724388e+001; krok(n+1)=2.621411e-003; ng(n+1)=1.370397e+003;
n=9; farx(n+1)=6.723589e+000; foe(n+1)=1.600170e+001; krok(n+1)=1.704362e-002; ng(n+1)=3.739205e+002;
n=10; farx(n+1)=5.698386e+000; foe(n+1)=1.499285e+001; krok(n+1)=8.751130e-003; ng(n+1)=3.127456e+002;
n=11; farx(n+1)=3.293467e+000; foe(n+1)=1.094465e+001; krok(n+1)=1.033570e-002; ng(n+1)=7.631585e+002;
n=12; farx(n+1)=3.032297e+000; foe(n+1)=1.055238e+001; krok(n+1)=2.156451e-003; ng(n+1)=5.357861e+002;
n=13; farx(n+1)=1.953810e+000; foe(n+1)=8.444476e+000; krok(n+1)=2.414071e-002; ng(n+1)=5.455567e+002;
n=14; farx(n+1)=1.622567e+000; foe(n+1)=7.910191e+000; krok(n+1)=1.291963e-003; ng(n+1)=7.435422e+002;
n=15; farx(n+1)=1.273492e+000; foe(n+1)=7.055133e+000; krok(n+1)=5.167850e-003; ng(n+1)=6.361643e+002;
n=16; farx(n+1)=1.052788e+000; foe(n+1)=6.121606e+000; krok(n+1)=1.111520e-002; ng(n+1)=4.223362e+002;
n=17; farx(n+1)=8.813750e-001; foe(n+1)=5.513703e+000; krok(n+1)=5.062842e-003; ng(n+1)=3.835491e+002;
n=18; farx(n+1)=8.044542e-001; foe(n+1)=5.147949e+000; krok(n+1)=5.282547e-003; ng(n+1)=1.086054e+002;
n=19; farx(n+1)=7.665897e-001; foe(n+1)=4.919463e+000; krok(n+1)=3.334617e-003; ng(n+1)=4.693590e+002;
n=20; farx(n+1)=7.598231e-001; foe(n+1)=4.793723e+000; krok(n+1)=1.635770e-003; ng(n+1)=3.385408e+002;
n=21; farx(n+1)=7.553007e-001; foe(n+1)=4.351392e+000; krok(n+1)=1.091588e-002; ng(n+1)=3.585416e+002;
n=22; farx(n+1)=7.682782e-001; foe(n+1)=4.022743e+000; krok(n+1)=6.450159e-003; ng(n+1)=7.840557e+002;
n=23; farx(n+1)=7.519121e-001; foe(n+1)=3.892051e+000; krok(n+1)=2.013418e-003; ng(n+1)=3.879802e+002;
n=24; farx(n+1)=7.689336e-001; foe(n+1)=3.538894e+000; krok(n+1)=9.749342e-003; ng(n+1)=3.782189e+002;
n=25; farx(n+1)=7.745761e-001; foe(n+1)=2.998298e+000; krok(n+1)=2.617232e-002; ng(n+1)=6.252642e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.649712e-001; foe(n+1)=2.950227e+000; krok(n+1)=1.182351e-005; ng(n+1)=3.656315e+002;
n=27; farx(n+1)=7.476262e-001; foe(n+1)=2.899506e+000; krok(n+1)=3.459210e-005; ng(n+1)=2.186726e+002;
n=28; farx(n+1)=7.387663e-001; foe(n+1)=2.864924e+000; krok(n+1)=1.144049e-004; ng(n+1)=9.917416e+001;
n=29; farx(n+1)=6.076235e-001; foe(n+1)=1.831543e+000; krok(n+1)=1.251065e-002; ng(n+1)=5.528932e+001;
n=30; farx(n+1)=5.273352e-001; foe(n+1)=1.437002e+000; krok(n+1)=6.118871e-003; ng(n+1)=1.641529e+002;
n=31; farx(n+1)=4.821179e-001; foe(n+1)=1.237626e+000; krok(n+1)=9.600724e-003; ng(n+1)=2.997063e+002;
n=32; farx(n+1)=4.877122e-001; foe(n+1)=1.143880e+000; krok(n+1)=8.055458e-003; ng(n+1)=1.923985e+002;
n=33; farx(n+1)=4.997316e-001; foe(n+1)=1.111166e+000; krok(n+1)=2.038825e-003; ng(n+1)=2.155283e+002;
n=34; farx(n+1)=5.089869e-001; foe(n+1)=1.052473e+000; krok(n+1)=2.847182e-002; ng(n+1)=9.817633e+001;
n=35; farx(n+1)=4.348318e-001; foe(n+1)=9.726955e-001; krok(n+1)=9.137743e-002; ng(n+1)=4.561892e+001;
n=36; farx(n+1)=4.156884e-001; foe(n+1)=9.531591e-001; krok(n+1)=1.376948e-002; ng(n+1)=7.929403e+001;
n=37; farx(n+1)=3.895714e-001; foe(n+1)=9.119030e-001; krok(n+1)=2.107682e-002; ng(n+1)=1.628007e+002;
n=38; farx(n+1)=3.785006e-001; foe(n+1)=8.918042e-001; krok(n+1)=1.394089e-002; ng(n+1)=7.536187e+001;
n=39; farx(n+1)=3.602457e-001; foe(n+1)=8.452066e-001; krok(n+1)=6.287977e-002; ng(n+1)=6.904357e+001;
n=40; farx(n+1)=3.629637e-001; foe(n+1)=8.169164e-001; krok(n+1)=6.813219e-002; ng(n+1)=2.756506e+001;
n=41; farx(n+1)=3.660292e-001; foe(n+1)=8.054104e-001; krok(n+1)=1.121665e-002; ng(n+1)=1.259188e+002;
n=42; farx(n+1)=3.688462e-001; foe(n+1)=7.971120e-001; krok(n+1)=2.925850e-002; ng(n+1)=2.203259e+001;
n=43; farx(n+1)=3.697006e-001; foe(n+1)=7.776921e-001; krok(n+1)=6.700045e-002; ng(n+1)=5.528986e+001;
n=44; farx(n+1)=3.594957e-001; foe(n+1)=7.443417e-001; krok(n+1)=7.119534e-002; ng(n+1)=1.149369e+002;
n=45; farx(n+1)=3.472618e-001; foe(n+1)=7.210516e-001; krok(n+1)=8.430727e-002; ng(n+1)=7.460738e+001;
n=46; farx(n+1)=3.475970e-001; foe(n+1)=7.177960e-001; krok(n+1)=2.001452e-002; ng(n+1)=2.549588e+001;
n=47; farx(n+1)=3.463103e-001; foe(n+1)=6.869042e-001; krok(n+1)=6.826594e-002; ng(n+1)=6.345578e+001;
n=48; farx(n+1)=3.449043e-001; foe(n+1)=6.815640e-001; krok(n+1)=3.975906e-002; ng(n+1)=2.689096e+001;
n=49; farx(n+1)=3.389357e-001; foe(n+1)=6.723552e-001; krok(n+1)=6.444366e-002; ng(n+1)=3.096865e+001;
n=50; farx(n+1)=3.293524e-001; foe(n+1)=6.569163e-001; krok(n+1)=3.481722e-002; ng(n+1)=9.632640e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
