%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.809463e+002; foe(n+1)=2.928650e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.685749e+002; foe(n+1)=1.763544e+002; krok(n+1)=4.773265e-004; ng(n+1)=1.009042e+003;
n=2; farx(n+1)=5.431181e+001; foe(n+1)=5.825419e+001; krok(n+1)=1.360047e-002; ng(n+1)=3.437356e+002;
n=3; farx(n+1)=5.279777e+001; foe(n+1)=5.626817e+001; krok(n+1)=1.020808e-003; ng(n+1)=2.108790e+002;
n=4; farx(n+1)=5.135720e+001; foe(n+1)=5.572547e+001; krok(n+1)=9.589643e-004; ng(n+1)=1.096350e+002;
n=5; farx(n+1)=9.554209e+000; foe(n+1)=3.065942e+001; krok(n+1)=6.517118e-002; ng(n+1)=7.370382e+001;
n=6; farx(n+1)=6.849160e+000; foe(n+1)=2.662423e+001; krok(n+1)=8.336543e-004; ng(n+1)=1.120194e+003;
n=7; farx(n+1)=6.483749e+000; foe(n+1)=2.388933e+001; krok(n+1)=3.625910e-003; ng(n+1)=1.876138e+003;
n=8; farx(n+1)=6.078676e+000; foe(n+1)=2.138228e+001; krok(n+1)=2.652002e-004; ng(n+1)=1.542148e+003;
n=9; farx(n+1)=6.098525e+000; foe(n+1)=1.907373e+001; krok(n+1)=6.071802e-003; ng(n+1)=1.526517e+003;
n=10; farx(n+1)=6.088385e+000; foe(n+1)=1.769586e+001; krok(n+1)=4.579955e-003; ng(n+1)=6.168414e+002;
n=11; farx(n+1)=5.932819e+000; foe(n+1)=1.659920e+001; krok(n+1)=1.899071e-002; ng(n+1)=1.689926e+002;
n=12; farx(n+1)=5.846672e+000; foe(n+1)=1.458632e+001; krok(n+1)=1.634950e-002; ng(n+1)=1.891170e+002;
n=13; farx(n+1)=5.639940e+000; foe(n+1)=1.380983e+001; krok(n+1)=8.625805e-003; ng(n+1)=1.806228e+002;
n=14; farx(n+1)=5.571962e+000; foe(n+1)=1.328616e+001; krok(n+1)=3.846158e-003; ng(n+1)=2.000777e+002;
n=15; farx(n+1)=5.367386e+000; foe(n+1)=1.232488e+001; krok(n+1)=5.269205e-003; ng(n+1)=2.986175e+002;
n=16; farx(n+1)=4.914367e+000; foe(n+1)=1.159101e+001; krok(n+1)=1.913246e-002; ng(n+1)=1.949355e+002;
n=17; farx(n+1)=3.068907e+000; foe(n+1)=9.500309e+000; krok(n+1)=8.205256e-002; ng(n+1)=2.293838e+002;
n=18; farx(n+1)=2.408061e+000; foe(n+1)=7.917744e+000; krok(n+1)=1.779884e-002; ng(n+1)=5.361282e+002;
n=19; farx(n+1)=2.197750e+000; foe(n+1)=7.365600e+000; krok(n+1)=8.569436e-002; ng(n+1)=4.387182e+002;
n=20; farx(n+1)=2.103419e+000; foe(n+1)=6.950962e+000; krok(n+1)=3.323730e-002; ng(n+1)=4.302533e+002;
n=21; farx(n+1)=1.893881e+000; foe(n+1)=6.531047e+000; krok(n+1)=7.694633e-002; ng(n+1)=1.529666e+002;
n=22; farx(n+1)=1.314414e+000; foe(n+1)=5.400317e+000; krok(n+1)=6.013962e-002; ng(n+1)=6.902710e+001;
n=23; farx(n+1)=1.226470e+000; foe(n+1)=5.101173e+000; krok(n+1)=8.452792e-002; ng(n+1)=2.670619e+002;
n=24; farx(n+1)=1.193205e+000; foe(n+1)=4.643741e+000; krok(n+1)=2.144024e-001; ng(n+1)=1.469552e+002;
n=25; farx(n+1)=1.229426e+000; foe(n+1)=4.189945e+000; krok(n+1)=3.200292e-001; ng(n+1)=1.620021e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.227267e+000; foe(n+1)=4.139440e+000; krok(n+1)=2.077412e-005; ng(n+1)=1.631498e+002;
n=27; farx(n+1)=1.220625e+000; foe(n+1)=4.125566e+000; krok(n+1)=7.813213e-005; ng(n+1)=5.196611e+001;
n=28; farx(n+1)=1.227323e+000; foe(n+1)=3.701971e+000; krok(n+1)=3.237896e-003; ng(n+1)=4.385283e+001;
n=29; farx(n+1)=1.198307e+000; foe(n+1)=3.648153e+000; krok(n+1)=4.251583e-004; ng(n+1)=7.341574e+001;
n=30; farx(n+1)=1.128568e+000; foe(n+1)=3.336377e+000; krok(n+1)=8.324349e-003; ng(n+1)=8.252687e+001;
n=31; farx(n+1)=1.084739e+000; foe(n+1)=2.969410e+000; krok(n+1)=1.569591e-002; ng(n+1)=2.335171e+002;
n=32; farx(n+1)=1.006701e+000; foe(n+1)=2.696792e+000; krok(n+1)=2.991958e-002; ng(n+1)=1.303623e+002;
n=33; farx(n+1)=9.864974e-001; foe(n+1)=2.623406e+000; krok(n+1)=7.144846e-003; ng(n+1)=4.324505e+001;
n=34; farx(n+1)=9.693512e-001; foe(n+1)=2.447646e+000; krok(n+1)=1.660195e-002; ng(n+1)=1.304681e+002;
n=35; farx(n+1)=9.424018e-001; foe(n+1)=2.323131e+000; krok(n+1)=1.351485e-002; ng(n+1)=1.074639e+002;
n=36; farx(n+1)=8.741347e-001; foe(n+1)=2.151303e+000; krok(n+1)=5.180633e-002; ng(n+1)=7.529857e+001;
n=37; farx(n+1)=7.949788e-001; foe(n+1)=1.993529e+000; krok(n+1)=2.067140e-002; ng(n+1)=8.453639e+001;
n=38; farx(n+1)=7.874166e-001; foe(n+1)=1.942606e+000; krok(n+1)=1.462925e-002; ng(n+1)=1.757877e+002;
n=39; farx(n+1)=7.259011e-001; foe(n+1)=1.827255e+000; krok(n+1)=4.382471e-002; ng(n+1)=8.361763e+001;
n=40; farx(n+1)=6.502512e-001; foe(n+1)=1.641724e+000; krok(n+1)=4.799811e-002; ng(n+1)=5.749315e+001;
n=41; farx(n+1)=5.698812e-001; foe(n+1)=1.445574e+000; krok(n+1)=3.251545e-002; ng(n+1)=1.321425e+002;
n=42; farx(n+1)=5.484440e-001; foe(n+1)=1.368949e+000; krok(n+1)=9.464413e-002; ng(n+1)=6.071808e+001;
n=43; farx(n+1)=5.187475e-001; foe(n+1)=1.308813e+000; krok(n+1)=9.759878e-002; ng(n+1)=9.046660e+001;
n=44; farx(n+1)=5.360559e-001; foe(n+1)=1.209916e+000; krok(n+1)=1.952188e-001; ng(n+1)=4.624263e+001;
n=45; farx(n+1)=5.241725e-001; foe(n+1)=1.125078e+000; krok(n+1)=1.619492e-001; ng(n+1)=3.404023e+001;
n=46; farx(n+1)=5.121265e-001; foe(n+1)=1.088848e+000; krok(n+1)=1.310538e-001; ng(n+1)=9.543945e+001;
n=47; farx(n+1)=4.902568e-001; foe(n+1)=1.026533e+000; krok(n+1)=2.833785e-001; ng(n+1)=5.413826e+001;
n=48; farx(n+1)=4.510582e-001; foe(n+1)=9.248342e-001; krok(n+1)=6.855549e-001; ng(n+1)=1.171180e+002;
n=49; farx(n+1)=4.868637e-001; foe(n+1)=8.953856e-001; krok(n+1)=2.056099e-001; ng(n+1)=4.209508e+001;
n=50; farx(n+1)=4.404111e-001; foe(n+1)=8.117118e-001; krok(n+1)=6.762233e-001; ng(n+1)=4.772548e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
