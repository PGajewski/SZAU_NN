%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.803026e+002; foe(n+1)=2.930230e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.621412e+002; foe(n+1)=1.697899e+002; krok(n+1)=4.723236e-004; ng(n+1)=1.106881e+003;
n=2; farx(n+1)=5.315860e+001; foe(n+1)=6.186659e+001; krok(n+1)=9.030079e-003; ng(n+1)=2.923108e+002;
n=3; farx(n+1)=4.782129e+001; foe(n+1)=5.318465e+001; krok(n+1)=3.426502e-003; ng(n+1)=3.050006e+002;
n=4; farx(n+1)=4.686851e+001; foe(n+1)=5.235112e+001; krok(n+1)=2.298967e-003; ng(n+1)=8.250174e+001;
n=5; farx(n+1)=2.094410e+001; foe(n+1)=3.874975e+001; krok(n+1)=6.482479e-002; ng(n+1)=7.457743e+001;
n=6; farx(n+1)=1.136265e+001; foe(n+1)=2.688179e+001; krok(n+1)=2.883948e-003; ng(n+1)=4.041990e+002;
n=7; farx(n+1)=1.038412e+001; foe(n+1)=2.403565e+001; krok(n+1)=1.888305e-004; ng(n+1)=7.143463e+002;
n=8; farx(n+1)=9.830553e+000; foe(n+1)=2.317698e+001; krok(n+1)=3.176507e-003; ng(n+1)=6.422943e+002;
n=9; farx(n+1)=1.142755e+001; foe(n+1)=2.145125e+001; krok(n+1)=1.278106e-002; ng(n+1)=6.113839e+002;
n=10; farx(n+1)=1.073670e+001; foe(n+1)=2.087795e+001; krok(n+1)=1.448480e-002; ng(n+1)=9.887187e+001;
n=11; farx(n+1)=1.043784e+001; foe(n+1)=1.982453e+001; krok(n+1)=1.885691e-002; ng(n+1)=2.392702e+002;
n=12; farx(n+1)=9.228207e+000; foe(n+1)=1.773347e+001; krok(n+1)=2.570124e-002; ng(n+1)=2.243074e+002;
n=13; farx(n+1)=8.983303e+000; foe(n+1)=1.718636e+001; krok(n+1)=1.810600e-003; ng(n+1)=5.032037e+002;
n=14; farx(n+1)=7.066922e+000; foe(n+1)=1.584063e+001; krok(n+1)=7.088910e-003; ng(n+1)=5.061186e+002;
n=15; farx(n+1)=6.111200e+000; foe(n+1)=1.486932e+001; krok(n+1)=2.586841e-003; ng(n+1)=8.180924e+002;
n=16; farx(n+1)=5.431934e+000; foe(n+1)=1.440093e+001; krok(n+1)=4.210497e-003; ng(n+1)=8.654726e+002;
n=17; farx(n+1)=5.050763e+000; foe(n+1)=1.406862e+001; krok(n+1)=4.150488e-003; ng(n+1)=9.489060e+002;
n=18; farx(n+1)=4.874553e+000; foe(n+1)=1.359787e+001; krok(n+1)=9.358895e-003; ng(n+1)=9.112122e+002;
n=19; farx(n+1)=4.880675e+000; foe(n+1)=1.288160e+001; krok(n+1)=4.445667e-003; ng(n+1)=6.757901e+002;
n=20; farx(n+1)=4.252272e+000; foe(n+1)=1.180806e+001; krok(n+1)=2.008299e-002; ng(n+1)=3.420924e+002;
n=21; farx(n+1)=3.591861e+000; foe(n+1)=1.076465e+001; krok(n+1)=2.592196e-002; ng(n+1)=3.226669e+002;
n=22; farx(n+1)=2.801480e+000; foe(n+1)=9.720995e+000; krok(n+1)=3.123706e-002; ng(n+1)=1.926564e+002;
n=23; farx(n+1)=2.363804e+000; foe(n+1)=7.814305e+000; krok(n+1)=4.486659e-002; ng(n+1)=2.071379e+002;
n=24; farx(n+1)=1.668603e+000; foe(n+1)=6.339297e+000; krok(n+1)=8.219922e-002; ng(n+1)=2.908337e+002;
n=25; farx(n+1)=1.178750e+000; foe(n+1)=5.534038e+000; krok(n+1)=4.828142e-002; ng(n+1)=5.082053e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.180979e+000; foe(n+1)=5.525205e+000; krok(n+1)=1.684728e-005; ng(n+1)=7.390600e+001;
n=27; farx(n+1)=1.186863e+000; foe(n+1)=5.511986e+000; krok(n+1)=7.332789e-005; ng(n+1)=5.067927e+001;
n=28; farx(n+1)=1.201697e+000; foe(n+1)=5.478896e+000; krok(n+1)=1.984325e-004; ng(n+1)=3.874273e+001;
n=29; farx(n+1)=1.200989e+000; foe(n+1)=4.828563e+000; krok(n+1)=6.832794e-003; ng(n+1)=4.158629e+001;
n=30; farx(n+1)=1.148076e+000; foe(n+1)=4.393628e+000; krok(n+1)=8.625805e-003; ng(n+1)=1.630015e+002;
n=31; farx(n+1)=1.257288e+000; foe(n+1)=3.595306e+000; krok(n+1)=3.550402e-003; ng(n+1)=4.782461e+002;
n=32; farx(n+1)=1.212838e+000; foe(n+1)=3.033338e+000; krok(n+1)=7.662549e-003; ng(n+1)=2.010611e+002;
n=33; farx(n+1)=1.106369e+000; foe(n+1)=2.560675e+000; krok(n+1)=3.595838e-003; ng(n+1)=3.689264e+002;
n=34; farx(n+1)=1.052697e+000; foe(n+1)=2.278193e+000; krok(n+1)=1.121665e-002; ng(n+1)=2.070393e+002;
n=35; farx(n+1)=9.609861e-001; foe(n+1)=2.001333e+000; krok(n+1)=2.067140e-002; ng(n+1)=3.236108e+002;
n=36; farx(n+1)=9.122024e-001; foe(n+1)=1.864432e+000; krok(n+1)=6.324208e-003; ng(n+1)=3.108375e+002;
n=37; farx(n+1)=7.716202e-001; foe(n+1)=1.619897e+000; krok(n+1)=2.865057e-002; ng(n+1)=1.865374e+002;
n=38; farx(n+1)=7.054969e-001; foe(n+1)=1.501126e+000; krok(n+1)=3.234070e-002; ng(n+1)=1.959003e+002;
n=39; farx(n+1)=5.955619e-001; foe(n+1)=1.348493e+000; krok(n+1)=2.847603e-002; ng(n+1)=1.103119e+002;
n=40; farx(n+1)=5.235735e-001; foe(n+1)=1.194557e+000; krok(n+1)=2.946581e-002; ng(n+1)=1.383734e+002;
n=41; farx(n+1)=5.104881e-001; foe(n+1)=1.064762e+000; krok(n+1)=1.204927e-001; ng(n+1)=7.418152e+001;
n=42; farx(n+1)=5.325090e-001; foe(n+1)=9.950734e-001; krok(n+1)=1.181740e-001; ng(n+1)=1.039873e+002;
n=43; farx(n+1)=5.238416e-001; foe(n+1)=8.979234e-001; krok(n+1)=4.187571e-001; ng(n+1)=3.567158e+001;
n=44; farx(n+1)=4.525368e-001; foe(n+1)=8.397044e-001; krok(n+1)=1.307960e-001; ng(n+1)=1.095242e+002;
n=45; farx(n+1)=4.028926e-001; foe(n+1)=8.038638e-001; krok(n+1)=2.800362e-001; ng(n+1)=4.383985e+001;
n=46; farx(n+1)=4.032531e-001; foe(n+1)=7.606484e-001; krok(n+1)=2.393567e-001; ng(n+1)=4.105857e+001;
n=47; farx(n+1)=4.022409e-001; foe(n+1)=7.320695e-001; krok(n+1)=4.770341e-001; ng(n+1)=3.471483e+001;
n=48; farx(n+1)=3.927768e-001; foe(n+1)=6.906949e-001; krok(n+1)=1.214664e-001; ng(n+1)=1.038023e+002;
n=49; farx(n+1)=3.809147e-001; foe(n+1)=6.731334e-001; krok(n+1)=1.317940e-001; ng(n+1)=3.254142e+001;
n=50; farx(n+1)=4.011011e-001; foe(n+1)=6.424719e-001; krok(n+1)=6.899614e-001; ng(n+1)=6.160454e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
