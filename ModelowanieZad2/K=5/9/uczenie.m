%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.018787e+002; foe(n+1)=3.094685e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.671471e+002; foe(n+1)=1.704645e+002; krok(n+1)=4.863834e-004; ng(n+1)=1.091212e+003;
n=2; farx(n+1)=5.811391e+001; foe(n+1)=5.796171e+001; krok(n+1)=8.634154e-003; ng(n+1)=3.682466e+002;
n=3; farx(n+1)=5.603558e+001; foe(n+1)=5.535787e+001; krok(n+1)=1.776276e-003; ng(n+1)=1.960565e+002;
n=4; farx(n+1)=5.078164e+001; foe(n+1)=5.441380e+001; krok(n+1)=6.081190e-003; ng(n+1)=6.663959e+001;
n=5; farx(n+1)=1.435347e+001; foe(n+1)=3.347441e+001; krok(n+1)=1.825682e-002; ng(n+1)=1.341889e+002;
n=6; farx(n+1)=1.056733e+001; foe(n+1)=2.721673e+001; krok(n+1)=1.882699e-003; ng(n+1)=7.080831e+002;
n=7; farx(n+1)=1.136307e+001; foe(n+1)=2.345617e+001; krok(n+1)=2.739044e-003; ng(n+1)=1.248228e+003;
n=8; farx(n+1)=1.131216e+001; foe(n+1)=2.283082e+001; krok(n+1)=3.559311e-004; ng(n+1)=6.128497e+002;
n=9; farx(n+1)=1.122705e+001; foe(n+1)=2.096635e+001; krok(n+1)=1.025657e-002; ng(n+1)=5.313853e+002;
n=10; farx(n+1)=1.046083e+001; foe(n+1)=1.994134e+001; krok(n+1)=1.703305e-002; ng(n+1)=1.070759e+002;
n=11; farx(n+1)=9.842791e+000; foe(n+1)=1.878029e+001; krok(n+1)=1.076348e-002; ng(n+1)=2.626089e+002;
n=12; farx(n+1)=9.540227e+000; foe(n+1)=1.825458e+001; krok(n+1)=4.508154e-003; ng(n+1)=1.842684e+002;
n=13; farx(n+1)=8.625971e+000; foe(n+1)=1.739822e+001; krok(n+1)=2.113198e-002; ng(n+1)=1.748125e+002;
n=14; farx(n+1)=7.507438e+000; foe(n+1)=1.620958e+001; krok(n+1)=7.937116e-003; ng(n+1)=2.535996e+002;
n=15; farx(n+1)=7.039157e+000; foe(n+1)=1.581718e+001; krok(n+1)=4.150488e-003; ng(n+1)=1.809493e+002;
n=16; farx(n+1)=6.028780e+000; foe(n+1)=1.426979e+001; krok(n+1)=2.243356e-002; ng(n+1)=2.510702e+002;
n=17; farx(n+1)=5.788490e+000; foe(n+1)=1.396650e+001; krok(n+1)=2.004465e-003; ng(n+1)=2.095586e+002;
n=18; farx(n+1)=5.542419e+000; foe(n+1)=1.356753e+001; krok(n+1)=1.715934e-002; ng(n+1)=3.318199e+002;
n=19; farx(n+1)=4.907995e+000; foe(n+1)=1.143076e+001; krok(n+1)=2.008899e-002; ng(n+1)=3.898842e+002;
n=20; farx(n+1)=3.879878e+000; foe(n+1)=1.013819e+001; krok(n+1)=2.191235e-002; ng(n+1)=3.680069e+002;
n=21; farx(n+1)=3.347607e+000; foe(n+1)=9.528863e+000; krok(n+1)=1.390246e-002; ng(n+1)=1.859747e+002;
n=22; farx(n+1)=2.051771e+000; foe(n+1)=7.567917e+000; krok(n+1)=1.333847e-002; ng(n+1)=1.740719e+002;
n=23; farx(n+1)=1.505782e+000; foe(n+1)=6.353406e+000; krok(n+1)=2.729179e-002; ng(n+1)=3.493116e+002;
n=24; farx(n+1)=1.171176e+000; foe(n+1)=5.527801e+000; krok(n+1)=3.153338e-002; ng(n+1)=6.191143e+002;
n=25; farx(n+1)=1.061393e+000; foe(n+1)=4.902510e+000; krok(n+1)=7.071636e-002; ng(n+1)=4.417140e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.048925e+000; foe(n+1)=4.876482e+000; krok(n+1)=4.449139e-005; ng(n+1)=1.030351e+002;
n=27; farx(n+1)=1.035376e+000; foe(n+1)=4.837797e+000; krok(n+1)=5.581911e-005; ng(n+1)=1.180693e+002;
n=28; farx(n+1)=8.430963e-001; foe(n+1)=3.390171e+000; krok(n+1)=1.031514e-003; ng(n+1)=1.332991e+002;
n=29; farx(n+1)=7.640304e-001; foe(n+1)=2.909482e+000; krok(n+1)=2.826636e-004; ng(n+1)=2.499612e+002;
n=30; farx(n+1)=7.336648e-001; foe(n+1)=2.387275e+000; krok(n+1)=4.008930e-003; ng(n+1)=3.226521e+002;
n=31; farx(n+1)=7.068668e-001; foe(n+1)=1.660217e+000; krok(n+1)=8.174750e-003; ng(n+1)=5.211884e+002;
n=32; farx(n+1)=6.866400e-001; foe(n+1)=1.533552e+000; krok(n+1)=5.997467e-003; ng(n+1)=2.459985e+002;
n=33; farx(n+1)=6.293384e-001; foe(n+1)=1.319611e+000; krok(n+1)=2.280046e-002; ng(n+1)=1.653751e+002;
n=34; farx(n+1)=6.063741e-001; foe(n+1)=1.273505e+000; krok(n+1)=5.478088e-003; ng(n+1)=1.129702e+002;
n=35; farx(n+1)=5.334552e-001; foe(n+1)=1.189762e+000; krok(n+1)=4.086147e-002; ng(n+1)=2.192925e+002;
n=36; farx(n+1)=5.221785e-001; foe(n+1)=1.144983e+000; krok(n+1)=3.086502e-002; ng(n+1)=7.771699e+001;
n=37; farx(n+1)=5.159858e-001; foe(n+1)=1.097395e+000; krok(n+1)=4.446078e-002; ng(n+1)=1.463364e+002;
n=38; farx(n+1)=4.899809e-001; foe(n+1)=1.071156e+000; krok(n+1)=4.175576e-002; ng(n+1)=6.977370e+001;
n=39; farx(n+1)=4.509631e-001; foe(n+1)=1.020562e+000; krok(n+1)=1.082372e-001; ng(n+1)=5.047432e+001;
n=40; farx(n+1)=3.897132e-001; foe(n+1)=9.419326e-001; krok(n+1)=1.115271e-001; ng(n+1)=9.060458e+001;
n=41; farx(n+1)=3.664733e-001; foe(n+1)=8.875762e-001; krok(n+1)=6.024636e-002; ng(n+1)=5.669025e+001;
n=42; farx(n+1)=3.620395e-001; foe(n+1)=8.511418e-001; krok(n+1)=1.189066e-001; ng(n+1)=7.943843e+001;
n=43; farx(n+1)=3.527043e-001; foe(n+1)=8.025600e-001; krok(n+1)=1.096481e-001; ng(n+1)=1.439810e+002;
n=44; farx(n+1)=3.485687e-001; foe(n+1)=7.784750e-001; krok(n+1)=9.809225e-002; ng(n+1)=5.581346e+001;
n=45; farx(n+1)=3.313179e-001; foe(n+1)=7.427014e-001; krok(n+1)=2.543102e-001; ng(n+1)=5.330436e+001;
n=46; farx(n+1)=3.546022e-001; foe(n+1)=7.236047e-001; krok(n+1)=2.798246e-001; ng(n+1)=4.721937e+001;
n=47; farx(n+1)=3.417342e-001; foe(n+1)=7.130708e-001; krok(n+1)=4.065930e-001; ng(n+1)=5.301065e+001;
n=48; farx(n+1)=3.368154e-001; foe(n+1)=6.980880e-001; krok(n+1)=3.449807e-001; ng(n+1)=1.858665e+001;
n=49; farx(n+1)=3.286357e-001; foe(n+1)=6.833383e-001; krok(n+1)=2.442288e-001; ng(n+1)=7.247808e+001;
n=50; farx(n+1)=3.278667e-001; foe(n+1)=6.748765e-001; krok(n+1)=3.155153e-001; ng(n+1)=2.187755e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
