%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.983712e+002; foe(n+1)=2.994292e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.695122e+002; foe(n+1)=1.701178e+002; krok(n+1)=4.927090e-004; ng(n+1)=8.347931e+002;
n=2; farx(n+1)=5.876312e+001; foe(n+1)=6.218691e+001; krok(n+1)=9.458902e-003; ng(n+1)=2.181557e+002;
n=3; farx(n+1)=5.457625e+001; foe(n+1)=5.629418e+001; krok(n+1)=1.256985e-003; ng(n+1)=3.259729e+002;
n=4; farx(n+1)=5.384100e+001; foe(n+1)=5.400408e+001; krok(n+1)=2.972972e-003; ng(n+1)=2.390127e+002;
n=5; farx(n+1)=2.245688e+001; foe(n+1)=4.161539e+001; krok(n+1)=3.962827e-002; ng(n+1)=8.671688e+001;
n=6; farx(n+1)=1.323516e+001; foe(n+1)=3.361253e+001; krok(n+1)=4.150488e-003; ng(n+1)=7.713872e+002;
n=7; farx(n+1)=1.291511e+001; foe(n+1)=3.141611e+001; krok(n+1)=6.421814e-004; ng(n+1)=1.172389e+003;
n=8; farx(n+1)=1.331205e+001; foe(n+1)=3.118524e+001; krok(n+1)=3.334367e-003; ng(n+1)=9.211144e+002;
n=9; farx(n+1)=1.693675e+001; foe(n+1)=2.854300e+001; krok(n+1)=3.080352e-002; ng(n+1)=8.859035e+002;
n=10; farx(n+1)=1.773771e+001; foe(n+1)=2.720515e+001; krok(n+1)=7.088910e-003; ng(n+1)=3.329591e+002;
n=11; farx(n+1)=1.838879e+001; foe(n+1)=2.530500e+001; krok(n+1)=1.012183e-002; ng(n+1)=1.707840e+002;
n=12; farx(n+1)=1.797667e+001; foe(n+1)=2.446867e+001; krok(n+1)=4.473296e-003; ng(n+1)=2.427685e+002;
n=13; farx(n+1)=1.743030e+001; foe(n+1)=2.377909e+001; krok(n+1)=9.267996e-003; ng(n+1)=1.326216e+002;
n=14; farx(n+1)=1.456065e+001; foe(n+1)=2.124869e+001; krok(n+1)=1.308616e-002; ng(n+1)=2.259903e+002;
n=15; farx(n+1)=1.280016e+001; foe(n+1)=2.009844e+001; krok(n+1)=5.557598e-003; ng(n+1)=3.264544e+002;
n=16; farx(n+1)=1.011132e+001; foe(n+1)=1.797540e+001; krok(n+1)=1.165759e-002; ng(n+1)=4.301723e+002;
n=17; farx(n+1)=8.356114e+000; foe(n+1)=1.651403e+001; krok(n+1)=6.543079e-003; ng(n+1)=5.929009e+002;
n=18; farx(n+1)=6.427642e+000; foe(n+1)=1.439256e+001; krok(n+1)=5.906887e-003; ng(n+1)=6.554248e+002;
n=19; farx(n+1)=4.399235e+000; foe(n+1)=1.273416e+001; krok(n+1)=1.702114e-002; ng(n+1)=1.630735e+002;
n=20; farx(n+1)=3.268950e+000; foe(n+1)=1.150226e+001; krok(n+1)=2.946581e-002; ng(n+1)=7.242764e+002;
n=21; farx(n+1)=2.319626e+000; foe(n+1)=9.834324e+000; krok(n+1)=3.222183e-002; ng(n+1)=6.460418e+002;
n=22; farx(n+1)=1.673041e+000; foe(n+1)=8.570461e+000; krok(n+1)=1.259999e-001; ng(n+1)=1.685192e+002;
n=23; farx(n+1)=9.891535e-001; foe(n+1)=5.929295e+000; krok(n+1)=5.883374e-002; ng(n+1)=5.346149e+002;
n=24; farx(n+1)=8.848944e-001; foe(n+1)=5.221470e+000; krok(n+1)=3.618094e-002; ng(n+1)=4.899086e+002;
n=25; farx(n+1)=8.483343e-001; foe(n+1)=4.366150e+000; krok(n+1)=1.116954e-001; ng(n+1)=5.902657e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.415079e-001; foe(n+1)=3.959099e+000; krok(n+1)=5.062902e-006; ng(n+1)=8.704854e+002;
n=27; farx(n+1)=8.399393e-001; foe(n+1)=3.935118e+000; krok(n+1)=2.992557e-005; ng(n+1)=1.189948e+002;
n=28; farx(n+1)=8.056660e-001; foe(n+1)=3.742199e+000; krok(n+1)=5.580127e-004; ng(n+1)=8.035624e+001;
n=29; farx(n+1)=8.350580e-001; foe(n+1)=3.584033e+000; krok(n+1)=4.191618e-003; ng(n+1)=3.283079e+001;
n=30; farx(n+1)=8.750617e-001; foe(n+1)=3.015854e+000; krok(n+1)=1.100811e-003; ng(n+1)=1.599823e+002;
n=31; farx(n+1)=8.888272e-001; foe(n+1)=2.848918e+000; krok(n+1)=3.442236e-003; ng(n+1)=4.394358e+002;
n=32; farx(n+1)=9.084199e-001; foe(n+1)=2.682765e+000; krok(n+1)=6.764823e-003; ng(n+1)=4.504264e+002;
n=33; farx(n+1)=9.566255e-001; foe(n+1)=2.283258e+000; krok(n+1)=5.478088e-003; ng(n+1)=3.700742e+002;
n=34; farx(n+1)=9.141413e-001; foe(n+1)=2.013122e+000; krok(n+1)=4.312259e-002; ng(n+1)=2.753278e+002;
n=35; farx(n+1)=8.980752e-001; foe(n+1)=1.991790e+000; krok(n+1)=7.119007e-003; ng(n+1)=1.894566e+002;
n=36; farx(n+1)=8.778531e-001; foe(n+1)=1.925675e+000; krok(n+1)=4.215364e-002; ng(n+1)=1.444718e+002;
n=37; farx(n+1)=7.702342e-001; foe(n+1)=1.800218e+000; krok(n+1)=6.079450e-002; ng(n+1)=2.043088e+002;
n=38; farx(n+1)=7.462963e-001; foe(n+1)=1.694961e+000; krok(n+1)=3.450322e-002; ng(n+1)=1.943573e+002;
n=39; farx(n+1)=7.040935e-001; foe(n+1)=1.532691e+000; krok(n+1)=4.256083e-002; ng(n+1)=2.467006e+002;
n=40; farx(n+1)=6.909810e-001; foe(n+1)=1.350101e+000; krok(n+1)=1.706813e-002; ng(n+1)=5.295966e+002;
n=41; farx(n+1)=7.028273e-001; foe(n+1)=1.218309e+000; krok(n+1)=1.019447e-002; ng(n+1)=5.462328e+002;
n=42; farx(n+1)=6.545304e-001; foe(n+1)=1.094817e+000; krok(n+1)=6.306675e-002; ng(n+1)=3.348869e+002;
n=43; farx(n+1)=6.179306e-001; foe(n+1)=1.060722e+000; krok(n+1)=2.840322e-002; ng(n+1)=1.235526e+002;
n=44; farx(n+1)=4.708716e-001; foe(n+1)=9.350736e-001; krok(n+1)=1.500061e-001; ng(n+1)=1.786112e+002;
n=45; farx(n+1)=4.374986e-001; foe(n+1)=8.564295e-001; krok(n+1)=2.301336e-001; ng(n+1)=1.686054e+002;
n=46; farx(n+1)=4.047924e-001; foe(n+1)=8.244871e-001; krok(n+1)=4.784719e-002; ng(n+1)=1.075519e+002;
n=47; farx(n+1)=3.385276e-001; foe(n+1)=7.755106e-001; krok(n+1)=6.776371e-001; ng(n+1)=5.913621e+001;
n=48; farx(n+1)=3.207760e-001; foe(n+1)=7.384427e-001; krok(n+1)=2.538171e-001; ng(n+1)=4.335783e+001;
n=49; farx(n+1)=3.073498e-001; foe(n+1)=7.023683e-001; krok(n+1)=2.672252e-001; ng(n+1)=1.029305e+002;
n=50; farx(n+1)=3.201233e-001; foe(n+1)=6.704792e-001; krok(n+1)=2.343012e-001; ng(n+1)=1.312874e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
