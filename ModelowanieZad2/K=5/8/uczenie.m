%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.179900e+002; foe(n+1)=3.123361e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.783722e+002; foe(n+1)=1.745383e+002; krok(n+1)=4.927090e-004; ng(n+1)=1.115010e+003;
n=2; farx(n+1)=5.891543e+001; foe(n+1)=5.538501e+001; krok(n+1)=1.567008e-002; ng(n+1)=2.580344e+002;
n=3; farx(n+1)=5.693502e+001; foe(n+1)=5.384185e+001; krok(n+1)=2.303305e-003; ng(n+1)=1.263086e+002;
n=4; farx(n+1)=5.228797e+001; foe(n+1)=5.238100e+001; krok(n+1)=4.597934e-003; ng(n+1)=1.010366e+002;
n=5; farx(n+1)=2.253472e+001; foe(n+1)=3.434056e+001; krok(n+1)=1.339882e-002; ng(n+1)=1.736451e+002;
n=6; farx(n+1)=1.630134e+001; foe(n+1)=2.943511e+001; krok(n+1)=6.042575e-003; ng(n+1)=2.144822e+002;
n=7; farx(n+1)=1.338305e+001; foe(n+1)=2.724983e+001; krok(n+1)=9.630946e-003; ng(n+1)=7.459981e+001;
n=8; farx(n+1)=1.293860e+001; foe(n+1)=2.689429e+001; krok(n+1)=8.216032e-004; ng(n+1)=1.612147e+002;
n=9; farx(n+1)=1.269168e+001; foe(n+1)=2.483922e+001; krok(n+1)=1.669856e-002; ng(n+1)=8.710198e+001;
n=10; farx(n+1)=1.294882e+001; foe(n+1)=2.353825e+001; krok(n+1)=8.055458e-003; ng(n+1)=2.444099e+002;
n=11; farx(n+1)=1.215097e+001; foe(n+1)=2.239167e+001; krok(n+1)=1.309024e-002; ng(n+1)=9.888483e+001;
n=12; farx(n+1)=9.821032e+000; foe(n+1)=1.905311e+001; krok(n+1)=2.509977e-002; ng(n+1)=2.006086e+002;
n=13; farx(n+1)=9.326584e+000; foe(n+1)=1.860630e+001; krok(n+1)=2.027074e-003; ng(n+1)=1.516111e+002;
n=14; farx(n+1)=8.645962e+000; foe(n+1)=1.691830e+001; krok(n+1)=1.605804e-002; ng(n+1)=2.365763e+002;
n=15; farx(n+1)=8.389797e+000; foe(n+1)=1.619042e+001; krok(n+1)=1.704444e-003; ng(n+1)=2.869904e+002;
n=16; farx(n+1)=5.748616e+000; foe(n+1)=1.339270e+001; krok(n+1)=2.219272e-002; ng(n+1)=9.845836e+001;
n=17; farx(n+1)=4.851225e+000; foe(n+1)=1.202369e+001; krok(n+1)=1.121665e-002; ng(n+1)=4.595120e+002;
n=18; farx(n+1)=4.168622e+000; foe(n+1)=1.062324e+001; krok(n+1)=6.023109e-003; ng(n+1)=6.108723e+002;
n=19; farx(n+1)=3.808676e+000; foe(n+1)=1.017696e+001; krok(n+1)=7.704335e-003; ng(n+1)=7.321711e+002;
n=20; farx(n+1)=3.576665e+000; foe(n+1)=9.811906e+000; krok(n+1)=1.631264e-003; ng(n+1)=6.695074e+002;
n=21; farx(n+1)=3.658825e+000; foe(n+1)=8.285668e+000; krok(n+1)=2.067140e-002; ng(n+1)=6.984658e+002;
n=22; farx(n+1)=3.491778e+000; foe(n+1)=7.085681e+000; krok(n+1)=2.439969e-002; ng(n+1)=4.306696e+002;
n=23; farx(n+1)=3.184453e+000; foe(n+1)=6.128307e+000; krok(n+1)=1.199953e-002; ng(n+1)=3.935983e+002;
n=24; farx(n+1)=2.093789e+000; foe(n+1)=5.196504e+000; krok(n+1)=6.287977e-002; ng(n+1)=1.623468e+002;
n=25; farx(n+1)=1.797636e+000; foe(n+1)=4.873597e+000; krok(n+1)=1.423591e-002; ng(n+1)=1.487851e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.722378e+000; foe(n+1)=4.729867e+000; krok(n+1)=3.282609e-005; ng(n+1)=2.183978e+002;
n=27; farx(n+1)=1.751254e+000; foe(n+1)=4.652215e+000; krok(n+1)=1.767187e-004; ng(n+1)=7.696199e+001;
n=28; farx(n+1)=1.468260e+000; foe(n+1)=3.669254e+000; krok(n+1)=3.427028e-003; ng(n+1)=7.299721e+001;
n=29; farx(n+1)=1.376795e+000; foe(n+1)=3.478826e+000; krok(n+1)=1.169035e-004; ng(n+1)=1.986457e+002;
n=30; farx(n+1)=1.160955e+000; foe(n+1)=3.045371e+000; krok(n+1)=8.625805e-003; ng(n+1)=2.600183e+002;
n=31; farx(n+1)=9.074069e-001; foe(n+1)=2.608008e+000; krok(n+1)=2.857938e-002; ng(n+1)=3.574128e+002;
n=32; farx(n+1)=7.791267e-001; foe(n+1)=2.403717e+000; krok(n+1)=1.428969e-002; ng(n+1)=9.371002e+001;
n=33; farx(n+1)=6.334551e-001; foe(n+1)=1.998911e+000; krok(n+1)=2.117616e-002; ng(n+1)=2.813859e+002;
n=34; farx(n+1)=5.562771e-001; foe(n+1)=1.633685e+000; krok(n+1)=1.136409e-002; ng(n+1)=1.259109e+002;
n=35; farx(n+1)=5.046749e-001; foe(n+1)=1.448771e+000; krok(n+1)=2.788178e-002; ng(n+1)=1.737637e+002;
n=36; farx(n+1)=4.839544e-001; foe(n+1)=1.377815e+000; krok(n+1)=2.900817e-003; ng(n+1)=1.156629e+002;
n=37; farx(n+1)=4.753336e-001; foe(n+1)=1.298341e+000; krok(n+1)=3.280985e-002; ng(n+1)=1.614569e+002;
n=38; farx(n+1)=4.628192e-001; foe(n+1)=1.190444e+000; krok(n+1)=2.452306e-002; ng(n+1)=8.071134e+001;
n=39; farx(n+1)=4.792296e-001; foe(n+1)=1.096945e+000; krok(n+1)=3.497807e-002; ng(n+1)=1.297990e+002;
n=40; farx(n+1)=4.863851e-001; foe(n+1)=1.073441e+000; krok(n+1)=3.072094e-002; ng(n+1)=1.505965e+002;
n=41; farx(n+1)=5.304875e-001; foe(n+1)=9.589710e-001; krok(n+1)=1.655578e-001; ng(n+1)=1.684093e+002;
n=42; farx(n+1)=5.238309e-001; foe(n+1)=9.225023e-001; krok(n+1)=1.523673e-001; ng(n+1)=5.876303e+001;
n=43; farx(n+1)=5.107283e-001; foe(n+1)=8.727844e-001; krok(n+1)=1.755320e-001; ng(n+1)=7.131963e+001;
n=44; farx(n+1)=5.305963e-001; foe(n+1)=8.421126e-001; krok(n+1)=1.722157e-001; ng(n+1)=4.688206e+001;
n=45; farx(n+1)=5.095323e-001; foe(n+1)=8.135888e-001; krok(n+1)=3.240219e-001; ng(n+1)=5.186752e+001;
n=46; farx(n+1)=4.372738e-001; foe(n+1)=7.707614e-001; krok(n+1)=4.090511e-001; ng(n+1)=5.670601e+001;
n=47; farx(n+1)=4.452589e-001; foe(n+1)=7.318844e-001; krok(n+1)=9.632832e-001; ng(n+1)=6.076568e+001;
n=48; farx(n+1)=4.479793e-001; foe(n+1)=7.093748e-001; krok(n+1)=4.376495e-001; ng(n+1)=4.242789e+001;
n=49; farx(n+1)=4.176091e-001; foe(n+1)=6.709148e-001; krok(n+1)=9.282331e-001; ng(n+1)=6.409648e+001;
n=50; farx(n+1)=4.164537e-001; foe(n+1)=6.559278e-001; krok(n+1)=4.930774e-001; ng(n+1)=4.115637e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
