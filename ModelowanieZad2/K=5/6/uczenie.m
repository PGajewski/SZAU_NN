%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.193668e+002; foe(n+1)=3.092501e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.809826e+002; foe(n+1)=1.749443e+002; krok(n+1)=5.188110e-004; ng(n+1)=1.141579e+003;
n=2; farx(n+1)=5.553090e+001; foe(n+1)=5.746885e+001; krok(n+1)=1.053841e-002; ng(n+1)=3.585844e+002;
n=3; farx(n+1)=5.307355e+001; foe(n+1)=5.671911e+001; krok(n+1)=2.530456e-003; ng(n+1)=8.359003e+001;
n=4; farx(n+1)=2.408885e+001; foe(n+1)=4.659192e+001; krok(n+1)=6.728198e-003; ng(n+1)=1.880993e+002;
n=5; farx(n+1)=1.179128e+001; foe(n+1)=3.859807e+001; krok(n+1)=6.421814e-004; ng(n+1)=6.597159e+002;
n=6; farx(n+1)=9.773375e+000; foe(n+1)=3.162395e+001; krok(n+1)=4.375565e-003; ng(n+1)=1.390058e+003;
n=7; farx(n+1)=1.086211e+001; foe(n+1)=2.935837e+001; krok(n+1)=4.261111e-004; ng(n+1)=2.292586e+003;
n=8; farx(n+1)=1.261470e+001; foe(n+1)=2.717631e+001; krok(n+1)=8.473306e-003; ng(n+1)=1.889924e+003;
n=9; farx(n+1)=1.360734e+001; foe(n+1)=2.543501e+001; krok(n+1)=1.060828e-003; ng(n+1)=1.240731e+003;
n=10; farx(n+1)=1.486462e+001; foe(n+1)=2.372910e+001; krok(n+1)=6.035177e-003; ng(n+1)=4.636714e+002;
n=11; farx(n+1)=1.559755e+001; foe(n+1)=2.263337e+001; krok(n+1)=5.003630e-003; ng(n+1)=5.281633e+002;
n=12; farx(n+1)=1.486592e+001; foe(n+1)=2.082369e+001; krok(n+1)=1.278106e-002; ng(n+1)=2.907072e+002;
n=13; farx(n+1)=1.243169e+001; foe(n+1)=1.897058e+001; krok(n+1)=1.199953e-002; ng(n+1)=3.079446e+002;
n=14; farx(n+1)=1.109375e+001; foe(n+1)=1.738448e+001; krok(n+1)=2.778799e-003; ng(n+1)=7.135306e+002;
n=15; farx(n+1)=9.881824e+000; foe(n+1)=1.620768e+001; krok(n+1)=5.335388e-002; ng(n+1)=3.629599e+002;
n=16; farx(n+1)=8.151771e+000; foe(n+1)=1.501560e+001; krok(n+1)=2.606552e-002; ng(n+1)=1.091623e+002;
n=17; farx(n+1)=7.482714e+000; foe(n+1)=1.393229e+001; krok(n+1)=1.262969e-002; ng(n+1)=1.154131e+002;
n=18; farx(n+1)=6.777742e+000; foe(n+1)=1.232580e+001; krok(n+1)=3.264384e-003; ng(n+1)=3.300368e+002;
n=19; farx(n+1)=6.672161e+000; foe(n+1)=1.160297e+001; krok(n+1)=1.360047e-002; ng(n+1)=6.721042e+002;
n=20; farx(n+1)=5.812944e+000; foe(n+1)=1.000312e+001; krok(n+1)=6.357754e-002; ng(n+1)=6.386279e+002;
n=21; farx(n+1)=3.752598e+000; foe(n+1)=6.383547e+000; krok(n+1)=8.430727e-002; ng(n+1)=8.184624e+002;
n=22; farx(n+1)=3.286831e+000; foe(n+1)=5.744801e+000; krok(n+1)=3.586741e-002; ng(n+1)=2.228047e+002;
n=23; farx(n+1)=2.626563e+000; foe(n+1)=4.599008e+000; krok(n+1)=1.101559e-001; ng(n+1)=3.834343e+002;
n=24; farx(n+1)=2.077425e+000; foe(n+1)=3.711373e+000; krok(n+1)=7.000904e-002; ng(n+1)=3.718951e+002;
n=25; farx(n+1)=1.907548e+000; foe(n+1)=3.332714e+000; krok(n+1)=1.738735e-001; ng(n+1)=9.783684e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.859623e+000; foe(n+1)=3.052674e+000; krok(n+1)=2.103720e-005; ng(n+1)=3.331724e+002;
n=27; farx(n+1)=1.854237e+000; foe(n+1)=3.021350e+000; krok(n+1)=9.560623e-005; ng(n+1)=7.455091e+001;
n=28; farx(n+1)=1.791056e+000; foe(n+1)=2.837892e+000; krok(n+1)=9.413494e-004; ng(n+1)=4.983813e+001;
n=29; farx(n+1)=1.642289e+000; foe(n+1)=2.316501e+000; krok(n+1)=1.683682e-003; ng(n+1)=6.259603e+001;
n=30; farx(n+1)=1.038110e+000; foe(n+1)=1.700414e+000; krok(n+1)=1.547432e-002; ng(n+1)=5.847018e+001;
n=31; farx(n+1)=7.827311e-001; foe(n+1)=1.308524e+000; krok(n+1)=6.319511e-003; ng(n+1)=3.474680e+002;
n=32; farx(n+1)=7.034114e-001; foe(n+1)=1.120587e+000; krok(n+1)=2.476948e-002; ng(n+1)=7.893972e+001;
n=33; farx(n+1)=6.504544e-001; foe(n+1)=1.092826e+000; krok(n+1)=9.555317e-003; ng(n+1)=5.334690e+001;
n=34; farx(n+1)=6.054328e-001; foe(n+1)=1.058256e+000; krok(n+1)=8.534063e-003; ng(n+1)=8.066537e+001;
n=35; farx(n+1)=5.966607e-001; foe(n+1)=1.036539e+000; krok(n+1)=3.571281e-002; ng(n+1)=4.437621e+001;
n=36; farx(n+1)=5.325825e-001; foe(n+1)=9.728484e-001; krok(n+1)=2.343012e-001; ng(n+1)=3.424600e+001;
n=37; farx(n+1)=5.197521e-001; foe(n+1)=9.565133e-001; krok(n+1)=5.414124e-003; ng(n+1)=8.773497e+001;
n=38; farx(n+1)=4.514365e-001; foe(n+1)=8.909453e-001; krok(n+1)=6.739301e-002; ng(n+1)=3.894684e+001;
n=39; farx(n+1)=4.461301e-001; foe(n+1)=8.790005e-001; krok(n+1)=1.970594e-002; ng(n+1)=3.284245e+001;
n=40; farx(n+1)=4.466602e-001; foe(n+1)=8.627854e-001; krok(n+1)=4.138006e-002; ng(n+1)=2.508001e+001;
n=41; farx(n+1)=4.400374e-001; foe(n+1)=8.517589e-001; krok(n+1)=9.089589e-002; ng(n+1)=3.621661e+001;
n=42; farx(n+1)=4.146995e-001; foe(n+1)=8.256143e-001; krok(n+1)=1.348264e-001; ng(n+1)=1.896736e+001;
n=43; farx(n+1)=4.053147e-001; foe(n+1)=8.080123e-001; krok(n+1)=1.046893e-001; ng(n+1)=4.164509e+001;
n=44; farx(n+1)=4.058444e-001; foe(n+1)=7.705243e-001; krok(n+1)=1.942977e-001; ng(n+1)=6.507157e+001;
n=45; farx(n+1)=4.074836e-001; foe(n+1)=7.630487e-001; krok(n+1)=1.238254e-001; ng(n+1)=1.261139e+001;
n=46; farx(n+1)=4.437756e-001; foe(n+1)=7.403845e-001; krok(n+1)=2.798246e-001; ng(n+1)=5.193773e+001;
n=47; farx(n+1)=4.322914e-001; foe(n+1)=7.245776e-001; krok(n+1)=1.865388e-001; ng(n+1)=3.887773e+001;
n=48; farx(n+1)=4.026957e-001; foe(n+1)=6.926831e-001; krok(n+1)=5.921069e-001; ng(n+1)=7.284753e+001;
n=49; farx(n+1)=3.921726e-001; foe(n+1)=6.836703e-001; krok(n+1)=6.826594e-002; ng(n+1)=3.931409e+001;
n=50; farx(n+1)=3.777047e-001; foe(n+1)=6.717392e-001; krok(n+1)=3.428611e-001; ng(n+1)=4.368011e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
