%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.181939e+002; foe(n+1)=3.154913e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.786180e+002; foe(n+1)=1.782661e+002; krok(n+1)=4.927090e-004; ng(n+1)=1.096027e+003;
n=2; farx(n+1)=6.026077e+001; foe(n+1)=6.955072e+001; krok(n+1)=2.788178e-002; ng(n+1)=2.593705e+002;
n=3; farx(n+1)=4.716574e+001; foe(n+1)=5.593711e+001; krok(n+1)=2.431917e-004; ng(n+1)=1.071473e+003;
n=4; farx(n+1)=4.498421e+001; foe(n+1)=5.448275e+001; krok(n+1)=7.383609e-004; ng(n+1)=2.512594e+002;
n=5; farx(n+1)=2.143081e+001; foe(n+1)=3.797412e+001; krok(n+1)=1.802073e-002; ng(n+1)=1.350169e+002;
n=6; farx(n+1)=1.634682e+001; foe(n+1)=2.899749e+001; krok(n+1)=4.352152e-003; ng(n+1)=8.249958e+002;
n=7; farx(n+1)=1.289943e+001; foe(n+1)=2.643570e+001; krok(n+1)=8.204311e-003; ng(n+1)=4.612962e+002;
n=8; farx(n+1)=1.241476e+001; foe(n+1)=2.495610e+001; krok(n+1)=3.035901e-003; ng(n+1)=6.888112e+002;
n=9; farx(n+1)=1.232413e+001; foe(n+1)=2.306027e+001; krok(n+1)=3.726829e-003; ng(n+1)=3.781182e+002;
n=10; farx(n+1)=1.226305e+001; foe(n+1)=2.167385e+001; krok(n+1)=3.427028e-003; ng(n+1)=1.841271e+002;
n=11; farx(n+1)=1.192381e+001; foe(n+1)=2.130568e+001; krok(n+1)=5.042985e-003; ng(n+1)=2.901485e+002;
n=12; farx(n+1)=1.018918e+001; foe(n+1)=1.926588e+001; krok(n+1)=2.128042e-002; ng(n+1)=5.987659e+002;
n=13; farx(n+1)=1.016755e+001; foe(n+1)=1.831019e+001; krok(n+1)=4.486659e-002; ng(n+1)=3.068284e+002;
n=14; farx(n+1)=9.593888e+000; foe(n+1)=1.798045e+001; krok(n+1)=8.816889e-003; ng(n+1)=2.209521e+002;
n=15; farx(n+1)=7.115233e+000; foe(n+1)=1.671464e+001; krok(n+1)=2.865057e-002; ng(n+1)=1.025767e+002;
n=16; farx(n+1)=5.973114e+000; foe(n+1)=1.617601e+001; krok(n+1)=2.075022e-003; ng(n+1)=4.682934e+002;
n=17; farx(n+1)=4.134922e+000; foe(n+1)=1.489493e+001; krok(n+1)=6.583213e-003; ng(n+1)=5.320998e+002;
n=18; farx(n+1)=2.863091e+000; foe(n+1)=1.358581e+001; krok(n+1)=2.097129e-002; ng(n+1)=2.316610e+002;
n=19; farx(n+1)=2.570950e+000; foe(n+1)=1.308137e+001; krok(n+1)=1.333847e-002; ng(n+1)=5.478899e+002;
n=20; farx(n+1)=1.852433e+000; foe(n+1)=9.889646e+000; krok(n+1)=5.671128e-002; ng(n+1)=4.303084e+002;
n=21; farx(n+1)=1.634822e+000; foe(n+1)=8.863975e+000; krok(n+1)=4.266621e-003; ng(n+1)=1.010101e+003;
n=22; farx(n+1)=1.597762e+000; foe(n+1)=7.469249e+000; krok(n+1)=1.316643e-002; ng(n+1)=1.664422e+003;
n=23; farx(n+1)=1.594892e+000; foe(n+1)=6.873035e+000; krok(n+1)=1.289397e-002; ng(n+1)=1.407166e+003;
n=24; farx(n+1)=1.388569e+000; foe(n+1)=6.151638e+000; krok(n+1)=5.113139e-002; ng(n+1)=8.653141e+002;
n=25; farx(n+1)=9.206080e-001; foe(n+1)=4.640076e+000; krok(n+1)=4.194258e-002; ng(n+1)=8.542723e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.218617e-001; foe(n+1)=4.397809e+000; krok(n+1)=9.456672e-006; ng(n+1)=6.527574e+002;
n=27; farx(n+1)=9.106883e-001; foe(n+1)=4.319153e+000; krok(n+1)=2.842659e-004; ng(n+1)=7.821449e+001;
n=28; farx(n+1)=8.894002e-001; foe(n+1)=4.174560e+000; krok(n+1)=5.720244e-005; ng(n+1)=1.774691e+002;
n=29; farx(n+1)=8.553974e-001; foe(n+1)=3.652208e+000; krok(n+1)=1.567808e-003; ng(n+1)=8.769685e+001;
n=30; farx(n+1)=8.134007e-001; foe(n+1)=3.453588e+000; krok(n+1)=2.607206e-003; ng(n+1)=7.881693e+001;
n=31; farx(n+1)=7.094178e-001; foe(n+1)=3.010409e+000; krok(n+1)=4.830641e-003; ng(n+1)=3.143643e+002;
n=32; farx(n+1)=6.824887e-001; foe(n+1)=2.524696e+000; krok(n+1)=3.765398e-003; ng(n+1)=7.501295e+002;
n=33; farx(n+1)=6.030714e-001; foe(n+1)=2.042710e+000; krok(n+1)=2.780492e-002; ng(n+1)=3.370761e+002;
n=34; farx(n+1)=5.303701e-001; foe(n+1)=1.656550e+000; krok(n+1)=1.165911e-002; ng(n+1)=5.940138e+002;
n=35; farx(n+1)=5.071928e-001; foe(n+1)=1.411615e+000; krok(n+1)=1.842177e-002; ng(n+1)=2.409291e+002;
n=36; farx(n+1)=4.859377e-001; foe(n+1)=1.267269e+000; krok(n+1)=1.596372e-002; ng(n+1)=2.558561e+002;
n=37; farx(n+1)=4.742012e-001; foe(n+1)=1.221521e+000; krok(n+1)=5.836445e-003; ng(n+1)=1.319356e+002;
n=38; farx(n+1)=4.393790e-001; foe(n+1)=1.060960e+000; krok(n+1)=2.667694e-002; ng(n+1)=1.231858e+002;
n=39; farx(n+1)=3.984872e-001; foe(n+1)=9.869804e-001; krok(n+1)=1.310933e-001; ng(n+1)=1.021401e+002;
n=40; farx(n+1)=3.826146e-001; foe(n+1)=9.480541e-001; krok(n+1)=2.946581e-002; ng(n+1)=2.161539e+002;
n=41; farx(n+1)=3.589826e-001; foe(n+1)=8.683829e-001; krok(n+1)=6.004768e-002; ng(n+1)=1.415780e+002;
n=42; farx(n+1)=2.926018e-001; foe(n+1)=8.077838e-001; krok(n+1)=5.623415e-002; ng(n+1)=6.061450e+001;
n=43; farx(n+1)=2.801969e-001; foe(n+1)=7.331357e-001; krok(n+1)=2.240290e-001; ng(n+1)=2.750069e+001;
n=44; farx(n+1)=2.841367e-001; foe(n+1)=6.893344e-001; krok(n+1)=1.221956e-001; ng(n+1)=1.769763e+002;
n=45; farx(n+1)=2.800153e-001; foe(n+1)=6.042351e-001; krok(n+1)=4.536903e-001; ng(n+1)=5.362995e+001;
n=46; farx(n+1)=2.927818e-001; foe(n+1)=5.736768e-001; krok(n+1)=1.460546e-001; ng(n+1)=1.545856e+002;
n=47; farx(n+1)=2.802105e-001; foe(n+1)=5.256815e-001; krok(n+1)=6.258076e-001; ng(n+1)=3.114454e+001;
n=48; farx(n+1)=2.653994e-001; foe(n+1)=5.047544e-001; krok(n+1)=1.556123e-001; ng(n+1)=5.273638e+001;
n=49; farx(n+1)=2.593261e-001; foe(n+1)=4.922199e-001; krok(n+1)=2.144024e-001; ng(n+1)=7.180404e+001;
n=50; farx(n+1)=2.616607e-001; foe(n+1)=4.826484e-001; krok(n+1)=2.507212e-001; ng(n+1)=5.993159e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
