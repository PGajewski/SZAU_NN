%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.403373e+002; foe(n+1)=2.422674e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.722803e+002; foe(n+1)=1.740603e+002; krok(n+1)=4.927090e-004; ng(n+1)=5.488653e+002;
n=2; farx(n+1)=6.001868e+001; foe(n+1)=6.351880e+001; krok(n+1)=1.517118e-002; ng(n+1)=1.335615e+002;
n=3; farx(n+1)=5.631951e+001; foe(n+1)=5.859069e+001; krok(n+1)=2.117016e-003; ng(n+1)=2.545100e+002;
n=4; farx(n+1)=5.225950e+001; foe(n+1)=5.225963e+001; krok(n+1)=5.967857e-003; ng(n+1)=2.494031e+002;
n=5; farx(n+1)=3.320024e+001; foe(n+1)=4.576037e+001; krok(n+1)=7.959957e-002; ng(n+1)=6.553930e+001;
n=6; farx(n+1)=2.259087e+001; foe(n+1)=3.168654e+001; krok(n+1)=1.384176e-002; ng(n+1)=2.535295e+002;
n=7; farx(n+1)=2.048515e+001; foe(n+1)=2.955614e+001; krok(n+1)=6.100588e-003; ng(n+1)=8.808620e+001;
n=8; farx(n+1)=1.922714e+001; foe(n+1)=2.837798e+001; krok(n+1)=3.355407e-001; ng(n+1)=3.027123e+001;
n=9; farx(n+1)=1.620265e+001; foe(n+1)=2.657386e+001; krok(n+1)=5.157588e-002; ng(n+1)=6.138532e+001;
n=10; farx(n+1)=1.329153e+001; foe(n+1)=2.504167e+001; krok(n+1)=1.362955e-001; ng(n+1)=2.018626e+002;
n=11; farx(n+1)=1.114534e+001; foe(n+1)=2.339844e+001; krok(n+1)=8.153064e-002; ng(n+1)=3.021851e+002;
n=12; farx(n+1)=2.949424e+000; foe(n+1)=1.214969e+001; krok(n+1)=3.287969e-001; ng(n+1)=3.660614e+002;
n=13; farx(n+1)=2.562007e+000; foe(n+1)=1.139453e+001; krok(n+1)=1.221144e-001; ng(n+1)=1.064921e+002;
n=14; farx(n+1)=2.340459e+000; foe(n+1)=1.126018e+001; krok(n+1)=4.076532e-002; ng(n+1)=5.462073e+001;
n=15; farx(n+1)=2.600172e+000; foe(n+1)=1.021524e+001; krok(n+1)=7.310195e-001; ng(n+1)=6.524792e+001;
n=16; farx(n+1)=2.781985e+000; foe(n+1)=9.093849e+000; krok(n+1)=1.236406e+000; ng(n+1)=8.788707e+001;
n=17; farx(n+1)=2.670179e+000; foe(n+1)=8.286982e+000; krok(n+1)=2.367301e-001; ng(n+1)=1.770368e+002;
n=18; farx(n+1)=2.450031e+000; foe(n+1)=7.605352e+000; krok(n+1)=1.503594e-001; ng(n+1)=2.322297e+002;
n=19; farx(n+1)=2.538426e+000; foe(n+1)=6.351452e+000; krok(n+1)=9.270274e-001; ng(n+1)=1.343968e+002;
n=20; farx(n+1)=2.366014e+000; foe(n+1)=5.807259e+000; krok(n+1)=8.328011e-001; ng(n+1)=1.049441e+002;
n=21; farx(n+1)=2.079010e+000; foe(n+1)=5.408793e+000; krok(n+1)=2.196395e+000; ng(n+1)=2.882653e+001;
n=22; farx(n+1)=2.045281e+000; foe(n+1)=5.256365e+000; krok(n+1)=2.990259e-001; ng(n+1)=8.240780e+001;
n=23; farx(n+1)=1.912125e+000; foe(n+1)=5.123316e+000; krok(n+1)=8.202978e-001; ng(n+1)=2.711075e+001;
n=24; farx(n+1)=1.809752e+000; foe(n+1)=4.870986e+000; krok(n+1)=1.760056e+000; ng(n+1)=7.684423e+001;
n=25; farx(n+1)=1.732306e+000; foe(n+1)=4.709687e+000; krok(n+1)=2.048868e+000; ng(n+1)=4.190990e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.740242e+000; foe(n+1)=4.684955e+000; krok(n+1)=2.733737e-005; ng(n+1)=7.303784e+001;
n=27; farx(n+1)=1.771348e+000; foe(n+1)=4.665806e+000; krok(n+1)=2.353374e-004; ng(n+1)=1.943092e+001;
n=28; farx(n+1)=1.619890e+000; foe(n+1)=4.545087e+000; krok(n+1)=3.519888e-002; ng(n+1)=6.526298e+000;
n=29; farx(n+1)=1.612323e+000; foe(n+1)=4.540803e+000; krok(n+1)=2.302017e-004; ng(n+1)=1.814780e+001;
n=30; farx(n+1)=1.607541e+000; foe(n+1)=4.415262e+000; krok(n+1)=2.963700e-002; ng(n+1)=1.611220e+001;
n=31; farx(n+1)=1.494433e+000; foe(n+1)=4.251191e+000; krok(n+1)=5.079872e-002; ng(n+1)=6.679088e+001;
n=32; farx(n+1)=1.347029e+000; foe(n+1)=3.891741e+000; krok(n+1)=6.414287e-002; ng(n+1)=1.221793e+002;
n=33; farx(n+1)=1.141173e+000; foe(n+1)=3.476654e+000; krok(n+1)=2.969638e-001; ng(n+1)=6.098797e+001;
n=34; farx(n+1)=1.134163e+000; foe(n+1)=3.379628e+000; krok(n+1)=1.399123e-001; ng(n+1)=5.964103e+001;
n=35; farx(n+1)=1.118577e+000; foe(n+1)=3.203170e+000; krok(n+1)=2.272257e-001; ng(n+1)=6.062888e+001;
n=36; farx(n+1)=1.134983e+000; foe(n+1)=3.097147e+000; krok(n+1)=3.923690e-001; ng(n+1)=7.425321e+001;
n=37; farx(n+1)=1.078544e+000; foe(n+1)=2.972965e+000; krok(n+1)=7.382907e-001; ng(n+1)=1.531678e+001;
n=38; farx(n+1)=1.029391e+000; foe(n+1)=2.906904e+000; krok(n+1)=2.609695e-001; ng(n+1)=4.258609e+001;
n=39; farx(n+1)=9.808511e-001; foe(n+1)=2.794287e+000; krok(n+1)=1.492366e+000; ng(n+1)=2.171563e+001;
n=40; farx(n+1)=9.485887e-001; foe(n+1)=2.712277e+000; krok(n+1)=7.215816e-001; ng(n+1)=9.487800e+001;
n=41; farx(n+1)=7.794099e-001; foe(n+1)=2.542709e+000; krok(n+1)=1.585247e+000; ng(n+1)=2.591979e+001;
n=42; farx(n+1)=7.556325e-001; foe(n+1)=2.487757e+000; krok(n+1)=2.857025e-001; ng(n+1)=5.497893e+001;
n=43; farx(n+1)=7.483844e-001; foe(n+1)=2.419499e+000; krok(n+1)=3.477470e-001; ng(n+1)=2.128542e+001;
n=44; farx(n+1)=6.905397e-001; foe(n+1)=2.377991e+000; krok(n+1)=8.536620e-001; ng(n+1)=2.121953e+001;
n=45; farx(n+1)=6.462826e-001; foe(n+1)=2.343783e+000; krok(n+1)=1.063350e+000; ng(n+1)=1.719330e+001;
n=46; farx(n+1)=6.189169e-001; foe(n+1)=2.319703e+000; krok(n+1)=1.044632e+000; ng(n+1)=2.655844e+001;
n=47; farx(n+1)=6.067200e-001; foe(n+1)=2.299919e+000; krok(n+1)=7.679697e-001; ng(n+1)=2.032873e+001;
n=48; farx(n+1)=5.788048e-001; foe(n+1)=2.279890e+000; krok(n+1)=5.673929e-001; ng(n+1)=5.047026e+001;
n=49; farx(n+1)=5.500866e-001; foe(n+1)=2.268186e+000; krok(n+1)=4.385923e-001; ng(n+1)=1.240398e+001;
n=50; farx(n+1)=5.194095e-001; foe(n+1)=2.250050e+000; krok(n+1)=1.402391e+000; ng(n+1)=1.208073e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
