%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.576691e+002; foe(n+1)=2.573821e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.779314e+002; foe(n+1)=1.780641e+002; krok(n+1)=4.957630e-004; ng(n+1)=6.023980e+002;
n=2; farx(n+1)=4.869500e+001; foe(n+1)=4.799966e+001; krok(n+1)=6.442938e-002; ng(n+1)=9.163806e+001;
n=3; farx(n+1)=4.614592e+001; foe(n+1)=4.541888e+001; krok(n+1)=2.488900e-003; ng(n+1)=1.347957e+002;
n=4; farx(n+1)=4.232644e+001; foe(n+1)=4.170136e+001; krok(n+1)=1.486486e-003; ng(n+1)=1.291185e+002;
n=5; farx(n+1)=3.260591e+001; foe(n+1)=3.651276e+001; krok(n+1)=1.158784e-001; ng(n+1)=3.802415e+001;
n=6; farx(n+1)=3.116915e+001; foe(n+1)=3.432395e+001; krok(n+1)=4.879939e-002; ng(n+1)=6.002131e+001;
n=7; farx(n+1)=3.029757e+001; foe(n+1)=3.369007e+001; krok(n+1)=9.676700e-002; ng(n+1)=3.963498e+001;
n=8; farx(n+1)=2.910407e+001; foe(n+1)=3.302288e+001; krok(n+1)=1.438191e-001; ng(n+1)=2.706395e+001;
n=9; farx(n+1)=2.906437e+001; foe(n+1)=3.248402e+001; krok(n+1)=1.668612e-001; ng(n+1)=2.108791e+001;
n=10; farx(n+1)=2.384194e+001; foe(n+1)=2.945879e+001; krok(n+1)=1.613595e+000; ng(n+1)=4.406606e+001;
n=11; farx(n+1)=1.825349e+001; foe(n+1)=2.720685e+001; krok(n+1)=1.619492e-001; ng(n+1)=4.638178e+001;
n=12; farx(n+1)=1.580230e+001; foe(n+1)=2.657241e+001; krok(n+1)=1.011122e-001; ng(n+1)=1.274268e+002;
n=13; farx(n+1)=9.890822e+000; foe(n+1)=2.471332e+001; krok(n+1)=6.827250e-002; ng(n+1)=1.277816e+002;
n=14; farx(n+1)=7.482505e+000; foe(n+1)=2.248048e+001; krok(n+1)=6.813219e-002; ng(n+1)=2.743210e+002;
n=15; farx(n+1)=6.224230e+000; foe(n+1)=2.052857e+001; krok(n+1)=1.171506e-001; ng(n+1)=3.341461e+002;
n=16; farx(n+1)=6.230834e+000; foe(n+1)=1.891532e+001; krok(n+1)=2.219272e-002; ng(n+1)=4.855976e+002;
n=17; farx(n+1)=8.818659e+000; foe(n+1)=1.460639e+001; krok(n+1)=1.474005e-001; ng(n+1)=4.642878e+002;
n=18; farx(n+1)=4.057298e+000; foe(n+1)=9.443963e+000; krok(n+1)=7.178655e-001; ng(n+1)=2.425079e+002;
n=19; farx(n+1)=4.193437e+000; foe(n+1)=7.744439e+000; krok(n+1)=2.279374e+000; ng(n+1)=1.529528e+002;
n=20; farx(n+1)=4.243174e+000; foe(n+1)=7.472562e+000; krok(n+1)=9.513510e-002; ng(n+1)=1.095874e+002;
n=21; farx(n+1)=4.534087e+000; foe(n+1)=6.926269e+000; krok(n+1)=5.242823e-003; ng(n+1)=5.668802e+002;
n=22; farx(n+1)=3.844569e+000; foe(n+1)=6.759761e+000; krok(n+1)=6.367965e-001; ng(n+1)=7.282557e+001;
n=23; farx(n+1)=2.810778e+000; foe(n+1)=5.594321e+000; krok(n+1)=5.447786e+000; ng(n+1)=1.179706e+002;
n=24; farx(n+1)=2.096725e+000; foe(n+1)=4.723073e+000; krok(n+1)=1.009068e+000; ng(n+1)=2.284291e+002;
n=25; farx(n+1)=2.043707e+000; foe(n+1)=4.207669e+000; krok(n+1)=1.147757e+000; ng(n+1)=9.788242e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.050787e+000; foe(n+1)=4.183361e+000; krok(n+1)=3.386439e-005; ng(n+1)=5.369109e+001;
n=27; farx(n+1)=2.038065e+000; foe(n+1)=4.179346e+000; krok(n+1)=2.732662e-004; ng(n+1)=9.674433e+000;
n=28; farx(n+1)=2.068003e+000; foe(n+1)=4.174904e+000; krok(n+1)=2.660052e-003; ng(n+1)=4.104941e+000;
n=29; farx(n+1)=2.081959e+000; foe(n+1)=4.166518e+000; krok(n+1)=1.100811e-003; ng(n+1)=5.952844e+000;
n=30; farx(n+1)=1.994233e+000; foe(n+1)=4.103027e+000; krok(n+1)=2.485924e-001; ng(n+1)=1.938404e+000;
n=31; farx(n+1)=1.715082e+000; foe(n+1)=3.916921e+000; krok(n+1)=1.292163e-001; ng(n+1)=1.762588e+001;
n=32; farx(n+1)=1.483277e+000; foe(n+1)=3.652988e+000; krok(n+1)=5.317968e-001; ng(n+1)=8.135100e+001;
n=33; farx(n+1)=1.428529e+000; foe(n+1)=3.539212e+000; krok(n+1)=3.428611e-001; ng(n+1)=8.595736e+001;
n=34; farx(n+1)=1.340246e+000; foe(n+1)=3.433274e+000; krok(n+1)=4.951781e-001; ng(n+1)=2.063274e+001;
n=35; farx(n+1)=1.226414e+000; foe(n+1)=3.202637e+000; krok(n+1)=8.340965e-001; ng(n+1)=7.691794e+001;
n=36; farx(n+1)=1.086056e+000; foe(n+1)=2.949088e+000; krok(n+1)=1.380032e+000; ng(n+1)=4.587511e+001;
n=37; farx(n+1)=1.044976e+000; foe(n+1)=2.915241e+000; krok(n+1)=4.936410e-001; ng(n+1)=1.562181e+001;
n=38; farx(n+1)=9.881168e-001; foe(n+1)=2.877841e+000; krok(n+1)=2.431780e-001; ng(n+1)=2.355266e+001;
n=39; farx(n+1)=9.610139e-001; foe(n+1)=2.825117e+000; krok(n+1)=7.992682e-001; ng(n+1)=3.937129e+001;
n=40; farx(n+1)=8.880028e-001; foe(n+1)=2.720301e+000; krok(n+1)=1.561580e+000; ng(n+1)=1.511266e+001;
n=41; farx(n+1)=8.496842e-001; foe(n+1)=2.679249e+000; krok(n+1)=2.064051e-001; ng(n+1)=6.297558e+001;
n=42; farx(n+1)=8.189922e-001; foe(n+1)=2.636624e+000; krok(n+1)=3.963765e-001; ng(n+1)=2.460370e+001;
n=43; farx(n+1)=7.437888e-001; foe(n+1)=2.585012e+000; krok(n+1)=7.957487e-001; ng(n+1)=1.045452e+001;
n=44; farx(n+1)=7.027672e-001; foe(n+1)=2.553861e+000; krok(n+1)=2.910883e-001; ng(n+1)=2.784840e+001;
n=45; farx(n+1)=6.715045e-001; foe(n+1)=2.522773e+000; krok(n+1)=8.127796e-001; ng(n+1)=2.626033e+001;
n=46; farx(n+1)=5.913911e-001; foe(n+1)=2.486519e+000; krok(n+1)=7.113726e-001; ng(n+1)=2.826855e+001;
n=47; farx(n+1)=5.726424e-001; foe(n+1)=2.477035e+000; krok(n+1)=2.230786e-001; ng(n+1)=3.913714e+001;
n=48; farx(n+1)=5.372546e-001; foe(n+1)=2.442982e+000; krok(n+1)=1.239464e+000; ng(n+1)=2.547558e+001;
n=49; farx(n+1)=5.353778e-001; foe(n+1)=2.426884e+000; krok(n+1)=7.461831e-001; ng(n+1)=1.170718e+001;
n=50; farx(n+1)=4.914600e-001; foe(n+1)=2.402689e+000; krok(n+1)=6.809733e-001; ng(n+1)=1.548020e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
