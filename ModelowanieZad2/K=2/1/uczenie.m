%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.497850e+002; foe(n+1)=2.565791e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.758355e+002; foe(n+1)=1.788786e+002; krok(n+1)=4.838390e-004; ng(n+1)=5.913390e+002;
n=2; farx(n+1)=1.566422e+002; foe(n+1)=1.668941e+002; krok(n+1)=1.596002e-002; ng(n+1)=7.456811e+001;
n=3; farx(n+1)=4.960033e+001; foe(n+1)=6.143053e+001; krok(n+1)=9.600292e-004; ng(n+1)=4.973535e+002;
n=4; farx(n+1)=4.789757e+001; foe(n+1)=5.949743e+001; krok(n+1)=3.604935e-004; ng(n+1)=2.514028e+002;
n=5; farx(n+1)=2.797788e+001; foe(n+1)=4.685310e+001; krok(n+1)=4.797973e-002; ng(n+1)=1.152766e+002;
n=6; farx(n+1)=2.586798e+001; foe(n+1)=4.341753e+001; krok(n+1)=2.425420e-004; ng(n+1)=9.609037e+002;
n=7; farx(n+1)=2.691276e+001; foe(n+1)=4.214954e+001; krok(n+1)=9.396257e-004; ng(n+1)=1.219739e+003;
n=8; farx(n+1)=2.956164e+001; foe(n+1)=4.030718e+001; krok(n+1)=2.500228e-003; ng(n+1)=1.055731e+003;
n=9; farx(n+1)=2.826114e+001; foe(n+1)=3.902790e+001; krok(n+1)=6.306675e-002; ng(n+1)=5.917178e+002;
n=10; farx(n+1)=2.586651e+001; foe(n+1)=3.606164e+001; krok(n+1)=2.517497e-002; ng(n+1)=4.660031e+002;
n=11; farx(n+1)=5.465276e+000; foe(n+1)=2.155496e+001; krok(n+1)=4.747686e-001; ng(n+1)=4.270756e+002;
n=12; farx(n+1)=2.450297e+000; foe(n+1)=1.415212e+001; krok(n+1)=2.889625e-001; ng(n+1)=4.725140e+002;
n=13; farx(n+1)=2.234680e+000; foe(n+1)=1.326023e+001; krok(n+1)=2.067140e-002; ng(n+1)=4.348613e+002;
n=14; farx(n+1)=2.077135e+000; foe(n+1)=1.268462e+001; krok(n+1)=4.187571e-001; ng(n+1)=1.141058e+002;
n=15; farx(n+1)=1.515076e+000; foe(n+1)=1.121788e+001; krok(n+1)=4.635137e-001; ng(n+1)=6.998063e+001;
n=16; farx(n+1)=1.669661e+000; foe(n+1)=1.052809e+001; krok(n+1)=9.673187e-001; ng(n+1)=2.367653e+002;
n=17; farx(n+1)=1.458445e+000; foe(n+1)=1.009795e+001; krok(n+1)=9.270274e-001; ng(n+1)=1.667141e+002;
n=18; farx(n+1)=1.423031e+000; foe(n+1)=9.692993e+000; krok(n+1)=7.656580e-001; ng(n+1)=3.713669e+001;
n=19; farx(n+1)=1.561196e+000; foe(n+1)=9.109138e+000; krok(n+1)=1.092255e+000; ng(n+1)=2.906392e+001;
n=20; farx(n+1)=1.555766e+000; foe(n+1)=8.947939e+000; krok(n+1)=3.635836e-001; ng(n+1)=1.027315e+002;
n=21; farx(n+1)=1.450430e+000; foe(n+1)=8.831466e+000; krok(n+1)=8.159604e-001; ng(n+1)=6.599627e+001;
n=22; farx(n+1)=1.424723e+000; foe(n+1)=8.675629e+000; krok(n+1)=1.171229e+000; ng(n+1)=5.189032e+001;
n=23; farx(n+1)=1.434008e+000; foe(n+1)=8.611716e+000; krok(n+1)=1.003200e+000; ng(n+1)=6.574645e+001;
n=24; farx(n+1)=1.288861e+000; foe(n+1)=8.504205e+000; krok(n+1)=2.663298e+000; ng(n+1)=2.798995e+001;
n=25; farx(n+1)=1.170611e+000; foe(n+1)=8.431438e+000; krok(n+1)=7.655551e-001; ng(n+1)=8.715888e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.168347e+000; foe(n+1)=8.429752e+000; krok(n+1)=3.351833e-005; ng(n+1)=2.203797e+001;
n=27; farx(n+1)=1.166333e+000; foe(n+1)=8.426207e+000; krok(n+1)=1.224225e-004; ng(n+1)=1.270477e+001;
n=28; farx(n+1)=1.186419e+000; foe(n+1)=8.374675e+000; krok(n+1)=3.550402e-003; ng(n+1)=1.130487e+001;
n=29; farx(n+1)=1.318250e+000; foe(n+1)=8.276927e+000; krok(n+1)=1.476722e-003; ng(n+1)=2.847081e+001;
n=30; farx(n+1)=1.261846e+000; foe(n+1)=8.089199e+000; krok(n+1)=3.244437e-002; ng(n+1)=5.584358e+001;
n=31; farx(n+1)=1.180338e+000; foe(n+1)=7.614988e+000; krok(n+1)=3.752448e-003; ng(n+1)=1.848150e+002;
n=32; farx(n+1)=1.101885e+000; foe(n+1)=7.438815e+000; krok(n+1)=1.242765e-001; ng(n+1)=1.171977e+002;
n=33; farx(n+1)=1.135785e+000; foe(n+1)=7.277957e+000; krok(n+1)=2.753897e-002; ng(n+1)=2.722631e+002;
n=34; farx(n+1)=1.230806e+000; foe(n+1)=7.076641e+000; krok(n+1)=5.360061e-002; ng(n+1)=3.539748e+002;
n=35; farx(n+1)=1.356384e+000; foe(n+1)=6.894150e+000; krok(n+1)=1.655578e-001; ng(n+1)=2.393963e+002;
n=36; farx(n+1)=1.387483e+000; foe(n+1)=6.676522e+000; krok(n+1)=1.653712e-001; ng(n+1)=2.223155e+002;
n=37; farx(n+1)=1.191460e+000; foe(n+1)=6.183887e+000; krok(n+1)=5.636152e-001; ng(n+1)=1.578633e+002;
n=38; farx(n+1)=1.243841e+000; foe(n+1)=6.006161e+000; krok(n+1)=5.680644e-002; ng(n+1)=3.395104e+002;
n=39; farx(n+1)=1.206083e+000; foe(n+1)=5.712100e+000; krok(n+1)=1.653712e-001; ng(n+1)=2.802375e+002;
n=40; farx(n+1)=1.042948e+000; foe(n+1)=5.163019e+000; krok(n+1)=2.373843e-001; ng(n+1)=4.854466e+002;
n=41; farx(n+1)=8.611752e-001; foe(n+1)=3.929023e+000; krok(n+1)=4.936156e-001; ng(n+1)=6.833766e+002;
n=42; farx(n+1)=8.329853e-001; foe(n+1)=3.168422e+000; krok(n+1)=2.798246e-001; ng(n+1)=3.613340e+002;
n=43; farx(n+1)=7.203921e-001; foe(n+1)=2.980073e+000; krok(n+1)=6.183220e-001; ng(n+1)=5.932796e+001;
n=44; farx(n+1)=7.152573e-001; foe(n+1)=2.946713e+000; krok(n+1)=3.839848e-001; ng(n+1)=4.537972e+001;
n=45; farx(n+1)=7.221742e-001; foe(n+1)=2.912720e+000; krok(n+1)=1.569476e+000; ng(n+1)=1.001240e+002;
n=46; farx(n+1)=7.068823e-001; foe(n+1)=2.878639e+000; krok(n+1)=9.372047e-001; ng(n+1)=2.134504e+001;
n=47; farx(n+1)=6.785164e-001; foe(n+1)=2.847704e+000; krok(n+1)=9.727120e-001; ng(n+1)=9.594952e+001;
n=48; farx(n+1)=6.799503e-001; foe(n+1)=2.832113e+000; krok(n+1)=6.480438e-001; ng(n+1)=9.140815e+001;
n=49; farx(n+1)=6.748371e-001; foe(n+1)=2.821136e+000; krok(n+1)=1.078288e+000; ng(n+1)=9.338267e+000;
n=50; farx(n+1)=6.629540e-001; foe(n+1)=2.805325e+000; krok(n+1)=1.854055e+000; ng(n+1)=4.308821e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
