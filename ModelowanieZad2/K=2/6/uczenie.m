%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.564215e+002; foe(n+1)=2.571814e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.788385e+002; foe(n+1)=1.797657e+002; krok(n+1)=5.100741e-004; ng(n+1)=5.730596e+002;
n=2; farx(n+1)=9.284163e+001; foe(n+1)=1.152314e+002; krok(n+1)=1.733857e-002; ng(n+1)=1.213679e+002;
n=3; farx(n+1)=3.611721e+001; foe(n+1)=5.425647e+001; krok(n+1)=2.625683e-004; ng(n+1)=1.023570e+003;
n=4; farx(n+1)=3.488790e+001; foe(n+1)=5.315829e+001; krok(n+1)=1.655312e-004; ng(n+1)=1.881115e+002;
n=5; farx(n+1)=2.558279e+001; foe(n+1)=5.080394e+001; krok(n+1)=2.013864e-003; ng(n+1)=8.082114e+001;
n=6; farx(n+1)=2.950349e+001; foe(n+1)=4.315030e+001; krok(n+1)=1.213054e-002; ng(n+1)=4.390473e+002;
n=7; farx(n+1)=2.716013e+001; foe(n+1)=3.826427e+001; krok(n+1)=9.793864e-003; ng(n+1)=2.043683e+002;
n=8; farx(n+1)=2.642550e+001; foe(n+1)=3.710395e+001; krok(n+1)=2.275225e-003; ng(n+1)=3.712218e+002;
n=9; farx(n+1)=2.603096e+001; foe(n+1)=3.660280e+001; krok(n+1)=5.674396e-004; ng(n+1)=3.600315e+002;
n=10; farx(n+1)=2.421815e+001; foe(n+1)=3.467942e+001; krok(n+1)=3.286413e-003; ng(n+1)=4.837797e+002;
n=11; farx(n+1)=2.333291e+001; foe(n+1)=3.369836e+001; krok(n+1)=1.621288e-003; ng(n+1)=3.212415e+002;
n=12; farx(n+1)=2.099125e+001; foe(n+1)=3.285140e+001; krok(n+1)=3.407387e-002; ng(n+1)=1.716853e+002;
n=13; farx(n+1)=1.554899e+001; foe(n+1)=3.040952e+001; krok(n+1)=1.076348e-002; ng(n+1)=2.497791e+002;
n=14; farx(n+1)=1.175681e+001; foe(n+1)=2.789706e+001; krok(n+1)=5.893163e-002; ng(n+1)=3.362769e+002;
n=15; farx(n+1)=8.547843e+000; foe(n+1)=2.516747e+001; krok(n+1)=4.048730e-002; ng(n+1)=3.391987e+002;
n=16; farx(n+1)=5.004288e+000; foe(n+1)=1.987136e+001; krok(n+1)=1.674643e-001; ng(n+1)=6.320314e+002;
n=17; farx(n+1)=2.503043e+000; foe(n+1)=1.510295e+001; krok(n+1)=1.381088e-001; ng(n+1)=1.625610e+003;
n=18; farx(n+1)=2.613270e+000; foe(n+1)=1.359296e+001; krok(n+1)=6.081676e-002; ng(n+1)=1.795789e+003;
n=19; farx(n+1)=1.899569e+000; foe(n+1)=1.170262e+001; krok(n+1)=2.320583e-001; ng(n+1)=5.053257e+002;
n=20; farx(n+1)=1.451254e+000; foe(n+1)=9.807241e+000; krok(n+1)=3.276650e-001; ng(n+1)=6.171308e+002;
n=21; farx(n+1)=1.068209e+000; foe(n+1)=8.753680e+000; krok(n+1)=4.114269e-001; ng(n+1)=5.220367e+002;
n=22; farx(n+1)=9.479051e-001; foe(n+1)=7.676924e+000; krok(n+1)=6.762233e-001; ng(n+1)=5.424163e+002;
n=23; farx(n+1)=9.534093e-001; foe(n+1)=7.083568e+000; krok(n+1)=8.375141e-001; ng(n+1)=2.208859e+002;
n=24; farx(n+1)=9.783459e-001; foe(n+1)=6.783641e+000; krok(n+1)=6.113321e-001; ng(n+1)=3.846529e+002;
n=25; farx(n+1)=9.780730e-001; foe(n+1)=6.664830e+000; krok(n+1)=3.916031e-001; ng(n+1)=1.843446e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.778457e-001; foe(n+1)=6.653391e+000; krok(n+1)=1.283755e-005; ng(n+1)=9.694985e+001;
n=27; farx(n+1)=9.785329e-001; foe(n+1)=6.645093e+000; krok(n+1)=1.503988e-004; ng(n+1)=2.246055e+001;
n=28; farx(n+1)=9.823331e-001; foe(n+1)=6.618124e+000; krok(n+1)=1.875506e-005; ng(n+1)=9.534326e+001;
n=29; farx(n+1)=9.112699e-001; foe(n+1)=6.430040e+000; krok(n+1)=1.869974e-003; ng(n+1)=3.138979e+001;
n=30; farx(n+1)=8.779642e-001; foe(n+1)=6.037730e+000; krok(n+1)=1.693613e-002; ng(n+1)=4.257981e+001;
n=31; farx(n+1)=8.666772e-001; foe(n+1)=5.826110e+000; krok(n+1)=1.000726e-002; ng(n+1)=2.226179e+002;
n=32; farx(n+1)=9.116722e-001; foe(n+1)=5.336774e+000; krok(n+1)=1.168746e-002; ng(n+1)=4.418864e+002;
n=33; farx(n+1)=8.953951e-001; foe(n+1)=5.191965e+000; krok(n+1)=1.430505e-002; ng(n+1)=3.128868e+002;
n=34; farx(n+1)=9.888983e-001; foe(n+1)=4.967163e+000; krok(n+1)=3.119818e-002; ng(n+1)=1.957406e+002;
n=35; farx(n+1)=1.061442e+000; foe(n+1)=4.823736e+000; krok(n+1)=1.109636e-002; ng(n+1)=3.462343e+002;
n=36; farx(n+1)=1.058757e+000; foe(n+1)=4.775608e+000; krok(n+1)=8.518466e-003; ng(n+1)=6.553352e+002;
n=37; farx(n+1)=1.220787e+000; foe(n+1)=4.727825e+000; krok(n+1)=1.887840e-002; ng(n+1)=7.538858e+002;
n=38; farx(n+1)=1.158152e+000; foe(n+1)=4.335236e+000; krok(n+1)=2.295125e-001; ng(n+1)=6.518402e+002;
n=39; farx(n+1)=9.879396e-001; foe(n+1)=3.579136e+000; krok(n+1)=4.572701e-001; ng(n+1)=7.461085e+002;
n=40; farx(n+1)=1.064274e+000; foe(n+1)=3.269603e+000; krok(n+1)=2.730638e-001; ng(n+1)=1.366654e+002;
n=41; farx(n+1)=9.401400e-001; foe(n+1)=3.032534e+000; krok(n+1)=2.454949e-001; ng(n+1)=1.933237e+002;
n=42; farx(n+1)=9.798183e-001; foe(n+1)=2.644114e+000; krok(n+1)=9.906032e-001; ng(n+1)=1.721409e+002;
n=43; farx(n+1)=8.876018e-001; foe(n+1)=2.086828e+000; krok(n+1)=1.856466e+000; ng(n+1)=3.161660e+002;
n=44; farx(n+1)=7.497921e-001; foe(n+1)=1.750175e+000; krok(n+1)=4.206609e-001; ng(n+1)=2.545840e+002;
n=45; farx(n+1)=7.538545e-001; foe(n+1)=1.678041e+000; krok(n+1)=2.910883e-001; ng(n+1)=1.263232e+002;
n=46; farx(n+1)=7.712206e-001; foe(n+1)=1.482448e+000; krok(n+1)=3.749470e-001; ng(n+1)=2.809717e+002;
n=47; farx(n+1)=6.571600e-001; foe(n+1)=1.106866e+000; krok(n+1)=5.788951e-001; ng(n+1)=1.918497e+002;
n=48; farx(n+1)=6.377318e-001; foe(n+1)=1.044889e+000; krok(n+1)=6.026677e-001; ng(n+1)=1.908482e+002;
n=49; farx(n+1)=5.224078e-001; foe(n+1)=9.804460e-001; krok(n+1)=5.166865e-001; ng(n+1)=9.190048e+001;
n=50; farx(n+1)=5.347554e-001; foe(n+1)=9.052660e-001; krok(n+1)=8.006816e-001; ng(n+1)=1.164461e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
