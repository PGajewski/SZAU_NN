%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.499265e+002; foe(n+1)=2.517918e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.722303e+002; foe(n+1)=1.741558e+002; krok(n+1)=4.927090e-004; ng(n+1)=5.814815e+002;
n=2; farx(n+1)=5.808463e+001; foe(n+1)=6.317379e+001; krok(n+1)=1.450364e-002; ng(n+1)=1.261589e+002;
n=3; farx(n+1)=5.548552e+001; foe(n+1)=6.000611e+001; krok(n+1)=7.899388e-004; ng(n+1)=2.533011e+002;
n=4; farx(n+1)=5.616253e+001; foe(n+1)=5.510842e+001; krok(n+1)=1.153579e-002; ng(n+1)=2.823877e+002;
n=5; farx(n+1)=4.618758e+001; foe(n+1)=5.303729e+001; krok(n+1)=2.331822e-002; ng(n+1)=5.832004e+001;
n=6; farx(n+1)=3.541177e+001; foe(n+1)=5.063551e+001; krok(n+1)=2.008828e-002; ng(n+1)=1.575826e+002;
n=7; farx(n+1)=1.825714e+001; foe(n+1)=4.600370e+001; krok(n+1)=9.612071e-003; ng(n+1)=2.420709e+002;
n=8; farx(n+1)=1.332395e+001; foe(n+1)=4.405237e+001; krok(n+1)=5.654998e-003; ng(n+1)=5.408280e+002;
n=9; farx(n+1)=1.067882e+001; foe(n+1)=3.512052e+001; krok(n+1)=2.611507e-002; ng(n+1)=7.539624e+002;
n=10; farx(n+1)=1.277813e+001; foe(n+1)=2.793460e+001; krok(n+1)=3.687960e-002; ng(n+1)=1.021066e+003;
n=11; farx(n+1)=1.248859e+001; foe(n+1)=2.576207e+001; krok(n+1)=4.102628e-002; ng(n+1)=3.239511e+002;
n=12; farx(n+1)=1.043137e+001; foe(n+1)=2.320499e+001; krok(n+1)=1.247927e-001; ng(n+1)=3.440572e+002;
n=13; farx(n+1)=6.880814e+000; foe(n+1)=1.861677e+001; krok(n+1)=5.529705e-002; ng(n+1)=3.264312e+002;
n=14; farx(n+1)=4.206775e+000; foe(n+1)=1.185667e+001; krok(n+1)=1.903039e-001; ng(n+1)=5.488003e+002;
n=15; farx(n+1)=3.765984e+000; foe(n+1)=1.049717e+001; krok(n+1)=3.871130e-002; ng(n+1)=2.229543e+002;
n=16; farx(n+1)=2.495439e+000; foe(n+1)=8.553668e+000; krok(n+1)=5.377399e-001; ng(n+1)=1.847612e+002;
n=17; farx(n+1)=2.287096e+000; foe(n+1)=7.866146e+000; krok(n+1)=2.317569e-001; ng(n+1)=3.020259e+002;
n=18; farx(n+1)=2.063677e+000; foe(n+1)=7.468737e+000; krok(n+1)=8.536620e-001; ng(n+1)=7.495952e+001;
n=19; farx(n+1)=1.987424e+000; foe(n+1)=7.248564e+000; krok(n+1)=5.312625e-001; ng(n+1)=1.183135e+002;
n=20; farx(n+1)=1.442445e+000; foe(n+1)=6.514691e+000; krok(n+1)=2.327818e+000; ng(n+1)=1.436828e+002;
n=21; farx(n+1)=1.287301e+000; foe(n+1)=6.224434e+000; krok(n+1)=1.324162e+000; ng(n+1)=8.300454e+001;
n=22; farx(n+1)=1.237741e+000; foe(n+1)=6.059159e+000; krok(n+1)=7.525275e-001; ng(n+1)=6.913078e+001;
n=23; farx(n+1)=1.180058e+000; foe(n+1)=5.921140e+000; krok(n+1)=1.422745e+000; ng(n+1)=2.596011e+001;
n=24; farx(n+1)=1.027035e+000; foe(n+1)=5.786473e+000; krok(n+1)=1.236406e+000; ng(n+1)=6.519971e+001;
n=25; farx(n+1)=1.020722e+000; foe(n+1)=5.601662e+000; krok(n+1)=1.492366e+000; ng(n+1)=5.176072e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.002599e+000; foe(n+1)=5.554369e+000; krok(n+1)=2.018691e-005; ng(n+1)=8.617897e+001;
n=27; farx(n+1)=1.006690e+000; foe(n+1)=5.524302e+000; krok(n+1)=1.063821e-003; ng(n+1)=1.390808e+001;
n=28; farx(n+1)=1.019798e+000; foe(n+1)=5.466206e+000; krok(n+1)=1.828869e-004; ng(n+1)=4.582492e+001;
n=29; farx(n+1)=1.000541e+000; foe(n+1)=5.041387e+000; krok(n+1)=3.334617e-003; ng(n+1)=2.667228e+001;
n=30; farx(n+1)=9.492714e-001; foe(n+1)=4.844148e+000; krok(n+1)=1.333847e-002; ng(n+1)=6.954662e+001;
n=31; farx(n+1)=9.289408e-001; foe(n+1)=4.777391e+000; krok(n+1)=1.283974e-002; ng(n+1)=1.614846e+002;
n=32; farx(n+1)=9.090871e-001; foe(n+1)=4.697005e+000; krok(n+1)=6.257210e-002; ng(n+1)=1.260823e+002;
n=33; farx(n+1)=8.304493e-001; foe(n+1)=4.537063e+000; krok(n+1)=2.517497e-002; ng(n+1)=1.900167e+002;
n=34; farx(n+1)=8.430054e-001; foe(n+1)=4.312826e+000; krok(n+1)=1.383675e-001; ng(n+1)=2.992936e+002;
n=35; farx(n+1)=9.365300e-001; foe(n+1)=3.937462e+000; krok(n+1)=4.930774e-001; ng(n+1)=3.022355e+002;
n=36; farx(n+1)=7.802648e-001; foe(n+1)=3.683724e+000; krok(n+1)=3.886554e-001; ng(n+1)=1.415184e+002;
n=37; farx(n+1)=7.236646e-001; foe(n+1)=3.263204e+000; krok(n+1)=9.471081e-001; ng(n+1)=8.784413e+001;
n=38; farx(n+1)=6.880956e-001; foe(n+1)=3.119828e+000; krok(n+1)=2.538306e-001; ng(n+1)=7.077770e+001;
n=39; farx(n+1)=6.397193e-001; foe(n+1)=2.925770e+000; krok(n+1)=6.871474e-001; ng(n+1)=1.545359e+002;
n=40; farx(n+1)=5.978113e-001; foe(n+1)=2.799085e+000; krok(n+1)=1.146483e+000; ng(n+1)=1.153826e+002;
n=41; farx(n+1)=5.729014e-001; foe(n+1)=2.699758e+000; krok(n+1)=1.145447e+000; ng(n+1)=1.077587e+002;
n=42; farx(n+1)=5.454236e-001; foe(n+1)=2.661136e+000; krok(n+1)=1.514306e+000; ng(n+1)=4.115235e+001;
n=43; farx(n+1)=5.459992e-001; foe(n+1)=2.645530e+000; krok(n+1)=4.788369e-001; ng(n+1)=7.942744e+001;
n=44; farx(n+1)=5.723481e-001; foe(n+1)=2.589578e+000; krok(n+1)=3.018044e+000; ng(n+1)=2.441806e+001;
n=45; farx(n+1)=6.403941e-001; foe(n+1)=2.516063e+000; krok(n+1)=2.615134e+000; ng(n+1)=5.700850e+001;
n=46; farx(n+1)=6.423535e-001; foe(n+1)=2.492453e+000; krok(n+1)=1.139125e+000; ng(n+1)=1.486968e+001;
n=47; farx(n+1)=6.266765e-001; foe(n+1)=2.484765e+000; krok(n+1)=7.926233e-001; ng(n+1)=1.306776e+001;
n=48; farx(n+1)=6.295724e-001; foe(n+1)=2.467373e+000; krok(n+1)=2.196657e+000; ng(n+1)=1.810185e+001;
n=49; farx(n+1)=5.893035e-001; foe(n+1)=2.430001e+000; krok(n+1)=2.742889e+000; ng(n+1)=1.833031e+001;
n=50; farx(n+1)=5.672778e-001; foe(n+1)=2.402922e+000; krok(n+1)=2.075725e+000; ng(n+1)=1.961397e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
