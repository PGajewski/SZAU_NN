%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.597134e+002; foe(n+1)=2.560201e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.791973e+002; foe(n+1)=1.769184e+002; krok(n+1)=5.061965e-004; ng(n+1)=5.837010e+002;
n=2; farx(n+1)=5.984757e+001; foe(n+1)=5.694241e+001; krok(n+1)=2.643052e-002; ng(n+1)=1.024879e+002;
n=3; farx(n+1)=5.590099e+001; foe(n+1)=5.293804e+001; krok(n+1)=5.107684e-003; ng(n+1)=1.272547e+002;
n=4; farx(n+1)=5.483024e+001; foe(n+1)=5.247833e+001; krok(n+1)=2.281831e-003; ng(n+1)=5.216869e+001;
n=5; farx(n+1)=4.285143e+001; foe(n+1)=4.822774e+001; krok(n+1)=2.194150e-002; ng(n+1)=5.766276e+001;
n=6; farx(n+1)=7.376668e+000; foe(n+1)=2.345065e+001; krok(n+1)=1.033148e-001; ng(n+1)=1.123447e+002;
n=7; farx(n+1)=5.568871e+000; foe(n+1)=2.212014e+001; krok(n+1)=2.363686e-003; ng(n+1)=2.428535e+002;
n=8; farx(n+1)=4.854900e+000; foe(n+1)=2.092106e+001; krok(n+1)=8.053672e-003; ng(n+1)=3.259300e+002;
n=9; farx(n+1)=3.363299e+000; foe(n+1)=1.517146e+001; krok(n+1)=8.000730e-002; ng(n+1)=3.428891e+002;
n=10; farx(n+1)=3.391237e+000; foe(n+1)=1.198305e+001; krok(n+1)=3.372291e-001; ng(n+1)=2.474284e+002;
n=11; farx(n+1)=3.675624e+000; foe(n+1)=1.069136e+001; krok(n+1)=9.120186e-002; ng(n+1)=3.361550e+002;
n=12; farx(n+1)=2.261133e+000; foe(n+1)=8.321301e+000; krok(n+1)=7.571530e-001; ng(n+1)=1.501142e+002;
n=13; farx(n+1)=1.988693e+000; foe(n+1)=7.128702e+000; krok(n+1)=6.039386e-001; ng(n+1)=1.259279e+002;
n=14; farx(n+1)=1.729560e+000; foe(n+1)=6.141395e+000; krok(n+1)=7.746648e-002; ng(n+1)=1.082091e+002;
n=15; farx(n+1)=1.172377e+000; foe(n+1)=4.255329e+000; krok(n+1)=1.817806e+000; ng(n+1)=1.846756e+002;
n=16; farx(n+1)=1.143667e+000; foe(n+1)=4.055027e+000; krok(n+1)=6.301521e-002; ng(n+1)=4.802725e+001;
n=17; farx(n+1)=1.033257e+000; foe(n+1)=3.526861e+000; krok(n+1)=7.101669e-001; ng(n+1)=7.929636e+001;
n=18; farx(n+1)=1.113975e+000; foe(n+1)=3.271831e+000; krok(n+1)=4.089939e-001; ng(n+1)=1.140473e+002;
n=19; farx(n+1)=9.888360e-001; foe(n+1)=3.134073e+000; krok(n+1)=6.809733e-001; ng(n+1)=1.993388e+001;
n=20; farx(n+1)=9.733947e-001; foe(n+1)=2.963042e+000; krok(n+1)=1.027715e+000; ng(n+1)=2.438902e+001;
n=21; farx(n+1)=9.938316e-001; foe(n+1)=2.909900e+000; krok(n+1)=9.073805e-001; ng(n+1)=3.819012e+001;
n=22; farx(n+1)=1.011303e+000; foe(n+1)=2.854842e+000; krok(n+1)=2.172575e+000; ng(n+1)=2.099209e+001;
n=23; farx(n+1)=1.016675e+000; foe(n+1)=2.780425e+000; krok(n+1)=2.507229e+000; ng(n+1)=2.235581e+001;
n=24; farx(n+1)=9.588048e-001; foe(n+1)=2.702497e+000; krok(n+1)=1.740861e+000; ng(n+1)=2.415342e+001;
n=25; farx(n+1)=9.277620e-001; foe(n+1)=2.663392e+000; krok(n+1)=1.498210e+000; ng(n+1)=2.976115e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.270272e-001; foe(n+1)=2.660366e+000; krok(n+1)=3.070301e-005; ng(n+1)=2.497830e+001;
n=27; farx(n+1)=9.234856e-001; foe(n+1)=2.658082e+000; krok(n+1)=1.258386e-004; ng(n+1)=9.824266e+000;
n=28; farx(n+1)=9.283615e-001; foe(n+1)=2.657210e+000; krok(n+1)=2.161992e-003; ng(n+1)=1.901158e+000;
n=29; farx(n+1)=9.360621e-001; foe(n+1)=2.652093e+000; krok(n+1)=2.553842e-003; ng(n+1)=3.636577e+000;
n=30; farx(n+1)=9.250694e-001; foe(n+1)=2.636168e+000; krok(n+1)=2.308292e-002; ng(n+1)=3.403002e+000;
n=31; farx(n+1)=8.983709e-001; foe(n+1)=2.582245e+000; krok(n+1)=8.569436e-002; ng(n+1)=1.277592e+001;
n=32; farx(n+1)=8.437762e-001; foe(n+1)=2.542726e+000; krok(n+1)=2.821404e-001; ng(n+1)=6.132867e+001;
n=33; farx(n+1)=7.837796e-001; foe(n+1)=2.476866e+000; krok(n+1)=2.714701e-001; ng(n+1)=6.587404e+001;
n=34; farx(n+1)=7.819387e-001; foe(n+1)=2.442112e+000; krok(n+1)=3.886554e-001; ng(n+1)=4.438378e+001;
n=35; farx(n+1)=7.750417e-001; foe(n+1)=2.380152e+000; krok(n+1)=1.065469e+000; ng(n+1)=1.871621e+001;
n=36; farx(n+1)=7.508429e-001; foe(n+1)=2.358197e+000; krok(n+1)=4.147513e-001; ng(n+1)=1.697571e+001;
n=37; farx(n+1)=7.217781e-001; foe(n+1)=2.342321e+000; krok(n+1)=6.046342e-001; ng(n+1)=4.061383e+001;
n=38; farx(n+1)=6.681038e-001; foe(n+1)=2.316809e+000; krok(n+1)=7.310195e-001; ng(n+1)=1.242202e+001;
n=39; farx(n+1)=6.200828e-001; foe(n+1)=2.281005e+000; krok(n+1)=1.754369e+000; ng(n+1)=1.878235e+001;
n=40; farx(n+1)=5.758345e-001; foe(n+1)=2.257644e+000; krok(n+1)=4.572701e-001; ng(n+1)=2.106748e+001;
n=41; farx(n+1)=5.441244e-001; foe(n+1)=2.243518e+000; krok(n+1)=4.936156e-001; ng(n+1)=1.292459e+001;
n=42; farx(n+1)=4.980272e-001; foe(n+1)=2.217226e+000; krok(n+1)=1.608038e+000; ng(n+1)=3.640228e+001;
n=43; farx(n+1)=4.921474e-001; foe(n+1)=2.207217e+000; krok(n+1)=6.428475e-001; ng(n+1)=2.146834e+001;
n=44; farx(n+1)=4.807452e-001; foe(n+1)=2.186334e+000; krok(n+1)=1.157790e+000; ng(n+1)=2.857221e+001;
n=45; farx(n+1)=4.776431e-001; foe(n+1)=2.174222e+000; krok(n+1)=1.402391e+000; ng(n+1)=2.513509e+001;
n=46; farx(n+1)=4.561827e-001; foe(n+1)=2.167098e+000; krok(n+1)=5.982775e-001; ng(n+1)=1.121592e+001;
n=47; farx(n+1)=4.494636e-001; foe(n+1)=2.160608e+000; krok(n+1)=3.619299e-001; ng(n+1)=1.345906e+001;
n=48; farx(n+1)=4.390764e-001; foe(n+1)=2.153611e+000; krok(n+1)=6.553300e-001; ng(n+1)=2.176746e+001;
n=49; farx(n+1)=4.328881e-001; foe(n+1)=2.147389e+000; krok(n+1)=4.686024e-001; ng(n+1)=3.355285e+001;
n=50; farx(n+1)=4.331058e-001; foe(n+1)=2.141337e+000; krok(n+1)=1.585247e+000; ng(n+1)=4.896474e+000;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
