%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.745163e+002; foe(n+1)=1.770213e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.602386e+002; foe(n+1)=1.630745e+002; krok(n+1)=7.359836e-004; ng(n+1)=5.449158e+002;
n=2; farx(n+1)=7.328457e+001; foe(n+1)=7.571418e+001; krok(n+1)=4.064431e-003; ng(n+1)=4.885098e+002;
n=3; farx(n+1)=6.022473e+001; foe(n+1)=5.762924e+001; krok(n+1)=3.559503e-003; ng(n+1)=5.419273e+002;
n=4; farx(n+1)=5.871563e+001; foe(n+1)=5.531607e+001; krok(n+1)=2.329252e-003; ng(n+1)=2.590784e+002;
n=5; farx(n+1)=4.144735e+001; foe(n+1)=5.099801e+001; krok(n+1)=3.397782e-002; ng(n+1)=7.008462e+001;
n=6; farx(n+1)=1.026673e+001; foe(n+1)=3.550560e+001; krok(n+1)=1.936662e-002; ng(n+1)=2.810913e+002;
n=7; farx(n+1)=8.569939e+000; foe(n+1)=3.386118e+001; krok(n+1)=6.546014e-005; ng(n+1)=2.153995e+003;
n=8; farx(n+1)=8.868946e+000; foe(n+1)=3.217468e+001; krok(n+1)=5.852382e-003; ng(n+1)=3.078938e+003;
n=9; farx(n+1)=9.509584e+000; foe(n+1)=3.001635e+001; krok(n+1)=6.488063e-004; ng(n+1)=3.297304e+003;
n=10; farx(n+1)=1.010277e+001; foe(n+1)=2.908921e+001; krok(n+1)=3.400118e-003; ng(n+1)=2.533881e+003;
n=11; farx(n+1)=1.364663e+001; foe(n+1)=2.335259e+001; krok(n+1)=2.476948e-002; ng(n+1)=2.228909e+003;
n=12; farx(n+1)=1.331747e+001; foe(n+1)=2.071532e+001; krok(n+1)=2.307159e-002; ng(n+1)=4.327224e+002;
n=13; farx(n+1)=1.314675e+001; foe(n+1)=2.004712e+001; krok(n+1)=3.467612e-004; ng(n+1)=8.790393e+002;
n=14; farx(n+1)=1.113163e+001; foe(n+1)=1.710064e+001; krok(n+1)=1.488820e-002; ng(n+1)=8.206392e+002;
n=15; farx(n+1)=6.933968e+000; foe(n+1)=1.260800e+001; krok(n+1)=3.840117e-003; ng(n+1)=8.440792e+002;
n=16; farx(n+1)=6.787070e+000; foe(n+1)=1.193094e+001; krok(n+1)=4.770094e-004; ng(n+1)=6.082020e+002;
n=17; farx(n+1)=5.998895e+000; foe(n+1)=1.122582e+001; krok(n+1)=1.343762e-002; ng(n+1)=2.753503e+002;
n=18; farx(n+1)=4.420985e+000; foe(n+1)=9.573439e+000; krok(n+1)=1.806016e-002; ng(n+1)=3.157230e+002;
n=19; farx(n+1)=3.402791e+000; foe(n+1)=8.731135e+000; krok(n+1)=1.464382e-002; ng(n+1)=5.215496e+002;
n=20; farx(n+1)=2.393064e+000; foe(n+1)=7.544925e+000; krok(n+1)=1.111520e-002; ng(n+1)=1.160701e+002;
n=21; farx(n+1)=1.279924e+000; foe(n+1)=5.291423e+000; krok(n+1)=1.506159e-002; ng(n+1)=4.500657e+002;
n=22; farx(n+1)=1.194024e+000; foe(n+1)=4.463825e+000; krok(n+1)=9.778245e-003; ng(n+1)=4.506041e+002;
n=23; farx(n+1)=1.134089e+000; foe(n+1)=4.104767e+000; krok(n+1)=2.173419e-002; ng(n+1)=3.461488e+002;
n=24; farx(n+1)=1.135056e+000; foe(n+1)=3.820097e+000; krok(n+1)=4.718270e-003; ng(n+1)=1.442123e+002;
n=25; farx(n+1)=1.084451e+000; foe(n+1)=3.507573e+000; krok(n+1)=4.447430e-003; ng(n+1)=3.610881e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.946905e-001; foe(n+1)=3.390239e+000; krok(n+1)=5.947814e-005; ng(n+1)=2.148775e+002;
n=27; farx(n+1)=9.892255e-001; foe(n+1)=3.371714e+000; krok(n+1)=4.135969e-005; ng(n+1)=9.695854e+001;
n=28; farx(n+1)=9.621232e-001; foe(n+1)=3.332263e+000; krok(n+1)=5.314479e-005; ng(n+1)=1.120406e+002;
n=29; farx(n+1)=9.014782e-001; foe(n+1)=2.996289e+000; krok(n+1)=5.368339e-003; ng(n+1)=3.771755e+001;
n=30; farx(n+1)=9.058856e-001; foe(n+1)=2.625725e+000; krok(n+1)=8.704305e-003; ng(n+1)=1.128557e+002;
n=31; farx(n+1)=9.347560e-001; foe(n+1)=2.386170e+000; krok(n+1)=4.841655e-003; ng(n+1)=1.457801e+002;
n=32; farx(n+1)=9.515313e-001; foe(n+1)=2.116709e+000; krok(n+1)=2.284436e-002; ng(n+1)=2.151564e+002;
n=33; farx(n+1)=6.808018e-001; foe(n+1)=1.764601e+000; krok(n+1)=3.687011e-002; ng(n+1)=7.351327e+001;
n=34; farx(n+1)=6.359723e-001; foe(n+1)=1.700018e+000; krok(n+1)=2.716773e-003; ng(n+1)=2.151801e+002;
n=35; farx(n+1)=5.639061e-001; foe(n+1)=1.568114e+000; krok(n+1)=7.032104e-003; ng(n+1)=1.694523e+002;
n=36; farx(n+1)=5.136539e-001; foe(n+1)=1.388872e+000; krok(n+1)=3.616714e-002; ng(n+1)=6.522706e+001;
n=37; farx(n+1)=4.614542e-001; foe(n+1)=1.194896e+000; krok(n+1)=5.101860e-002; ng(n+1)=3.004571e+001;
n=38; farx(n+1)=4.367302e-001; foe(n+1)=1.037512e+000; krok(n+1)=9.213222e-003; ng(n+1)=2.522680e+002;
n=39; farx(n+1)=4.449044e-001; foe(n+1)=9.276430e-001; krok(n+1)=6.170512e-002; ng(n+1)=1.560773e+002;
n=40; farx(n+1)=4.461077e-001; foe(n+1)=8.850494e-001; krok(n+1)=7.444102e-003; ng(n+1)=2.446397e+002;
n=41; farx(n+1)=4.361772e-001; foe(n+1)=8.421072e-001; krok(n+1)=5.955282e-002; ng(n+1)=3.172537e+001;
n=42; farx(n+1)=4.246962e-001; foe(n+1)=8.288230e-001; krok(n+1)=2.069473e-002; ng(n+1)=6.134714e+001;
n=43; farx(n+1)=3.851460e-001; foe(n+1)=7.563989e-001; krok(n+1)=1.044009e-001; ng(n+1)=5.655516e+001;
n=44; farx(n+1)=3.769660e-001; foe(n+1)=6.989332e-001; krok(n+1)=6.162212e-002; ng(n+1)=1.141198e+002;
n=45; farx(n+1)=3.796243e-001; foe(n+1)=6.689995e-001; krok(n+1)=3.394649e-002; ng(n+1)=1.181356e+002;
n=46; farx(n+1)=3.864197e-001; foe(n+1)=6.420885e-001; krok(n+1)=1.365319e-001; ng(n+1)=2.200684e+001;
n=47; farx(n+1)=3.791312e-001; foe(n+1)=6.174583e-001; krok(n+1)=8.452792e-002; ng(n+1)=8.578717e+001;
n=48; farx(n+1)=3.602745e-001; foe(n+1)=5.895730e-001; krok(n+1)=9.946858e-002; ng(n+1)=7.478454e+001;
n=49; farx(n+1)=3.489893e-001; foe(n+1)=5.510522e-001; krok(n+1)=8.973318e-002; ng(n+1)=1.201801e+002;
n=50; farx(n+1)=3.439915e-001; foe(n+1)=5.329491e-001; krok(n+1)=6.900644e-002; ng(n+1)=6.457031e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
