%uczenie predyktora oe
clear all;
n=0; farx(n+1)=1.943841e+002; foe(n+1)=1.901408e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.733619e+002; foe(n+1)=1.703787e+002; krok(n+1)=6.807228e-004; ng(n+1)=7.144658e+002;
n=2; farx(n+1)=5.600158e+001; foe(n+1)=5.578013e+001; krok(n+1)=6.970444e-003; ng(n+1)=5.089091e+002;
n=3; farx(n+1)=5.359851e+001; foe(n+1)=5.348981e+001; krok(n+1)=1.413750e-003; ng(n+1)=2.246024e+002;
n=4; farx(n+1)=5.117513e+001; foe(n+1)=5.244079e+001; krok(n+1)=2.513970e-003; ng(n+1)=1.170484e+002;
n=5; farx(n+1)=1.208198e+001; foe(n+1)=2.614411e+001; krok(n+1)=7.000904e-002; ng(n+1)=9.503470e+001;
n=6; farx(n+1)=1.010638e+001; foe(n+1)=2.245241e+001; krok(n+1)=1.086571e-003; ng(n+1)=4.352209e+002;
n=7; farx(n+1)=1.013694e+001; foe(n+1)=2.173455e+001; krok(n+1)=9.143281e-004; ng(n+1)=4.935408e+002;
n=8; farx(n+1)=8.663763e+000; foe(n+1)=1.975777e+001; krok(n+1)=1.589602e-002; ng(n+1)=1.714621e+002;
n=9; farx(n+1)=8.068838e+000; foe(n+1)=1.926518e+001; krok(n+1)=2.357114e-003; ng(n+1)=2.201165e+002;
n=10; farx(n+1)=7.199451e+000; foe(n+1)=1.775571e+001; krok(n+1)=4.017797e-002; ng(n+1)=2.261511e+002;
n=11; farx(n+1)=6.309287e+000; foe(n+1)=1.396540e+001; krok(n+1)=5.894618e-003; ng(n+1)=7.453901e+002;
n=12; farx(n+1)=6.043429e+000; foe(n+1)=1.360071e+001; krok(n+1)=2.883948e-003; ng(n+1)=1.617043e+002;
n=13; farx(n+1)=4.811924e+000; foe(n+1)=1.199767e+001; krok(n+1)=7.585588e-003; ng(n+1)=2.265059e+002;
n=14; farx(n+1)=3.859672e+000; foe(n+1)=9.020903e+000; krok(n+1)=2.482161e-003; ng(n+1)=8.648868e+002;
n=15; farx(n+1)=3.645380e+000; foe(n+1)=8.204624e+000; krok(n+1)=1.812955e-003; ng(n+1)=5.412230e+002;
n=16; farx(n+1)=3.414851e+000; foe(n+1)=6.001083e+000; krok(n+1)=1.464382e-002; ng(n+1)=7.567517e+002;
n=17; farx(n+1)=3.139853e+000; foe(n+1)=5.375098e+000; krok(n+1)=3.550402e-003; ng(n+1)=4.456346e+002;
n=18; farx(n+1)=2.428884e+000; foe(n+1)=3.899070e+000; krok(n+1)=3.816075e-003; ng(n+1)=5.451992e+002;
n=19; farx(n+1)=1.812299e+000; foe(n+1)=3.063731e+000; krok(n+1)=8.806488e-003; ng(n+1)=5.723101e+002;
n=20; farx(n+1)=1.179015e+000; foe(n+1)=2.090372e+000; krok(n+1)=7.883344e-003; ng(n+1)=9.492993e+002;
n=21; farx(n+1)=9.200186e-001; foe(n+1)=1.556350e+000; krok(n+1)=7.530795e-003; ng(n+1)=5.071291e+002;
n=22; farx(n+1)=6.852089e-001; foe(n+1)=1.147082e+000; krok(n+1)=1.394089e-002; ng(n+1)=3.152466e+002;
n=23; farx(n+1)=5.581382e-001; foe(n+1)=9.229477e-001; krok(n+1)=2.476948e-002; ng(n+1)=1.492188e+002;
n=24; farx(n+1)=5.255408e-001; foe(n+1)=8.540641e-001; krok(n+1)=1.729712e-002; ng(n+1)=8.726705e+001;
n=25; farx(n+1)=5.121955e-001; foe(n+1)=8.317401e-001; krok(n+1)=2.452306e-002; ng(n+1)=1.235168e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=5.136171e-001; foe(n+1)=8.280387e-001; krok(n+1)=2.361801e-005; ng(n+1)=4.975321e+001;
n=27; farx(n+1)=5.141466e-001; foe(n+1)=8.274391e-001; krok(n+1)=2.105761e-005; ng(n+1)=2.268687e+001;
n=28; farx(n+1)=5.148893e-001; foe(n+1)=8.257284e-001; krok(n+1)=1.306689e-004; ng(n+1)=1.574446e+001;
n=29; farx(n+1)=5.094074e-001; foe(n+1)=7.978374e-001; krok(n+1)=5.368339e-003; ng(n+1)=1.171815e+001;
n=30; farx(n+1)=4.695883e-001; foe(n+1)=7.373407e-001; krok(n+1)=1.165868e-002; ng(n+1)=1.220259e+001;
n=31; farx(n+1)=4.535483e-001; foe(n+1)=6.669543e-001; krok(n+1)=3.052860e-002; ng(n+1)=1.131024e+002;
n=32; farx(n+1)=4.352448e-001; foe(n+1)=6.262081e-001; krok(n+1)=2.251094e-002; ng(n+1)=9.582113e+001;
n=33; farx(n+1)=4.123041e-001; foe(n+1)=5.819985e-001; krok(n+1)=4.165943e-002; ng(n+1)=6.565717e+001;
n=34; farx(n+1)=3.646925e-001; foe(n+1)=5.547339e-001; krok(n+1)=6.995615e-002; ng(n+1)=3.977412e+001;
n=35; farx(n+1)=3.506210e-001; foe(n+1)=5.399513e-001; krok(n+1)=4.346837e-002; ng(n+1)=5.745061e+001;
n=36; farx(n+1)=3.501856e-001; foe(n+1)=5.385877e-001; krok(n+1)=6.255325e-003; ng(n+1)=2.542383e+001;
n=37; farx(n+1)=3.579947e-001; foe(n+1)=5.238386e-001; krok(n+1)=8.877087e-002; ng(n+1)=3.198700e+001;
n=38; farx(n+1)=3.579656e-001; foe(n+1)=5.163553e-001; krok(n+1)=8.512166e-002; ng(n+1)=3.579021e+001;
n=39; farx(n+1)=3.612853e-001; foe(n+1)=5.120181e-001; krok(n+1)=6.601690e-002; ng(n+1)=4.624725e+001;
n=40; farx(n+1)=3.582350e-001; foe(n+1)=5.084334e-001; krok(n+1)=1.420813e-001; ng(n+1)=1.765970e+001;
n=41; farx(n+1)=3.542352e-001; foe(n+1)=5.049648e-001; krok(n+1)=5.801457e-002; ng(n+1)=4.246070e+001;
n=42; farx(n+1)=3.474257e-001; foe(n+1)=5.014890e-001; krok(n+1)=7.115888e-002; ng(n+1)=2.673483e+001;
n=43; farx(n+1)=3.278109e-001; foe(n+1)=4.911468e-001; krok(n+1)=4.854703e-001; ng(n+1)=1.138725e+001;
n=44; farx(n+1)=3.163096e-001; foe(n+1)=4.851056e-001; krok(n+1)=5.945329e-002; ng(n+1)=3.632583e+001;
n=45; farx(n+1)=3.084551e-001; foe(n+1)=4.809886e-001; krok(n+1)=2.865057e-002; ng(n+1)=3.268412e+001;
n=46; farx(n+1)=3.009761e-001; foe(n+1)=4.732139e-001; krok(n+1)=1.350863e-001; ng(n+1)=3.214293e+001;
n=47; farx(n+1)=2.929586e-001; foe(n+1)=4.642514e-001; krok(n+1)=1.225752e-001; ng(n+1)=1.696019e+001;
n=48; farx(n+1)=2.913213e-001; foe(n+1)=4.575782e-001; krok(n+1)=1.329187e-001; ng(n+1)=4.192988e+001;
n=49; farx(n+1)=2.897557e-001; foe(n+1)=4.464813e-001; krok(n+1)=1.644497e-001; ng(n+1)=3.314303e+001;
n=50; farx(n+1)=2.859682e-001; foe(n+1)=4.372736e-001; krok(n+1)=8.764941e-002; ng(n+1)=1.922295e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
