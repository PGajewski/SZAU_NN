%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.028416e+002; foe(n+1)=2.033403e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.848409e+002; foe(n+1)=1.852129e+002; krok(n+1)=6.750897e-004; ng(n+1)=5.968928e+002;
n=2; farx(n+1)=1.675350e+002; foe(n+1)=1.650469e+002; krok(n+1)=2.530456e-003; ng(n+1)=3.531110e+002;
n=3; farx(n+1)=6.023054e+001; foe(n+1)=5.839043e+001; krok(n+1)=4.866267e-003; ng(n+1)=4.287736e+002;
n=4; farx(n+1)=5.853372e+001; foe(n+1)=5.776670e+001; krok(n+1)=2.050616e-003; ng(n+1)=9.165850e+001;
n=5; farx(n+1)=4.809154e+001; foe(n+1)=5.585360e+001; krok(n+1)=1.019133e-002; ng(n+1)=9.343872e+001;
n=6; farx(n+1)=4.226649e+001; foe(n+1)=4.636944e+001; krok(n+1)=3.294851e-002; ng(n+1)=2.917452e+002;
n=7; farx(n+1)=3.426252e+001; foe(n+1)=3.940796e+001; krok(n+1)=1.694236e-002; ng(n+1)=1.911966e+002;
n=8; farx(n+1)=3.100992e+001; foe(n+1)=3.799878e+001; krok(n+1)=2.774090e-003; ng(n+1)=2.387398e+002;
n=9; farx(n+1)=2.770248e+001; foe(n+1)=3.684871e+001; krok(n+1)=3.379883e-003; ng(n+1)=3.465263e+002;
n=10; farx(n+1)=2.211988e+001; foe(n+1)=3.091820e+001; krok(n+1)=4.904612e-002; ng(n+1)=4.977265e+002;
n=11; farx(n+1)=2.181171e+001; foe(n+1)=3.015913e+001; krok(n+1)=2.349366e-003; ng(n+1)=1.931494e+002;
n=12; farx(n+1)=2.094504e+001; foe(n+1)=2.957671e+001; krok(n+1)=8.542474e-003; ng(n+1)=1.090323e+002;
n=13; farx(n+1)=2.024409e+001; foe(n+1)=2.904455e+001; krok(n+1)=4.880194e-003; ng(n+1)=1.631686e+002;
n=14; farx(n+1)=1.797604e+001; foe(n+1)=2.711945e+001; krok(n+1)=3.006802e-002; ng(n+1)=2.409934e+002;
n=15; farx(n+1)=1.706648e+001; foe(n+1)=2.628076e+001; krok(n+1)=7.779251e-003; ng(n+1)=4.452184e+002;
n=16; farx(n+1)=1.273585e+001; foe(n+1)=2.281847e+001; krok(n+1)=2.038266e-002; ng(n+1)=4.241769e+002;
n=17; farx(n+1)=1.182762e+001; foe(n+1)=2.120057e+001; krok(n+1)=2.403018e-003; ng(n+1)=8.318507e+002;
n=18; farx(n+1)=1.071556e+001; foe(n+1)=1.994550e+001; krok(n+1)=1.517951e-003; ng(n+1)=5.119893e+002;
n=19; farx(n+1)=5.687693e+000; foe(n+1)=1.298059e+001; krok(n+1)=1.526430e-002; ng(n+1)=3.674594e+002;
n=20; farx(n+1)=4.557426e+000; foe(n+1)=1.043612e+001; krok(n+1)=5.440190e-004; ng(n+1)=8.028041e+002;
n=21; farx(n+1)=4.292790e+000; foe(n+1)=9.784934e+000; krok(n+1)=7.624904e-004; ng(n+1)=1.314741e+003;
n=22; farx(n+1)=3.909024e+000; foe(n+1)=9.474793e+000; krok(n+1)=1.587460e-003; ng(n+1)=7.247610e+002;
n=23; farx(n+1)=3.523928e+000; foe(n+1)=9.067491e+000; krok(n+1)=2.247173e-003; ng(n+1)=5.084236e+002;
n=24; farx(n+1)=2.824701e+000; foe(n+1)=7.830136e+000; krok(n+1)=1.450364e-002; ng(n+1)=6.848279e+002;
n=25; farx(n+1)=2.398243e+000; foe(n+1)=7.339519e+000; krok(n+1)=3.740913e-003; ng(n+1)=8.427626e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.377178e+000; foe(n+1)=6.740455e+000; krok(n+1)=7.426417e-006; ng(n+1)=1.229275e+003;
n=27; farx(n+1)=2.396283e+000; foe(n+1)=6.286032e+000; krok(n+1)=1.198093e-004; ng(n+1)=2.572871e+002;
n=28; farx(n+1)=2.423375e+000; foe(n+1)=6.255320e+000; krok(n+1)=3.204087e-005; ng(n+1)=1.343291e+002;
n=29; farx(n+1)=1.498589e+000; foe(n+1)=4.790325e+000; krok(n+1)=9.175071e-003; ng(n+1)=8.301315e+001;
n=30; farx(n+1)=9.063279e-001; foe(n+1)=3.025762e+000; krok(n+1)=6.526603e-003; ng(n+1)=6.916177e+002;
n=31; farx(n+1)=8.628806e-001; foe(n+1)=2.827662e+000; krok(n+1)=8.229017e-004; ng(n+1)=4.573848e+002;
n=32; farx(n+1)=8.535539e-001; foe(n+1)=2.647475e+000; krok(n+1)=5.414124e-003; ng(n+1)=1.213168e+002;
n=33; farx(n+1)=6.999350e-001; foe(n+1)=1.761272e+000; krok(n+1)=1.238474e-002; ng(n+1)=2.745703e+002;
n=34; farx(n+1)=6.932534e-001; foe(n+1)=1.562352e+000; krok(n+1)=1.296700e-003; ng(n+1)=4.719807e+002;
n=35; farx(n+1)=7.035081e-001; foe(n+1)=1.398931e+000; krok(n+1)=8.751130e-003; ng(n+1)=2.407005e+002;
n=36; farx(n+1)=6.729285e-001; foe(n+1)=1.341562e+000; krok(n+1)=8.442897e-003; ng(n+1)=1.795316e+002;
n=37; farx(n+1)=5.391873e-001; foe(n+1)=1.173471e+000; krok(n+1)=1.576669e-002; ng(n+1)=1.911993e+002;
n=38; farx(n+1)=4.977409e-001; foe(n+1)=1.089853e+000; krok(n+1)=2.876670e-002; ng(n+1)=1.250571e+002;
n=39; farx(n+1)=5.071959e-001; foe(n+1)=1.042917e+000; krok(n+1)=4.002904e-002; ng(n+1)=8.802347e+001;
n=40; farx(n+1)=5.049000e-001; foe(n+1)=1.036268e+000; krok(n+1)=2.855545e-003; ng(n+1)=6.667911e+001;
n=41; farx(n+1)=4.957250e-001; foe(n+1)=9.983133e-001; krok(n+1)=2.055621e-002; ng(n+1)=9.951572e+001;
n=42; farx(n+1)=4.538290e-001; foe(n+1)=9.606890e-001; krok(n+1)=1.513348e-002; ng(n+1)=7.433817e+001;
n=43; farx(n+1)=3.854025e-001; foe(n+1)=8.938183e-001; krok(n+1)=5.405940e-002; ng(n+1)=6.023898e+001;
n=44; farx(n+1)=3.518070e-001; foe(n+1)=8.436948e-001; krok(n+1)=8.100548e-002; ng(n+1)=1.258597e+002;
n=45; farx(n+1)=3.312113e-001; foe(n+1)=8.093317e-001; krok(n+1)=5.955282e-002; ng(n+1)=5.415296e+001;
n=46; farx(n+1)=3.320713e-001; foe(n+1)=8.013015e-001; krok(n+1)=1.850334e-002; ng(n+1)=6.901483e+001;
n=47; farx(n+1)=3.413842e-001; foe(n+1)=7.884800e-001; krok(n+1)=1.160291e-001; ng(n+1)=5.108467e+001;
n=48; farx(n+1)=3.387692e-001; foe(n+1)=7.733045e-001; krok(n+1)=1.209148e-001; ng(n+1)=4.621985e+001;
n=49; farx(n+1)=3.256312e-001; foe(n+1)=7.382686e-001; krok(n+1)=1.778431e-001; ng(n+1)=9.754550e+001;
n=50; farx(n+1)=3.075303e-001; foe(n+1)=7.183040e-001; krok(n+1)=9.809225e-002; ng(n+1)=7.072413e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
