%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.019990e+002; foe(n+1)=2.915285e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.758023e+002; foe(n+1)=1.691556e+002; krok(n+1)=5.202484e-004; ng(n+1)=8.058963e+002;
n=2; farx(n+1)=6.465009e+001; foe(n+1)=6.112288e+001; krok(n+1)=9.041785e-003; ng(n+1)=2.532714e+002;
n=3; farx(n+1)=6.090159e+001; foe(n+1)=5.689135e+001; krok(n+1)=1.460933e-003; ng(n+1)=2.406038e+002;
n=4; farx(n+1)=5.879331e+001; foe(n+1)=5.580614e+001; krok(n+1)=4.065324e-003; ng(n+1)=1.048961e+002;
n=5; farx(n+1)=2.526976e+001; foe(n+1)=4.597835e+001; krok(n+1)=2.477353e-002; ng(n+1)=9.479652e+001;
n=6; farx(n+1)=1.068569e+001; foe(n+1)=3.629943e+001; krok(n+1)=4.372259e-003; ng(n+1)=7.253294e+002;
n=7; farx(n+1)=1.031907e+001; foe(n+1)=3.434445e+001; krok(n+1)=2.578785e-004; ng(n+1)=1.789363e+003;
n=8; farx(n+1)=1.059302e+001; foe(n+1)=3.388406e+001; krok(n+1)=1.575776e-003; ng(n+1)=1.985436e+003;
n=9; farx(n+1)=1.219023e+001; foe(n+1)=3.172487e+001; krok(n+1)=1.338974e-003; ng(n+1)=2.188859e+003;
n=10; farx(n+1)=1.298482e+001; foe(n+1)=3.064929e+001; krok(n+1)=5.682045e-003; ng(n+1)=1.483153e+003;
n=11; farx(n+1)=1.685753e+001; foe(n+1)=2.795090e+001; krok(n+1)=2.069473e-002; ng(n+1)=1.015062e+003;
n=12; farx(n+1)=1.595707e+001; foe(n+1)=2.316350e+001; krok(n+1)=4.035614e-002; ng(n+1)=4.368269e+002;
n=13; farx(n+1)=1.335557e+001; foe(n+1)=2.144521e+001; krok(n+1)=2.768352e-002; ng(n+1)=1.064090e+002;
n=14; farx(n+1)=1.263865e+001; foe(n+1)=2.088400e+001; krok(n+1)=4.615511e-003; ng(n+1)=1.768275e+002;
n=15; farx(n+1)=9.608477e+000; foe(n+1)=1.829260e+001; krok(n+1)=2.409244e-002; ng(n+1)=2.763925e+002;
n=16; farx(n+1)=7.286385e+000; foe(n+1)=1.463274e+001; krok(n+1)=2.107682e-002; ng(n+1)=3.917167e+002;
n=17; farx(n+1)=6.608875e+000; foe(n+1)=1.376666e+001; krok(n+1)=1.488820e-002; ng(n+1)=2.130765e+002;
n=18; farx(n+1)=5.964922e+000; foe(n+1)=1.303364e+001; krok(n+1)=4.026836e-003; ng(n+1)=2.923501e+002;
n=19; farx(n+1)=5.217562e+000; foe(n+1)=1.199101e+001; krok(n+1)=4.446078e-002; ng(n+1)=3.128187e+002;
n=20; farx(n+1)=4.760025e+000; foe(n+1)=1.110677e+001; krok(n+1)=2.107351e-002; ng(n+1)=3.258043e+002;
n=21; farx(n+1)=3.887413e+000; foe(n+1)=1.050539e+001; krok(n+1)=1.067078e-001; ng(n+1)=2.952213e+002;
n=22; farx(n+1)=3.648747e+000; foe(n+1)=9.887648e+000; krok(n+1)=1.003743e-001; ng(n+1)=3.078555e+002;
n=23; farx(n+1)=3.355849e+000; foe(n+1)=9.678811e+000; krok(n+1)=4.312599e-002; ng(n+1)=7.618781e+001;
n=24; farx(n+1)=1.920870e+000; foe(n+1)=8.643063e+000; krok(n+1)=1.775417e-001; ng(n+1)=1.715233e+002;
n=25; farx(n+1)=1.702607e+000; foe(n+1)=7.936134e+000; krok(n+1)=1.400181e-001; ng(n+1)=3.371400e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.708901e+000; foe(n+1)=7.878575e+000; krok(n+1)=4.599898e-005; ng(n+1)=1.403168e+002;
n=27; farx(n+1)=1.707800e+000; foe(n+1)=7.835597e+000; krok(n+1)=2.860122e-005; ng(n+1)=1.243515e+002;
n=28; farx(n+1)=1.728632e+000; foe(n+1)=7.657285e+000; krok(n+1)=2.698173e-004; ng(n+1)=1.175424e+002;
n=29; farx(n+1)=1.622392e+000; foe(n+1)=6.895725e+000; krok(n+1)=5.662806e-003; ng(n+1)=4.765725e+001;
n=30; farx(n+1)=1.386158e+000; foe(n+1)=5.763991e+000; krok(n+1)=7.632150e-003; ng(n+1)=5.900376e+001;
n=31; farx(n+1)=1.321927e+000; foe(n+1)=5.403456e+000; krok(n+1)=1.917929e-003; ng(n+1)=4.901470e+002;
n=32; farx(n+1)=1.073464e+000; foe(n+1)=4.404743e+000; krok(n+1)=8.625805e-003; ng(n+1)=1.375775e+002;
n=33; farx(n+1)=1.053759e+000; foe(n+1)=4.201452e+000; krok(n+1)=3.271540e-003; ng(n+1)=4.864748e+002;
n=34; farx(n+1)=1.005904e+000; foe(n+1)=3.398938e+000; krok(n+1)=4.797973e-002; ng(n+1)=8.222454e+001;
n=35; farx(n+1)=1.037672e+000; foe(n+1)=3.312673e+000; krok(n+1)=1.532691e-003; ng(n+1)=1.657582e+002;
n=36; farx(n+1)=1.105469e+000; foe(n+1)=3.146758e+000; krok(n+1)=2.000182e-002; ng(n+1)=1.939990e+002;
n=37; farx(n+1)=1.055318e+000; foe(n+1)=3.067037e+000; krok(n+1)=3.068686e-002; ng(n+1)=9.798621e+001;
n=38; farx(n+1)=9.511373e-001; foe(n+1)=2.676357e+000; krok(n+1)=2.173419e-002; ng(n+1)=2.134411e+002;
n=39; farx(n+1)=9.378641e-001; foe(n+1)=2.494753e+000; krok(n+1)=5.214880e-002; ng(n+1)=3.101146e+002;
n=40; farx(n+1)=9.469172e-001; foe(n+1)=2.285030e+000; krok(n+1)=9.569438e-002; ng(n+1)=8.565715e+001;
n=41; farx(n+1)=9.044215e-001; foe(n+1)=1.893432e+000; krok(n+1)=2.476508e-001; ng(n+1)=1.640833e+002;
n=42; farx(n+1)=7.824017e-001; foe(n+1)=1.767973e+000; krok(n+1)=9.668121e-002; ng(n+1)=1.031405e+002;
n=43; farx(n+1)=7.514607e-001; foe(n+1)=1.678317e+000; krok(n+1)=1.317940e-001; ng(n+1)=2.478244e+002;
n=44; farx(n+1)=5.956069e-001; foe(n+1)=1.537296e+000; krok(n+1)=3.713045e-001; ng(n+1)=7.671845e+001;
n=45; farx(n+1)=6.127246e-001; foe(n+1)=1.472960e+000; krok(n+1)=1.961845e-001; ng(n+1)=1.020281e+002;
n=46; farx(n+1)=6.416625e-001; foe(n+1)=1.424916e+000; krok(n+1)=1.620110e-001; ng(n+1)=1.035399e+002;
n=47; farx(n+1)=6.553439e-001; foe(n+1)=1.368823e+000; krok(n+1)=1.157790e+000; ng(n+1)=2.888651e+001;
n=48; farx(n+1)=6.116731e-001; foe(n+1)=1.331093e+000; krok(n+1)=4.004429e-001; ng(n+1)=1.027094e+002;
n=49; farx(n+1)=5.475037e-001; foe(n+1)=1.296184e+000; krok(n+1)=2.006794e-001; ng(n+1)=8.138429e+001;
n=50; farx(n+1)=5.366622e-001; foe(n+1)=1.265218e+000; krok(n+1)=8.812470e-001; ng(n+1)=4.078394e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
