%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.634174e+002; foe(n+1)=2.612436e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.647810e+002; foe(n+1)=1.622945e+002; krok(n+1)=5.014459e-004; ng(n+1)=9.101709e+002;
n=2; farx(n+1)=6.640929e+001; foe(n+1)=6.396660e+001; krok(n+1)=6.956269e-003; ng(n+1)=3.285493e+002;
n=3; farx(n+1)=6.222765e+001; foe(n+1)=5.756837e+001; krok(n+1)=3.625910e-003; ng(n+1)=2.786708e+002;
n=4; farx(n+1)=6.091501e+001; foe(n+1)=5.526214e+001; krok(n+1)=1.082825e-002; ng(n+1)=1.799480e+002;
n=5; farx(n+1)=3.888443e+001; foe(n+1)=4.705087e+001; krok(n+1)=8.386628e-002; ng(n+1)=7.214277e+001;
n=6; farx(n+1)=3.379935e+001; foe(n+1)=4.290247e+001; krok(n+1)=2.914778e-003; ng(n+1)=3.029898e+002;
n=7; farx(n+1)=3.149497e+001; foe(n+1)=4.006853e+001; krok(n+1)=1.636281e-003; ng(n+1)=3.047583e+002;
n=8; farx(n+1)=1.882545e+001; foe(n+1)=3.286430e+001; krok(n+1)=3.432277e-002; ng(n+1)=2.436224e+002;
n=9; farx(n+1)=1.699546e+001; foe(n+1)=3.200928e+001; krok(n+1)=1.250908e-003; ng(n+1)=5.386047e+002;
n=10; farx(n+1)=1.591309e+001; foe(n+1)=3.130827e+001; krok(n+1)=3.801047e-003; ng(n+1)=5.674396e+002;
n=11; farx(n+1)=1.653458e+001; foe(n+1)=2.863750e+001; krok(n+1)=2.539936e-002; ng(n+1)=5.862839e+002;
n=12; farx(n+1)=1.516698e+001; foe(n+1)=2.699681e+001; krok(n+1)=1.496365e-002; ng(n+1)=2.852763e+002;
n=13; farx(n+1)=1.503384e+001; foe(n+1)=2.611266e+001; krok(n+1)=5.557598e-003; ng(n+1)=2.518510e+002;
n=14; farx(n+1)=1.238547e+001; foe(n+1)=2.097362e+001; krok(n+1)=2.928765e-002; ng(n+1)=2.279241e+002;
n=15; farx(n+1)=1.241757e+001; foe(n+1)=1.964303e+001; krok(n+1)=1.153579e-002; ng(n+1)=5.361128e+002;
n=16; farx(n+1)=1.203962e+001; foe(n+1)=1.890644e+001; krok(n+1)=1.053841e-002; ng(n+1)=3.931636e+002;
n=17; farx(n+1)=1.072641e+001; foe(n+1)=1.807725e+001; krok(n+1)=3.133413e-002; ng(n+1)=2.446638e+002;
n=18; farx(n+1)=6.396318e+000; foe(n+1)=1.421812e+001; krok(n+1)=1.903039e-001; ng(n+1)=2.142919e+002;
n=19; farx(n+1)=5.241090e+000; foe(n+1)=1.306933e+001; krok(n+1)=2.340953e-002; ng(n+1)=2.640890e+002;
n=20; farx(n+1)=4.971773e+000; foe(n+1)=1.154377e+001; krok(n+1)=1.631115e-001; ng(n+1)=1.504526e+002;
n=21; farx(n+1)=4.252971e+000; foe(n+1)=1.066565e+001; krok(n+1)=6.995615e-002; ng(n+1)=9.417747e+001;
n=22; farx(n+1)=3.720844e+000; foe(n+1)=1.015967e+001; krok(n+1)=7.071636e-002; ng(n+1)=1.377745e+002;
n=23; farx(n+1)=2.645666e+000; foe(n+1)=9.115040e+000; krok(n+1)=2.064051e-001; ng(n+1)=8.126714e+001;
n=24; farx(n+1)=1.952245e+000; foe(n+1)=7.890116e+000; krok(n+1)=4.572701e-001; ng(n+1)=1.347722e+002;
n=25; farx(n+1)=1.265820e+000; foe(n+1)=6.337102e+000; krok(n+1)=4.884576e-001; ng(n+1)=2.551012e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.208390e+000; foe(n+1)=6.172417e+000; krok(n+1)=5.658127e-005; ng(n+1)=1.800366e+002;
n=27; farx(n+1)=1.200435e+000; foe(n+1)=6.123253e+000; krok(n+1)=6.291931e-005; ng(n+1)=6.821246e+001;
n=28; farx(n+1)=1.374821e+000; foe(n+1)=5.371416e+000; krok(n+1)=9.876893e-003; ng(n+1)=2.897907e+001;
n=29; farx(n+1)=1.346091e+000; foe(n+1)=5.146226e+000; krok(n+1)=4.235557e-004; ng(n+1)=7.641932e+001;
n=30; farx(n+1)=1.256365e+000; foe(n+1)=4.945676e+000; krok(n+1)=2.107682e-002; ng(n+1)=1.583439e+002;
n=31; farx(n+1)=1.097393e+000; foe(n+1)=4.606822e+000; krok(n+1)=1.725161e-002; ng(n+1)=7.953636e+001;
n=32; farx(n+1)=1.069566e+000; foe(n+1)=4.370350e+000; krok(n+1)=7.453659e-003; ng(n+1)=2.114008e+002;
n=33; farx(n+1)=1.151546e+000; foe(n+1)=4.132161e+000; krok(n+1)=2.835564e-002; ng(n+1)=4.095002e+001;
n=34; farx(n+1)=1.119428e+000; foe(n+1)=3.955229e+000; krok(n+1)=3.743558e-002; ng(n+1)=3.622581e+001;
n=35; farx(n+1)=1.123459e+000; foe(n+1)=3.788223e+000; krok(n+1)=8.674162e-003; ng(n+1)=1.582752e+002;
n=36; farx(n+1)=1.088864e+000; foe(n+1)=3.694962e+000; krok(n+1)=1.203834e-002; ng(n+1)=8.597376e+001;
n=37; farx(n+1)=1.052346e+000; foe(n+1)=3.245784e+000; krok(n+1)=8.310156e-002; ng(n+1)=1.982859e+002;
n=38; farx(n+1)=1.019393e+000; foe(n+1)=3.149378e+000; krok(n+1)=4.486659e-002; ng(n+1)=2.834079e+001;
n=39; farx(n+1)=9.308657e-001; foe(n+1)=2.912554e+000; krok(n+1)=1.308702e-001; ng(n+1)=8.980095e+001;
n=40; farx(n+1)=9.479376e-001; foe(n+1)=2.745219e+000; krok(n+1)=1.752988e-001; ng(n+1)=1.762777e+002;
n=41; farx(n+1)=8.619241e-001; foe(n+1)=2.570374e+000; krok(n+1)=4.044487e-001; ng(n+1)=4.614179e+001;
n=42; farx(n+1)=8.389906e-001; foe(n+1)=2.445350e+000; krok(n+1)=2.317569e-001; ng(n+1)=1.622595e+002;
n=43; farx(n+1)=7.743170e-001; foe(n+1)=2.285239e+000; krok(n+1)=5.461275e-001; ng(n+1)=8.768563e+001;
n=44; farx(n+1)=7.791548e-001; foe(n+1)=2.217578e+000; krok(n+1)=6.278005e-001; ng(n+1)=7.552869e+001;
n=45; farx(n+1)=7.607190e-001; foe(n+1)=2.138741e+000; krok(n+1)=4.635137e-001; ng(n+1)=3.922269e+001;
n=46; farx(n+1)=7.214991e-001; foe(n+1)=2.056079e+000; krok(n+1)=5.030621e-001; ng(n+1)=5.127339e+001;
n=47; farx(n+1)=6.890040e-001; foe(n+1)=1.927210e+000; krok(n+1)=1.134786e+000; ng(n+1)=6.634420e+001;
n=48; farx(n+1)=6.667833e-001; foe(n+1)=1.866881e+000; krok(n+1)=5.600723e-001; ng(n+1)=5.133197e+001;
n=49; farx(n+1)=6.505967e-001; foe(n+1)=1.795752e+000; krok(n+1)=4.787134e-001; ng(n+1)=5.912363e+001;
n=50; farx(n+1)=5.967213e-001; foe(n+1)=1.713137e+000; krok(n+1)=8.340965e-001; ng(n+1)=3.948637e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
