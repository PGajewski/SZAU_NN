%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.957341e+002; foe(n+1)=2.883280e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.849696e+002; foe(n+1)=1.809296e+002; krok(n+1)=5.109218e-004; ng(n+1)=8.040510e+002;
n=2; farx(n+1)=1.590492e+002; foe(n+1)=1.650591e+002; krok(n+1)=5.997467e-003; ng(n+1)=1.716119e+002;
n=3; farx(n+1)=4.519370e+001; foe(n+1)=5.296869e+001; krok(n+1)=3.516052e-003; ng(n+1)=3.655275e+002;
n=4; farx(n+1)=4.294286e+001; foe(n+1)=5.030239e+001; krok(n+1)=8.540178e-004; ng(n+1)=2.324848e+002;
n=5; farx(n+1)=3.100864e+001; foe(n+1)=4.043776e+001; krok(n+1)=2.954351e-002; ng(n+1)=1.315412e+002;
n=6; farx(n+1)=3.191385e+001; foe(n+1)=3.511122e+001; krok(n+1)=1.423801e-002; ng(n+1)=3.491367e+002;
n=7; farx(n+1)=2.795044e+001; foe(n+1)=3.269295e+001; krok(n+1)=9.096510e-003; ng(n+1)=1.398897e+002;
n=8; farx(n+1)=2.542816e+001; foe(n+1)=3.118878e+001; krok(n+1)=1.737095e-002; ng(n+1)=1.241423e+002;
n=9; farx(n+1)=2.467198e+001; foe(n+1)=2.999065e+001; krok(n+1)=1.506159e-002; ng(n+1)=1.689209e+002;
n=10; farx(n+1)=2.026222e+001; foe(n+1)=2.707766e+001; krok(n+1)=5.695205e-002; ng(n+1)=7.423836e+001;
n=11; farx(n+1)=1.552106e+001; foe(n+1)=2.524776e+001; krok(n+1)=3.022871e-002; ng(n+1)=1.923522e+002;
n=12; farx(n+1)=1.529827e+001; foe(n+1)=2.489577e+001; krok(n+1)=1.733806e-004; ng(n+1)=1.985168e+002;
n=13; farx(n+1)=1.354403e+001; foe(n+1)=2.407967e+001; krok(n+1)=1.614645e-002; ng(n+1)=1.761330e+002;
n=14; farx(n+1)=6.530541e+000; foe(n+1)=2.096186e+001; krok(n+1)=3.621201e-003; ng(n+1)=2.082443e+002;
n=15; farx(n+1)=4.402364e+000; foe(n+1)=1.990107e+001; krok(n+1)=8.300976e-003; ng(n+1)=5.143009e+002;
n=16; farx(n+1)=2.843302e+000; foe(n+1)=1.881374e+001; krok(n+1)=4.036613e-003; ng(n+1)=7.445363e+002;
n=17; farx(n+1)=2.529240e+000; foe(n+1)=1.847506e+001; krok(n+1)=7.557177e-003; ng(n+1)=9.609039e+002;
n=18; farx(n+1)=1.720650e+000; foe(n+1)=1.666991e+001; krok(n+1)=4.904612e-002; ng(n+1)=8.790696e+002;
n=19; farx(n+1)=1.177601e+000; foe(n+1)=1.072698e+001; krok(n+1)=1.567018e-001; ng(n+1)=1.210257e+003;
n=20; farx(n+1)=1.180225e+000; foe(n+1)=7.091599e+000; krok(n+1)=4.438543e-002; ng(n+1)=8.231592e+002;
n=21; farx(n+1)=1.249403e+000; foe(n+1)=6.466652e+000; krok(n+1)=2.331822e-002; ng(n+1)=6.308178e+002;
n=22; farx(n+1)=1.255780e+000; foe(n+1)=5.860835e+000; krok(n+1)=5.893163e-002; ng(n+1)=3.140368e+002;
n=23; farx(n+1)=9.902278e-001; foe(n+1)=5.221444e+000; krok(n+1)=3.103642e-001; ng(n+1)=5.476678e+001;
n=24; farx(n+1)=8.374632e-001; foe(n+1)=4.819406e+000; krok(n+1)=3.185792e-001; ng(n+1)=1.210263e+002;
n=25; farx(n+1)=7.403482e-001; foe(n+1)=3.809346e+000; krok(n+1)=5.667570e-001; ng(n+1)=1.074603e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.361194e-001; foe(n+1)=3.738398e+000; krok(n+1)=1.961815e-005; ng(n+1)=1.913447e+002;
n=27; farx(n+1)=7.364185e-001; foe(n+1)=3.720698e+000; krok(n+1)=2.142725e-005; ng(n+1)=8.658243e+001;
n=28; farx(n+1)=7.463508e-001; foe(n+1)=3.676727e+000; krok(n+1)=3.684136e-004; ng(n+1)=3.325139e+001;
n=29; farx(n+1)=7.517385e-001; foe(n+1)=3.334663e+000; krok(n+1)=1.920145e-002; ng(n+1)=1.819975e+001;
n=30; farx(n+1)=7.166723e-001; foe(n+1)=2.987038e+000; krok(n+1)=3.990929e-003; ng(n+1)=7.138072e+001;
n=31; farx(n+1)=7.268370e-001; foe(n+1)=2.836190e+000; krok(n+1)=4.664313e-003; ng(n+1)=3.500153e+002;
n=32; farx(n+1)=7.737557e-001; foe(n+1)=2.465887e+000; krok(n+1)=1.417782e-002; ng(n+1)=2.866729e+002;
n=33; farx(n+1)=8.707545e-001; foe(n+1)=2.033787e+000; krok(n+1)=1.095618e-002; ng(n+1)=4.682308e+002;
n=34; farx(n+1)=8.926122e-001; foe(n+1)=1.943399e+000; krok(n+1)=1.931884e-002; ng(n+1)=4.452353e+002;
n=35; farx(n+1)=8.994648e-001; foe(n+1)=1.894323e+000; krok(n+1)=2.928765e-002; ng(n+1)=2.213696e+002;
n=36; farx(n+1)=7.530865e-001; foe(n+1)=1.587270e+000; krok(n+1)=8.191626e-002; ng(n+1)=4.553510e+001;
n=37; farx(n+1)=7.195430e-001; foe(n+1)=1.544596e+000; krok(n+1)=2.900728e-002; ng(n+1)=1.991725e+002;
n=38; farx(n+1)=7.060927e-001; foe(n+1)=1.467683e+000; krok(n+1)=2.556569e-002; ng(n+1)=9.592740e+001;
n=39; farx(n+1)=6.474036e-001; foe(n+1)=1.258993e+000; krok(n+1)=1.794664e-001; ng(n+1)=1.145672e+002;
n=40; farx(n+1)=6.095099e-001; foe(n+1)=1.111769e+000; krok(n+1)=7.672268e-002; ng(n+1)=1.947490e+002;
n=41; farx(n+1)=4.489070e-001; foe(n+1)=9.527525e-001; krok(n+1)=7.676757e-001; ng(n+1)=8.039680e+001;
n=42; farx(n+1)=4.484983e-001; foe(n+1)=8.113137e-001; krok(n+1)=1.961845e-001; ng(n+1)=1.085578e+002;
n=43; farx(n+1)=4.823990e-001; foe(n+1)=7.352738e-001; krok(n+1)=4.310227e-001; ng(n+1)=6.675115e+001;
n=44; farx(n+1)=4.338833e-001; foe(n+1)=6.724332e-001; krok(n+1)=4.811170e-001; ng(n+1)=6.572882e+001;
n=45; farx(n+1)=3.721790e-001; foe(n+1)=6.429445e-001; krok(n+1)=6.620810e-001; ng(n+1)=3.613591e+001;
n=46; farx(n+1)=3.631129e-001; foe(n+1)=6.321564e-001; krok(n+1)=4.083285e-001; ng(n+1)=1.891235e+001;
n=47; farx(n+1)=3.661738e-001; foe(n+1)=6.159189e-001; krok(n+1)=7.926233e-001; ng(n+1)=3.785793e+001;
n=48; farx(n+1)=3.624669e-001; foe(n+1)=5.946733e-001; krok(n+1)=1.420334e+000; ng(n+1)=2.531854e+001;
n=49; farx(n+1)=3.431459e-001; foe(n+1)=5.730536e-001; krok(n+1)=8.316025e-001; ng(n+1)=2.889563e+001;
n=50; farx(n+1)=3.168468e-001; foe(n+1)=5.562432e-001; krok(n+1)=1.026286e+000; ng(n+1)=3.143289e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
