%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.942116e+002; foe(n+1)=2.891994e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.806530e+002; foe(n+1)=1.778241e+002; krok(n+1)=5.081655e-004; ng(n+1)=7.383753e+002;
n=2; farx(n+1)=4.990377e+001; foe(n+1)=5.692825e+001; krok(n+1)=2.667694e-002; ng(n+1)=1.683253e+002;
n=3; farx(n+1)=4.601703e+001; foe(n+1)=5.225141e+001; krok(n+1)=4.494798e-004; ng(n+1)=3.383558e+002;
n=4; farx(n+1)=4.307524e+001; foe(n+1)=5.140433e+001; krok(n+1)=1.339301e-003; ng(n+1)=1.026198e+002;
n=5; farx(n+1)=1.387283e+001; foe(n+1)=3.866344e+001; krok(n+1)=4.312903e-003; ng(n+1)=1.993057e+002;
n=6; farx(n+1)=7.541732e+000; foe(n+1)=3.197602e+001; krok(n+1)=4.437686e-003; ng(n+1)=1.196229e+003;
n=7; farx(n+1)=7.193499e+000; foe(n+1)=3.009773e+001; krok(n+1)=2.662021e-004; ng(n+1)=2.549358e+003;
n=8; farx(n+1)=8.355935e+000; foe(n+1)=2.902240e+001; krok(n+1)=2.778799e-003; ng(n+1)=2.910002e+003;
n=9; farx(n+1)=1.022844e+001; foe(n+1)=2.666253e+001; krok(n+1)=4.609843e-003; ng(n+1)=2.794386e+003;
n=10; farx(n+1)=1.081310e+001; foe(n+1)=2.594567e+001; krok(n+1)=6.467102e-004; ng(n+1)=1.741431e+003;
n=11; farx(n+1)=1.252895e+001; foe(n+1)=2.321025e+001; krok(n+1)=2.549876e-002; ng(n+1)=1.287013e+003;
n=12; farx(n+1)=1.314529e+001; foe(n+1)=2.087407e+001; krok(n+1)=2.973498e-003; ng(n+1)=1.261035e+003;
n=13; farx(n+1)=1.246155e+001; foe(n+1)=1.990834e+001; krok(n+1)=5.548179e-003; ng(n+1)=8.449196e+002;
n=14; farx(n+1)=1.192166e+001; foe(n+1)=1.811846e+001; krok(n+1)=8.053672e-003; ng(n+1)=7.120836e+002;
n=15; farx(n+1)=1.108469e+001; foe(n+1)=1.706726e+001; krok(n+1)=3.778589e-003; ng(n+1)=5.447458e+002;
n=16; farx(n+1)=5.555860e+000; foe(n+1)=1.382898e+001; krok(n+1)=7.485385e-002; ng(n+1)=4.468661e+002;
n=17; farx(n+1)=3.934830e+000; foe(n+1)=1.183464e+001; krok(n+1)=5.997436e-002; ng(n+1)=4.673719e+002;
n=18; farx(n+1)=3.814497e+000; foe(n+1)=1.079070e+001; krok(n+1)=2.243356e-002; ng(n+1)=4.080474e+002;
n=19; farx(n+1)=3.809661e+000; foe(n+1)=1.014926e+001; krok(n+1)=1.165911e-002; ng(n+1)=5.598090e+002;
n=20; farx(n+1)=2.208145e+000; foe(n+1)=7.016354e+000; krok(n+1)=1.538197e-001; ng(n+1)=3.229602e+002;
n=21; farx(n+1)=2.164064e+000; foe(n+1)=6.273083e+000; krok(n+1)=5.334988e-002; ng(n+1)=5.960453e+002;
n=22; farx(n+1)=1.301855e+000; foe(n+1)=4.572346e+000; krok(n+1)=1.794664e-001; ng(n+1)=2.555584e+002;
n=23; farx(n+1)=1.063060e+000; foe(n+1)=4.194892e+000; krok(n+1)=7.340057e-002; ng(n+1)=5.882659e+002;
n=24; farx(n+1)=9.309999e-001; foe(n+1)=3.816724e+000; krok(n+1)=1.380129e-001; ng(n+1)=6.386459e+002;
n=25; farx(n+1)=7.055523e-001; foe(n+1)=2.383557e+000; krok(n+1)=8.391318e-001; ng(n+1)=2.731117e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=6.621895e-001; foe(n+1)=2.185187e+000; krok(n+1)=1.032442e-004; ng(n+1)=1.623522e+002;
n=27; farx(n+1)=6.612326e-001; foe(n+1)=2.165945e+000; krok(n+1)=4.963293e-005; ng(n+1)=7.494374e+001;
n=28; farx(n+1)=6.624353e-001; foe(n+1)=2.102388e+000; krok(n+1)=8.683747e-005; ng(n+1)=9.097453e+001;
n=29; farx(n+1)=5.519874e-001; foe(n+1)=1.743770e+000; krok(n+1)=1.526430e-002; ng(n+1)=2.349284e+001;
n=30; farx(n+1)=5.645654e-001; foe(n+1)=1.524485e+000; krok(n+1)=9.801654e-003; ng(n+1)=1.206953e+002;
n=31; farx(n+1)=5.473453e-001; foe(n+1)=1.493029e+000; krok(n+1)=2.972972e-003; ng(n+1)=4.546841e+001;
n=32; farx(n+1)=4.801607e-001; foe(n+1)=1.409600e+000; krok(n+1)=2.409244e-002; ng(n+1)=1.193522e+002;
n=33; farx(n+1)=4.450884e-001; foe(n+1)=1.323115e+000; krok(n+1)=1.813820e-002; ng(n+1)=2.434107e+002;
n=34; farx(n+1)=4.408728e-001; foe(n+1)=1.295186e+000; krok(n+1)=2.147336e-002; ng(n+1)=6.005470e+001;
n=35; farx(n+1)=4.332790e-001; foe(n+1)=1.265020e+000; krok(n+1)=3.481722e-002; ng(n+1)=8.853513e+001;
n=36; farx(n+1)=4.367293e-001; foe(n+1)=1.222825e+000; krok(n+1)=3.832769e-002; ng(n+1)=9.891227e+001;
n=37; farx(n+1)=4.324254e-001; foe(n+1)=1.181730e+000; krok(n+1)=7.368707e-002; ng(n+1)=6.647107e+001;
n=38; farx(n+1)=4.179594e-001; foe(n+1)=1.150025e+000; krok(n+1)=3.178877e-002; ng(n+1)=1.113490e+002;
n=39; farx(n+1)=4.098577e-001; foe(n+1)=1.115920e+000; krok(n+1)=7.694633e-002; ng(n+1)=3.909568e+001;
n=40; farx(n+1)=4.071410e-001; foe(n+1)=1.103056e+000; krok(n+1)=2.679765e-002; ng(n+1)=1.002584e+002;
n=41; farx(n+1)=4.018087e-001; foe(n+1)=1.065578e+000; krok(n+1)=2.840119e-001; ng(n+1)=3.861802e+001;
n=42; farx(n+1)=4.104931e-001; foe(n+1)=1.048246e+000; krok(n+1)=1.475580e-001; ng(n+1)=4.385418e+001;
n=43; farx(n+1)=4.032630e-001; foe(n+1)=1.038484e+000; krok(n+1)=1.096649e-001; ng(n+1)=2.960995e+001;
n=44; farx(n+1)=3.818183e-001; foe(n+1)=9.708629e-001; krok(n+1)=1.046368e+000; ng(n+1)=1.241499e+001;
n=45; farx(n+1)=3.919266e-001; foe(n+1)=9.468852e-001; krok(n+1)=2.214681e-001; ng(n+1)=4.838749e+001;
n=46; farx(n+1)=3.803703e-001; foe(n+1)=9.135997e-001; krok(n+1)=7.215816e-001; ng(n+1)=4.581174e+001;
n=47; farx(n+1)=3.498419e-001; foe(n+1)=8.731454e-001; krok(n+1)=2.821404e-001; ng(n+1)=6.451792e+001;
n=48; farx(n+1)=3.338635e-001; foe(n+1)=8.535781e-001; krok(n+1)=5.203615e-001; ng(n+1)=3.264926e+001;
n=49; farx(n+1)=3.208652e-001; foe(n+1)=8.204345e-001; krok(n+1)=2.268451e-001; ng(n+1)=7.385806e+001;
n=50; farx(n+1)=3.042053e-001; foe(n+1)=7.867692e-001; krok(n+1)=5.657309e-001; ng(n+1)=3.846668e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
