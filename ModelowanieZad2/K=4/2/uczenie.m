%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.795503e+002; foe(n+1)=2.751620e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.802182e+002; foe(n+1)=1.761975e+002; krok(n+1)=5.126539e-004; ng(n+1)=8.213699e+002;
n=2; farx(n+1)=6.562778e+001; foe(n+1)=5.819496e+001; krok(n+1)=1.428969e-002; ng(n+1)=2.891794e+002;
n=3; farx(n+1)=6.436504e+001; foe(n+1)=5.737846e+001; krok(n+1)=1.108189e-003; ng(n+1)=1.158794e+002;
n=4; farx(n+1)=5.849889e+001; foe(n+1)=5.629304e+001; krok(n+1)=3.096185e-003; ng(n+1)=7.642678e+001;
n=5; farx(n+1)=1.419380e+001; foe(n+1)=3.329925e+001; krok(n+1)=1.165911e-002; ng(n+1)=1.393355e+002;
n=6; farx(n+1)=1.048052e+001; foe(n+1)=2.788783e+001; krok(n+1)=9.303493e-004; ng(n+1)=9.332639e+002;
n=7; farx(n+1)=9.854697e+000; foe(n+1)=2.651238e+001; krok(n+1)=8.121118e-004; ng(n+1)=1.547321e+003;
n=8; farx(n+1)=9.706043e+000; foe(n+1)=2.391670e+001; krok(n+1)=1.067809e-003; ng(n+1)=1.668443e+003;
n=9; farx(n+1)=8.330217e+000; foe(n+1)=1.964851e+001; krok(n+1)=1.861441e-002; ng(n+1)=1.066677e+003;
n=10; farx(n+1)=5.725727e+000; foe(n+1)=1.502352e+001; krok(n+1)=3.192628e-002; ng(n+1)=5.299041e+002;
n=11; farx(n+1)=4.616109e+000; foe(n+1)=1.364180e+001; krok(n+1)=1.199493e-002; ng(n+1)=4.149103e+002;
n=12; farx(n+1)=4.132070e+000; foe(n+1)=1.314044e+001; krok(n+1)=3.704838e-003; ng(n+1)=2.648845e+002;
n=13; farx(n+1)=3.267662e+000; foe(n+1)=1.144092e+001; krok(n+1)=3.740913e-003; ng(n+1)=5.011615e+002;
n=14; farx(n+1)=2.827662e+000; foe(n+1)=1.070538e+001; krok(n+1)=8.053672e-003; ng(n+1)=4.088870e+002;
n=15; farx(n+1)=2.229358e+000; foe(n+1)=8.929651e+000; krok(n+1)=2.432476e-002; ng(n+1)=3.733355e+002;
n=16; farx(n+1)=1.937113e+000; foe(n+1)=8.398760e+000; krok(n+1)=2.896961e-002; ng(n+1)=4.911116e+002;
n=17; farx(n+1)=1.907803e+000; foe(n+1)=7.375436e+000; krok(n+1)=5.671128e-002; ng(n+1)=4.560711e+002;
n=18; farx(n+1)=1.569036e+000; foe(n+1)=6.027569e+000; krok(n+1)=1.961845e-001; ng(n+1)=2.152462e+002;
n=19; farx(n+1)=1.574260e+000; foe(n+1)=5.822683e+000; krok(n+1)=6.372384e-003; ng(n+1)=2.343022e+002;
n=20; farx(n+1)=1.318755e+000; foe(n+1)=5.191791e+000; krok(n+1)=1.490721e-001; ng(n+1)=2.047678e+002;
n=21; farx(n+1)=1.276923e+000; foe(n+1)=4.296987e+000; krok(n+1)=2.230542e-001; ng(n+1)=3.230025e+002;
n=22; farx(n+1)=9.989693e-001; foe(n+1)=3.646890e+000; krok(n+1)=6.703118e-002; ng(n+1)=1.996526e+002;
n=23; farx(n+1)=9.748546e-001; foe(n+1)=3.256813e+000; krok(n+1)=4.572801e-001; ng(n+1)=1.759583e+002;
n=24; farx(n+1)=7.501436e-001; foe(n+1)=2.625493e+000; krok(n+1)=1.304490e+000; ng(n+1)=2.696241e+001;
n=25; farx(n+1)=6.571944e-001; foe(n+1)=1.965385e+000; krok(n+1)=3.886554e-001; ng(n+1)=1.388962e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=6.544754e-001; foe(n+1)=1.919899e+000; krok(n+1)=2.419290e-005; ng(n+1)=1.158266e+002;
n=27; farx(n+1)=6.423784e-001; foe(n+1)=1.897055e+000; krok(n+1)=9.108340e-005; ng(n+1)=5.072498e+001;
n=28; farx(n+1)=6.385685e-001; foe(n+1)=1.870436e+000; krok(n+1)=3.276764e-004; ng(n+1)=3.598270e+001;
n=29; farx(n+1)=6.568768e-001; foe(n+1)=1.775065e+000; krok(n+1)=2.531421e-003; ng(n+1)=2.490729e+001;
n=30; farx(n+1)=6.245583e-001; foe(n+1)=1.684669e+000; krok(n+1)=3.500452e-002; ng(n+1)=1.067809e+001;
n=31; farx(n+1)=5.636551e-001; foe(n+1)=1.564481e+000; krok(n+1)=4.438543e-002; ng(n+1)=1.583872e+001;
n=32; farx(n+1)=5.477147e-001; foe(n+1)=1.503227e+000; krok(n+1)=1.875076e-002; ng(n+1)=4.049231e+001;
n=33; farx(n+1)=5.154841e-001; foe(n+1)=1.386043e+000; krok(n+1)=3.469665e-002; ng(n+1)=4.319450e+001;
n=34; farx(n+1)=5.018517e-001; foe(n+1)=1.355440e+000; krok(n+1)=2.502768e-002; ng(n+1)=7.142725e+001;
n=35; farx(n+1)=5.193363e-001; foe(n+1)=1.218096e+000; krok(n+1)=1.409038e-001; ng(n+1)=1.019853e+002;
n=36; farx(n+1)=5.041909e-001; foe(n+1)=1.123672e+000; krok(n+1)=9.809225e-002; ng(n+1)=8.570687e+001;
n=37; farx(n+1)=5.188976e-001; foe(n+1)=1.009777e+000; krok(n+1)=4.337210e-001; ng(n+1)=7.714305e+001;
n=38; farx(n+1)=5.007881e-001; foe(n+1)=9.826161e-001; krok(n+1)=8.322808e-002; ng(n+1)=1.414163e+001;
n=39; farx(n+1)=4.005827e-001; foe(n+1)=8.736989e-001; krok(n+1)=1.926134e-001; ng(n+1)=4.447776e+001;
n=40; farx(n+1)=3.718044e-001; foe(n+1)=8.432814e-001; krok(n+1)=2.515310e-001; ng(n+1)=4.096737e+001;
n=41; farx(n+1)=3.627064e-001; foe(n+1)=8.300270e-001; krok(n+1)=8.044705e-002; ng(n+1)=1.847709e+001;
n=42; farx(n+1)=3.471433e-001; foe(n+1)=7.920373e-001; krok(n+1)=2.187069e-001; ng(n+1)=6.277017e+001;
n=43; farx(n+1)=3.514339e-001; foe(n+1)=7.396219e-001; krok(n+1)=2.507999e-001; ng(n+1)=4.224516e+001;
n=44; farx(n+1)=3.480159e-001; foe(n+1)=6.944656e-001; krok(n+1)=5.045340e-001; ng(n+1)=2.651156e+001;
n=45; farx(n+1)=3.496422e-001; foe(n+1)=6.799440e-001; krok(n+1)=2.689113e-001; ng(n+1)=2.278350e+001;
n=46; farx(n+1)=3.409689e-001; foe(n+1)=6.601891e-001; krok(n+1)=6.930078e-001; ng(n+1)=3.099513e+001;
n=47; farx(n+1)=3.339749e-001; foe(n+1)=6.427312e-001; krok(n+1)=1.092360e+000; ng(n+1)=2.595015e+001;
n=48; farx(n+1)=3.333147e-001; foe(n+1)=6.360988e-001; krok(n+1)=2.286351e-001; ng(n+1)=3.258950e+001;
n=49; farx(n+1)=3.395406e-001; foe(n+1)=6.215262e-001; krok(n+1)=3.403631e-001; ng(n+1)=5.365618e+001;
n=50; farx(n+1)=3.350992e-001; foe(n+1)=6.131766e-001; krok(n+1)=4.004429e-001; ng(n+1)=1.767745e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
