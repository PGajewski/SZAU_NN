%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.812108e+002; foe(n+1)=2.842616e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.731685e+002; foe(n+1)=1.738384e+002; krok(n+1)=4.927090e-004; ng(n+1)=8.460519e+002;
n=2; farx(n+1)=6.288167e+001; foe(n+1)=5.615904e+001; krok(n+1)=1.517095e-002; ng(n+1)=2.060796e+002;
n=3; farx(n+1)=6.091994e+001; foe(n+1)=5.397917e+001; krok(n+1)=1.624224e-003; ng(n+1)=1.468384e+002;
n=4; farx(n+1)=2.808101e+001; foe(n+1)=3.958847e+001; krok(n+1)=4.218186e-002; ng(n+1)=7.092866e+001;
n=5; farx(n+1)=2.084863e+001; foe(n+1)=3.502554e+001; krok(n+1)=6.037139e-004; ng(n+1)=3.446154e+002;
n=6; farx(n+1)=1.889918e+001; foe(n+1)=3.326740e+001; krok(n+1)=2.621411e-003; ng(n+1)=2.697535e+002;
n=7; farx(n+1)=1.589148e+001; foe(n+1)=3.060164e+001; krok(n+1)=1.160327e-002; ng(n+1)=1.109022e+002;
n=8; farx(n+1)=1.693417e+001; foe(n+1)=2.899760e+001; krok(n+1)=1.082825e-002; ng(n+1)=2.324531e+002;
n=9; farx(n+1)=1.713432e+001; foe(n+1)=2.745168e+001; krok(n+1)=3.294851e-002; ng(n+1)=2.005597e+002;
n=10; farx(n+1)=1.600223e+001; foe(n+1)=2.665166e+001; krok(n+1)=1.559909e-002; ng(n+1)=1.081405e+002;
n=11; farx(n+1)=1.413621e+001; foe(n+1)=2.511126e+001; krok(n+1)=2.080275e-002; ng(n+1)=2.007037e+002;
n=12; farx(n+1)=1.357022e+001; foe(n+1)=2.295087e+001; krok(n+1)=2.074719e-002; ng(n+1)=3.800639e+002;
n=13; farx(n+1)=1.341941e+001; foe(n+1)=2.242192e+001; krok(n+1)=1.486486e-003; ng(n+1)=2.414892e+002;
n=14; farx(n+1)=1.303754e+001; foe(n+1)=2.198451e+001; krok(n+1)=8.956895e-003; ng(n+1)=2.062597e+002;
n=15; farx(n+1)=8.395330e+000; foe(n+1)=1.756442e+001; krok(n+1)=8.877087e-002; ng(n+1)=1.680666e+002;
n=16; farx(n+1)=7.731344e+000; foe(n+1)=1.685091e+001; krok(n+1)=1.007231e-002; ng(n+1)=4.925976e+002;
n=17; farx(n+1)=7.017334e+000; foe(n+1)=1.558700e+001; krok(n+1)=2.243356e-002; ng(n+1)=6.126209e+002;
n=18; farx(n+1)=6.276466e+000; foe(n+1)=1.346693e+001; krok(n+1)=1.232694e-001; ng(n+1)=6.978473e+002;
n=19; farx(n+1)=5.030938e+000; foe(n+1)=1.155383e+001; krok(n+1)=3.045281e-002; ng(n+1)=5.095116e+002;
n=20; farx(n+1)=3.616239e+000; foe(n+1)=9.943676e+000; krok(n+1)=1.139041e-001; ng(n+1)=3.417939e+002;
n=21; farx(n+1)=2.325562e+000; foe(n+1)=8.913342e+000; krok(n+1)=9.909413e-002; ng(n+1)=7.667644e+001;
n=22; farx(n+1)=1.933817e+000; foe(n+1)=8.213368e+000; krok(n+1)=1.271551e-001; ng(n+1)=1.030660e+002;
n=23; farx(n+1)=1.713887e+000; foe(n+1)=7.746202e+000; krok(n+1)=1.475580e-001; ng(n+1)=1.636436e+002;
n=24; farx(n+1)=1.394317e+000; foe(n+1)=6.834955e+000; krok(n+1)=6.293018e-001; ng(n+1)=1.230990e+002;
n=25; farx(n+1)=1.276074e+000; foe(n+1)=6.393131e+000; krok(n+1)=4.363377e-001; ng(n+1)=9.000993e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.254314e+000; foe(n+1)=6.095122e+000; krok(n+1)=5.210339e-005; ng(n+1)=3.013724e+002;
n=27; farx(n+1)=1.258162e+000; foe(n+1)=6.074666e+000; krok(n+1)=1.438760e-005; ng(n+1)=9.471665e+001;
n=28; farx(n+1)=1.293368e+000; foe(n+1)=6.032302e+000; krok(n+1)=5.304139e-004; ng(n+1)=3.771587e+001;
n=29; farx(n+1)=1.252230e+000; foe(n+1)=5.146039e+000; krok(n+1)=6.884742e-003; ng(n+1)=3.880089e+001;
n=30; farx(n+1)=1.183965e+000; foe(n+1)=4.626363e+000; krok(n+1)=3.657312e-003; ng(n+1)=2.284793e+002;
n=31; farx(n+1)=1.141815e+000; foe(n+1)=4.156132e+000; krok(n+1)=4.126056e-003; ng(n+1)=1.983360e+002;
n=32; farx(n+1)=1.062979e+000; foe(n+1)=3.923017e+000; krok(n+1)=6.607631e-003; ng(n+1)=2.238015e+002;
n=33; farx(n+1)=1.060923e+000; foe(n+1)=3.540987e+000; krok(n+1)=1.012183e-002; ng(n+1)=4.520592e+002;
n=34; farx(n+1)=1.035956e+000; foe(n+1)=3.423060e+000; krok(n+1)=5.457942e-003; ng(n+1)=7.412403e+001;
n=35; farx(n+1)=9.345887e-001; foe(n+1)=2.732762e+000; krok(n+1)=1.076361e-001; ng(n+1)=2.019529e+002;
n=36; farx(n+1)=8.957227e-001; foe(n+1)=2.586280e+000; krok(n+1)=3.258189e-003; ng(n+1)=2.640704e+002;
n=37; farx(n+1)=8.134821e-001; foe(n+1)=2.425831e+000; krok(n+1)=1.525264e-002; ng(n+1)=8.761428e+001;
n=38; farx(n+1)=6.822087e-001; foe(n+1)=2.077875e+000; krok(n+1)=1.666671e-001; ng(n+1)=2.292560e+002;
n=39; farx(n+1)=5.296892e-001; foe(n+1)=1.707197e+000; krok(n+1)=9.729904e-002; ng(n+1)=1.023849e+002;
n=40; farx(n+1)=5.209155e-001; foe(n+1)=1.640005e+000; krok(n+1)=2.607440e-002; ng(n+1)=7.514598e+001;
n=41; farx(n+1)=5.183892e-001; foe(n+1)=1.599409e+000; krok(n+1)=1.370811e-002; ng(n+1)=1.068841e+002;
n=42; farx(n+1)=5.723641e-001; foe(n+1)=1.382111e+000; krok(n+1)=1.204363e-001; ng(n+1)=1.407646e+002;
n=43; farx(n+1)=5.768886e-001; foe(n+1)=1.240989e+000; krok(n+1)=1.872762e-001; ng(n+1)=2.591877e+002;
n=44; farx(n+1)=4.985378e-001; foe(n+1)=1.186735e+000; krok(n+1)=1.827549e-001; ng(n+1)=5.919355e+001;
n=45; farx(n+1)=5.174940e-001; foe(n+1)=1.090816e+000; krok(n+1)=3.450079e-001; ng(n+1)=2.173071e+001;
n=46; farx(n+1)=4.983362e-001; foe(n+1)=1.009805e+000; krok(n+1)=4.339732e-001; ng(n+1)=1.086478e+002;
n=47; farx(n+1)=4.668934e-001; foe(n+1)=9.593210e-001; krok(n+1)=2.249366e-001; ng(n+1)=1.042509e+002;
n=48; farx(n+1)=4.362111e-001; foe(n+1)=9.188355e-001; krok(n+1)=5.945315e-001; ng(n+1)=6.982638e+001;
n=49; farx(n+1)=4.061747e-001; foe(n+1)=8.978957e-001; krok(n+1)=6.287558e-001; ng(n+1)=3.753059e+001;
n=50; farx(n+1)=3.991407e-001; foe(n+1)=8.852789e-001; krok(n+1)=6.930078e-001; ng(n+1)=2.931159e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
