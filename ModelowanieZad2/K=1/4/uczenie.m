%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.378178e+002; foe(n+1)=2.391605e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.787803e+002; foe(n+1)=1.788853e+002; krok(n+1)=4.994367e-004; ng(n+1)=4.588894e+002;
n=2; farx(n+1)=1.738357e+002; foe(n+1)=1.601295e+002; krok(n+1)=1.808357e-002; ng(n+1)=4.212095e+001;
n=3; farx(n+1)=7.488127e+001; foe(n+1)=6.156655e+001; krok(n+1)=8.540178e-004; ng(n+1)=4.918389e+002;
n=4; farx(n+1)=7.316485e+001; foe(n+1)=6.103304e+001; krok(n+1)=3.018569e-004; ng(n+1)=9.831536e+001;
n=5; farx(n+1)=6.193133e+001; foe(n+1)=5.931711e+001; krok(n+1)=1.244450e-003; ng(n+1)=9.215726e+001;
n=6; farx(n+1)=7.637991e+001; foe(n+1)=5.560536e+001; krok(n+1)=5.390749e-003; ng(n+1)=2.352239e+002;
n=7; farx(n+1)=7.711883e+001; foe(n+1)=5.414271e+001; krok(n+1)=2.156300e-002; ng(n+1)=1.159463e+002;
n=8; farx(n+1)=7.733409e+001; foe(n+1)=5.355038e+001; krok(n+1)=6.374691e-003; ng(n+1)=1.109804e+002;
n=9; farx(n+1)=7.299841e+001; foe(n+1)=5.280188e+001; krok(n+1)=6.368870e-002; ng(n+1)=1.290914e+002;
n=10; farx(n+1)=9.582850e+000; foe(n+1)=3.509143e+001; krok(n+1)=6.710813e-001; ng(n+1)=1.965706e+002;
n=11; farx(n+1)=6.895896e+000; foe(n+1)=3.273273e+001; krok(n+1)=9.233170e-002; ng(n+1)=3.984276e+002;
n=12; farx(n+1)=4.456848e+000; foe(n+1)=2.476927e+001; krok(n+1)=1.919924e-001; ng(n+1)=6.878600e+002;
n=13; farx(n+1)=4.018632e+000; foe(n+1)=2.333968e+001; krok(n+1)=3.607908e-001; ng(n+1)=4.665360e+002;
n=14; farx(n+1)=3.738844e+000; foe(n+1)=2.225312e+001; krok(n+1)=1.702433e-001; ng(n+1)=3.440535e+002;
n=15; farx(n+1)=2.503117e+000; foe(n+1)=1.999152e+001; krok(n+1)=1.003200e+000; ng(n+1)=2.477731e+002;
n=16; farx(n+1)=1.660757e+000; foe(n+1)=1.839435e+001; krok(n+1)=5.181392e-001; ng(n+1)=2.215249e+002;
n=17; farx(n+1)=1.243409e+000; foe(n+1)=1.628032e+001; krok(n+1)=7.101669e-001; ng(n+1)=5.727248e+002;
n=18; farx(n+1)=1.474324e+000; foe(n+1)=1.452022e+001; krok(n+1)=1.462039e+000; ng(n+1)=4.798210e+002;
n=19; farx(n+1)=1.498428e+000; foe(n+1)=1.406291e+001; krok(n+1)=4.763389e-001; ng(n+1)=1.459550e+002;
n=20; farx(n+1)=1.215276e+000; foe(n+1)=1.254026e+001; krok(n+1)=9.961132e-001; ng(n+1)=3.549591e+002;
n=21; farx(n+1)=9.727454e-001; foe(n+1)=1.117035e+001; krok(n+1)=1.215405e+000; ng(n+1)=3.938523e+002;
n=22; farx(n+1)=9.758945e-001; foe(n+1)=1.102949e+001; krok(n+1)=5.600723e-001; ng(n+1)=4.883060e+001;
n=23; farx(n+1)=1.036382e+000; foe(n+1)=1.085675e+001; krok(n+1)=1.355274e+000; ng(n+1)=1.938033e+002;
n=24; farx(n+1)=9.740425e-001; foe(n+1)=1.066754e+001; krok(n+1)=1.822466e+000; ng(n+1)=1.180821e+002;
n=25; farx(n+1)=9.321575e-001; foe(n+1)=1.045516e+001; krok(n+1)=3.235589e+000; ng(n+1)=1.103397e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.298070e-001; foe(n+1)=1.039930e+001; krok(n+1)=5.731843e-006; ng(n+1)=2.258229e+002;
n=27; farx(n+1)=9.351967e-001; foe(n+1)=1.038813e+001; krok(n+1)=4.646090e-005; ng(n+1)=3.706661e+001;
n=28; farx(n+1)=9.403828e-001; foe(n+1)=1.037270e+001; krok(n+1)=3.505202e-004; ng(n+1)=1.254020e+001;
n=29; farx(n+1)=8.286800e-001; foe(n+1)=9.893662e+000; krok(n+1)=1.716139e-002; ng(n+1)=1.241779e+001;
n=30; farx(n+1)=8.308762e-001; foe(n+1)=9.878181e+000; krok(n+1)=3.199545e-003; ng(n+1)=1.495797e+002;
n=31; farx(n+1)=7.793708e-001; foe(n+1)=9.808932e+000; krok(n+1)=1.101559e-001; ng(n+1)=1.406870e+002;
n=32; farx(n+1)=8.234268e-001; foe(n+1)=9.195447e+000; krok(n+1)=3.081903e-001; ng(n+1)=1.231532e+002;
n=33; farx(n+1)=4.645524e-001; foe(n+1)=8.712224e+000; krok(n+1)=2.268451e-001; ng(n+1)=1.027998e+002;
n=34; farx(n+1)=4.204506e-001; foe(n+1)=8.564723e+000; krok(n+1)=1.961845e-001; ng(n+1)=2.440528e+002;
n=35; farx(n+1)=3.738324e-001; foe(n+1)=8.521292e+000; krok(n+1)=3.217882e-001; ng(n+1)=2.066565e+002;
n=36; farx(n+1)=3.596955e-001; foe(n+1)=8.487370e+000; krok(n+1)=6.564205e-001; ng(n+1)=2.078096e+001;
n=37; farx(n+1)=3.601833e-001; foe(n+1)=8.463953e+000; krok(n+1)=1.397233e+000; ng(n+1)=9.161037e+001;
n=38; farx(n+1)=3.624100e-001; foe(n+1)=8.440926e+000; krok(n+1)=2.373641e+000; ng(n+1)=5.230304e+001;
n=39; farx(n+1)=3.665397e-001; foe(n+1)=8.436077e+000; krok(n+1)=8.823184e-001; ng(n+1)=3.395118e+001;
n=40; farx(n+1)=3.697542e-001; foe(n+1)=8.435103e+000; krok(n+1)=1.194064e+000; ng(n+1)=1.312506e+001;
n=41; farx(n+1)=3.733275e-001; foe(n+1)=8.432775e+000; krok(n+1)=2.560234e+000; ng(n+1)=7.532854e+000;
n=42; farx(n+1)=3.842787e-001; foe(n+1)=8.422966e+000; krok(n+1)=3.493349e+000; ng(n+1)=1.856445e+001;
n=43; farx(n+1)=4.244265e-001; foe(n+1)=8.397231e+000; krok(n+1)=3.598986e+000; ng(n+1)=4.917340e+001;
n=44; farx(n+1)=4.355144e-001; foe(n+1)=8.382764e+000; krok(n+1)=7.638857e-001; ng(n+1)=4.347662e+001;
n=45; farx(n+1)=4.434171e-001; foe(n+1)=8.380415e+000; krok(n+1)=2.193298e-001; ng(n+1)=4.034042e+001;
n=46; farx(n+1)=4.841679e-001; foe(n+1)=8.361933e+000; krok(n+1)=1.179292e+000; ng(n+1)=4.576105e+001;
n=47; farx(n+1)=4.927525e-001; foe(n+1)=8.349651e+000; krok(n+1)=9.727120e-001; ng(n+1)=4.142489e+001;
n=48; farx(n+1)=5.310852e-001; foe(n+1)=8.333803e+000; krok(n+1)=1.091740e+000; ng(n+1)=9.077791e+000;
n=49; farx(n+1)=5.662788e-001; foe(n+1)=8.319903e+000; krok(n+1)=2.108705e+000; ng(n+1)=2.655741e+001;
n=50; farx(n+1)=5.707388e-001; foe(n+1)=8.307349e+000; krok(n+1)=5.804224e-001; ng(n+1)=4.007883e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
