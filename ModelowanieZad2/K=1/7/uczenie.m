%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.349039e+002; foe(n+1)=2.345933e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.744168e+002; foe(n+1)=1.741310e+002; krok(n+1)=5.057541e-004; ng(n+1)=4.618665e+002;
n=2; farx(n+1)=6.169513e+001; foe(n+1)=6.146355e+001; krok(n+1)=1.640862e-002; ng(n+1)=9.694489e+001;
n=3; farx(n+1)=5.802454e+001; foe(n+1)=5.721931e+001; krok(n+1)=2.176307e-003; ng(n+1)=1.901645e+002;
n=4; farx(n+1)=5.256007e+001; foe(n+1)=5.110263e+001; krok(n+1)=1.048565e-002; ng(n+1)=1.697168e+002;
n=5; farx(n+1)=4.401452e+001; foe(n+1)=4.880643e+001; krok(n+1)=8.388517e-002; ng(n+1)=8.524748e+001;
n=6; farx(n+1)=3.655771e+001; foe(n+1)=4.276197e+001; krok(n+1)=2.277746e-001; ng(n+1)=1.427080e+002;
n=7; farx(n+1)=1.635185e+001; foe(n+1)=2.645915e+001; krok(n+1)=1.497285e+000; ng(n+1)=1.286978e+002;
n=8; farx(n+1)=1.246419e+001; foe(n+1)=2.325866e+001; krok(n+1)=6.236064e-001; ng(n+1)=1.382134e+002;
n=9; farx(n+1)=1.270528e+001; foe(n+1)=2.309760e+001; krok(n+1)=2.440422e-001; ng(n+1)=4.091841e+001;
n=10; farx(n+1)=9.389902e+000; foe(n+1)=2.034621e+001; krok(n+1)=2.924078e+000; ng(n+1)=2.270914e+001;
n=11; farx(n+1)=7.795915e+000; foe(n+1)=1.866999e+001; krok(n+1)=1.446686e-001; ng(n+1)=1.503916e+002;
n=12; farx(n+1)=4.955590e+000; foe(n+1)=1.574683e+001; krok(n+1)=8.031926e-001; ng(n+1)=1.922731e+002;
n=13; farx(n+1)=3.782792e+000; foe(n+1)=1.331790e+001; krok(n+1)=2.621075e-001; ng(n+1)=6.777704e+001;
n=14; farx(n+1)=3.277859e+000; foe(n+1)=1.224447e+001; krok(n+1)=8.277891e-002; ng(n+1)=2.793917e+002;
n=15; farx(n+1)=2.772757e+000; foe(n+1)=1.156388e+001; krok(n+1)=9.809225e-002; ng(n+1)=9.707432e+001;
n=16; farx(n+1)=2.526895e+000; foe(n+1)=1.105202e+001; krok(n+1)=4.977762e-001; ng(n+1)=7.587080e+001;
n=17; farx(n+1)=2.195479e+000; foe(n+1)=1.024641e+001; krok(n+1)=5.810114e-001; ng(n+1)=1.359570e+002;
n=18; farx(n+1)=1.900213e+000; foe(n+1)=9.708462e+000; krok(n+1)=3.768236e-001; ng(n+1)=1.456870e+002;
n=19; farx(n+1)=1.622017e+000; foe(n+1)=9.128350e+000; krok(n+1)=1.096368e+000; ng(n+1)=8.039430e+001;
n=20; farx(n+1)=1.413753e+000; foe(n+1)=8.878325e+000; krok(n+1)=6.305900e-001; ng(n+1)=4.306157e+001;
n=21; farx(n+1)=1.260940e+000; foe(n+1)=8.739320e+000; krok(n+1)=4.881595e-001; ng(n+1)=3.540521e+001;
n=22; farx(n+1)=1.216906e+000; foe(n+1)=8.566806e+000; krok(n+1)=3.983032e-001; ng(n+1)=1.912620e+001;
n=23; farx(n+1)=1.099953e+000; foe(n+1)=8.372269e+000; krok(n+1)=9.928979e-001; ng(n+1)=5.548386e+001;
n=24; farx(n+1)=1.087966e+000; foe(n+1)=8.326394e+000; krok(n+1)=4.854703e-001; ng(n+1)=5.576171e+001;
n=25; farx(n+1)=1.009374e+000; foe(n+1)=8.262497e+000; krok(n+1)=1.447720e+000; ng(n+1)=1.012006e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.007051e+000; foe(n+1)=8.259125e+000; krok(n+1)=3.415827e-005; ng(n+1)=2.397955e+001;
n=27; farx(n+1)=1.002880e+000; foe(n+1)=8.254154e+000; krok(n+1)=1.221213e-004; ng(n+1)=1.156209e+001;
n=28; farx(n+1)=1.001084e+000; foe(n+1)=8.247147e+000; krok(n+1)=2.673171e-003; ng(n+1)=3.669879e+000;
n=29; farx(n+1)=1.041774e+000; foe(n+1)=8.229763e+000; krok(n+1)=4.587536e-003; ng(n+1)=5.451352e+000;
n=30; farx(n+1)=1.063389e+000; foe(n+1)=8.201791e+000; krok(n+1)=4.663645e-002; ng(n+1)=4.571537e+000;
n=31; farx(n+1)=1.063315e+000; foe(n+1)=8.199786e+000; krok(n+1)=8.321100e-002; ng(n+1)=1.832446e+001;
n=32; farx(n+1)=1.065301e+000; foe(n+1)=8.196259e+000; krok(n+1)=6.577988e-001; ng(n+1)=1.662532e+001;
n=33; farx(n+1)=1.049618e+000; foe(n+1)=8.194847e+000; krok(n+1)=3.806077e-001; ng(n+1)=2.153243e+000;
n=34; farx(n+1)=1.048137e+000; foe(n+1)=8.193922e+000; krok(n+1)=1.147757e+000; ng(n+1)=4.193808e+000;
n=35; farx(n+1)=1.046750e+000; foe(n+1)=8.193859e+000; krok(n+1)=9.961132e-001; ng(n+1)=1.058895e+000;
n=36; farx(n+1)=1.045611e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.127230e+000; ng(n+1)=3.108415e-001;
n=37; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.009068e+000; ng(n+1)=1.474708e-001;
n=38; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.024840e+000; ng(n+1)=4.291628e-003;
n=39; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.430061e-005; ng(n+1)=2.173573e-003;
n=40; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=2.449700e-005; ng(n+1)=2.173549e-003;
n=41; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.067263e-005; ng(n+1)=2.173496e-003;
n=42; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=8.465850e-008; ng(n+1)=2.173473e-003;
n=43; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=6.328054e-010; ng(n+1)=2.173472e-003;
n=44; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=8.663519e-011; ng(n+1)=2.173472e-003;
 % z³y kierunek w metodzie zm - odnowa 
n=45; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=2.246557e-005; ng(n+1)=2.173472e-003;
n=46; farx(n+1)=1.045509e+000; foe(n+1)=8.193852e+000; krok(n+1)=2.497956e-004; ng(n+1)=6.117978e-004;
n=47; farx(n+1)=1.045510e+000; foe(n+1)=8.193852e+000; krok(n+1)=5.747417e-004; ng(n+1)=4.166094e-004;
n=48; farx(n+1)=1.045510e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.639991e-005; ng(n+1)=7.880615e-005;
n=49; farx(n+1)=1.045510e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.126542e-005; ng(n+1)=7.875341e-005;
n=50; farx(n+1)=1.045510e+000; foe(n+1)=8.193852e+000; krok(n+1)=6.028251e-006; ng(n+1)=7.875030e-005;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
