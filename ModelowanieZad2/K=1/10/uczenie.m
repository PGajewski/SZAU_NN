%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.468442e+002; foe(n+1)=2.437102e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.799713e+002; foe(n+1)=1.787778e+002; krok(n+1)=5.033545e-004; ng(n+1)=4.474157e+002;
n=2; farx(n+1)=1.789226e+002; foe(n+1)=1.784575e+002; krok(n+1)=3.128460e-003; ng(n+1)=2.163032e+001;
n=3; farx(n+1)=5.790589e+001; foe(n+1)=5.380978e+001; krok(n+1)=8.764941e-002; ng(n+1)=1.418214e+001;
n=4; farx(n+1)=5.767411e+001; foe(n+1)=5.365434e+001; krok(n+1)=1.298332e-004; ng(n+1)=9.380523e+001;
n=5; farx(n+1)=6.334020e+001; foe(n+1)=5.270377e+001; krok(n+1)=2.010759e-001; ng(n+1)=1.030042e+002;
n=6; farx(n+1)=2.259143e+001; foe(n+1)=3.124079e+001; krok(n+1)=2.608981e+000; ng(n+1)=5.273401e+001;
n=7; farx(n+1)=1.251984e+001; foe(n+1)=2.503363e+001; krok(n+1)=1.701816e-001; ng(n+1)=1.578580e+002;
n=8; farx(n+1)=1.078309e+001; foe(n+1)=2.315566e+001; krok(n+1)=3.214238e-001; ng(n+1)=2.116933e+002;
n=9; farx(n+1)=1.029081e+001; foe(n+1)=2.247764e+001; krok(n+1)=4.188592e-001; ng(n+1)=4.954579e+001;
n=10; farx(n+1)=9.083852e+000; foe(n+1)=1.987901e+001; krok(n+1)=2.548820e+000; ng(n+1)=4.923640e+001;
n=11; farx(n+1)=8.268509e+000; foe(n+1)=1.935789e+001; krok(n+1)=1.293077e-001; ng(n+1)=8.363573e+001;
n=12; farx(n+1)=5.798087e+000; foe(n+1)=1.775253e+001; krok(n+1)=2.555916e-001; ng(n+1)=1.003452e+002;
n=13; farx(n+1)=3.371275e+000; foe(n+1)=1.268871e+001; krok(n+1)=1.561751e+000; ng(n+1)=1.017035e+002;
n=14; farx(n+1)=2.737327e+000; foe(n+1)=1.187792e+001; krok(n+1)=1.909506e-001; ng(n+1)=1.710953e+002;
n=15; farx(n+1)=2.126772e+000; foe(n+1)=1.081690e+001; krok(n+1)=3.050693e-001; ng(n+1)=2.771959e+002;
n=16; farx(n+1)=1.721400e+000; foe(n+1)=1.002819e+001; krok(n+1)=1.133514e+000; ng(n+1)=1.505557e+002;
n=17; farx(n+1)=1.599684e+000; foe(n+1)=9.813872e+000; krok(n+1)=5.114232e-001; ng(n+1)=2.687269e+001;
n=18; farx(n+1)=1.516196e+000; foe(n+1)=9.667450e+000; krok(n+1)=2.696528e-001; ng(n+1)=4.807765e+001;
n=19; farx(n+1)=1.339230e+000; foe(n+1)=9.193158e+000; krok(n+1)=8.771846e-001; ng(n+1)=1.081540e+002;
n=20; farx(n+1)=1.404229e+000; foe(n+1)=9.054370e+000; krok(n+1)=2.205796e-001; ng(n+1)=5.853386e+001;
n=21; farx(n+1)=1.240289e+000; foe(n+1)=8.758820e+000; krok(n+1)=6.954939e-001; ng(n+1)=8.288949e+001;
n=22; farx(n+1)=1.075247e+000; foe(n+1)=8.506061e+000; krok(n+1)=8.375141e-001; ng(n+1)=5.535551e+001;
n=23; farx(n+1)=1.050800e+000; foe(n+1)=8.430558e+000; krok(n+1)=6.954939e-001; ng(n+1)=4.109937e+001;
n=24; farx(n+1)=1.050340e+000; foe(n+1)=8.328224e+000; krok(n+1)=9.073805e-001; ng(n+1)=5.257659e+001;
n=25; farx(n+1)=9.955037e-001; foe(n+1)=8.277226e+000; krok(n+1)=4.228884e-001; ng(n+1)=1.394894e+001;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.955399e-001; foe(n+1)=8.274131e+000; krok(n+1)=3.723990e-005; ng(n+1)=1.984637e+001;
n=27; farx(n+1)=9.870589e-001; foe(n+1)=8.266547e+000; krok(n+1)=1.405774e-004; ng(n+1)=1.653402e+001;
n=28; farx(n+1)=9.762418e-001; foe(n+1)=8.258027e+000; krok(n+1)=6.174461e-004; ng(n+1)=8.198561e+000;
n=29; farx(n+1)=1.005293e+000; foe(n+1)=8.245657e+000; krok(n+1)=2.410544e-002; ng(n+1)=1.498880e+000;
n=30; farx(n+1)=1.005625e+000; foe(n+1)=8.226785e+000; krok(n+1)=2.835564e-002; ng(n+1)=5.757782e+000;
n=31; farx(n+1)=9.568120e-001; foe(n+1)=8.212744e+000; krok(n+1)=2.587256e-001; ng(n+1)=1.380300e+001;
n=32; farx(n+1)=9.603165e-001; foe(n+1)=8.207314e+000; krok(n+1)=3.465039e-001; ng(n+1)=1.486409e+001;
n=33; farx(n+1)=9.692226e-001; foe(n+1)=8.202566e+000; krok(n+1)=9.528451e-001; ng(n+1)=5.657023e+000;
n=34; farx(n+1)=9.941848e-001; foe(n+1)=8.199930e+000; krok(n+1)=1.569476e+000; ng(n+1)=5.262134e+000;
n=35; farx(n+1)=1.030349e+000; foe(n+1)=8.196416e+000; krok(n+1)=2.871462e+000; ng(n+1)=4.604887e+000;
n=36; farx(n+1)=1.044885e+000; foe(n+1)=8.194617e+000; krok(n+1)=6.228822e-001; ng(n+1)=4.764187e+000;
n=37; farx(n+1)=1.039970e+000; foe(n+1)=8.194040e+000; krok(n+1)=3.805404e-001; ng(n+1)=3.651556e+000;
n=38; farx(n+1)=1.043888e+000; foe(n+1)=8.193893e+000; krok(n+1)=5.365271e-001; ng(n+1)=2.417189e+000;
n=39; farx(n+1)=1.045304e+000; foe(n+1)=8.193854e+000; krok(n+1)=8.773192e-001; ng(n+1)=9.862216e-001;
n=40; farx(n+1)=1.045600e+000; foe(n+1)=8.193852e+000; krok(n+1)=9.512526e-001; ng(n+1)=3.436530e-001;
n=41; farx(n+1)=1.045510e+000; foe(n+1)=8.193852e+000; krok(n+1)=9.621767e-001; ng(n+1)=4.418078e-002;
n=42; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=9.744898e-001; ng(n+1)=2.517155e-003;
n=43; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.302585e-005; ng(n+1)=4.323056e-004;
n=44; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=2.190752e-005; ng(n+1)=4.323005e-004;
n=45; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=2.602922e-008; ng(n+1)=4.322910e-004;
n=46; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=6.666017e-007; ng(n+1)=4.322910e-004;
n=47; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=2.674848e-006; ng(n+1)=4.322908e-004;
n=48; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.115447e-005; ng(n+1)=4.322896e-004;
n=49; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=3.226382e-006; ng(n+1)=4.322847e-004;
n=50; farx(n+1)=1.045508e+000; foe(n+1)=8.193852e+000; krok(n+1)=1.520358e-006; ng(n+1)=4.322833e-004;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
