%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.217883e+002; foe(n+1)=2.215237e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.775146e+002; foe(n+1)=1.776402e+002; krok(n+1)=5.045766e-004; ng(n+1)=3.827760e+002;
n=2; farx(n+1)=5.547840e+001; foe(n+1)=5.845378e+001; krok(n+1)=3.022871e-002; ng(n+1)=5.554507e+001;
n=3; farx(n+1)=5.435229e+001; foe(n+1)=5.736987e+001; krok(n+1)=3.735658e-004; ng(n+1)=1.291737e+002;
n=4; farx(n+1)=4.929074e+001; foe(n+1)=5.614913e+001; krok(n+1)=3.272337e-003; ng(n+1)=4.349565e+001;
n=5; farx(n+1)=1.423387e+001; foe(n+1)=4.417171e+001; krok(n+1)=3.247320e-003; ng(n+1)=1.496296e+002;
n=6; farx(n+1)=1.096543e+001; foe(n+1)=4.287928e+001; krok(n+1)=1.589439e-002; ng(n+1)=1.034490e+003;
n=7; farx(n+1)=1.260846e+001; foe(n+1)=3.903063e+001; krok(n+1)=9.677825e-003; ng(n+1)=1.506453e+003;
n=8; farx(n+1)=1.307944e+001; foe(n+1)=3.793680e+001; krok(n+1)=3.933136e-002; ng(n+1)=1.344513e+003;
n=9; farx(n+1)=1.238138e+001; foe(n+1)=3.658562e+001; krok(n+1)=5.908701e-002; ng(n+1)=1.332550e+003;
n=10; farx(n+1)=5.231250e+000; foe(n+1)=2.910908e+001; krok(n+1)=1.191056e-001; ng(n+1)=1.292008e+003;
n=11; farx(n+1)=3.320076e+000; foe(n+1)=2.418433e+001; krok(n+1)=7.478469e-002; ng(n+1)=9.825552e+002;
n=12; farx(n+1)=2.834274e+000; foe(n+1)=2.177690e+001; krok(n+1)=7.564602e-002; ng(n+1)=2.428396e+002;
n=13; farx(n+1)=2.472070e+000; foe(n+1)=2.073909e+001; krok(n+1)=5.115815e-001; ng(n+1)=3.439952e+002;
n=14; farx(n+1)=1.610012e+000; foe(n+1)=1.975859e+001; krok(n+1)=9.735875e-001; ng(n+1)=2.538739e+002;
n=15; farx(n+1)=1.626748e+000; foe(n+1)=1.861734e+001; krok(n+1)=6.888628e-001; ng(n+1)=5.541123e+002;
n=16; farx(n+1)=1.589700e+000; foe(n+1)=1.593017e+001; krok(n+1)=1.874409e+000; ng(n+1)=1.123808e+002;
n=17; farx(n+1)=1.488750e+000; foe(n+1)=1.517131e+001; krok(n+1)=2.522670e-001; ng(n+1)=4.107121e+002;
n=18; farx(n+1)=1.147679e+000; foe(n+1)=1.204509e+001; krok(n+1)=8.551844e-001; ng(n+1)=6.222541e+002;
n=19; farx(n+1)=1.168682e+000; foe(n+1)=1.158621e+001; krok(n+1)=9.673187e-001; ng(n+1)=9.052849e+001;
n=20; farx(n+1)=1.094080e+000; foe(n+1)=1.149353e+001; krok(n+1)=1.147298e+000; ng(n+1)=1.196630e+002;
n=21; farx(n+1)=1.095761e+000; foe(n+1)=1.147338e+001; krok(n+1)=1.650428e+000; ng(n+1)=4.420173e+001;
n=22; farx(n+1)=1.069072e+000; foe(n+1)=1.139454e+001; krok(n+1)=2.184510e+000; ng(n+1)=9.916755e+001;
n=23; farx(n+1)=8.714615e-001; foe(n+1)=1.099485e+001; krok(n+1)=2.240289e+000; ng(n+1)=4.560080e+001;
n=24; farx(n+1)=6.412728e-001; foe(n+1)=1.022931e+001; krok(n+1)=1.291004e+000; ng(n+1)=3.109033e+002;
n=25; farx(n+1)=5.851403e-001; foe(n+1)=9.972744e+000; krok(n+1)=3.739988e-001; ng(n+1)=4.328393e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=5.869952e-001; foe(n+1)=9.816002e+000; krok(n+1)=9.538947e-006; ng(n+1)=3.306386e+002;
n=27; farx(n+1)=5.946717e-001; foe(n+1)=9.610277e+000; krok(n+1)=1.497616e-005; ng(n+1)=3.291132e+002;
n=28; farx(n+1)=5.795100e-001; foe(n+1)=9.547344e+000; krok(n+1)=1.997320e-004; ng(n+1)=4.193122e+001;
n=29; farx(n+1)=5.812145e-001; foe(n+1)=9.340424e+000; krok(n+1)=2.000182e-002; ng(n+1)=1.026054e+001;
n=30; farx(n+1)=5.638917e-001; foe(n+1)=9.259668e+000; krok(n+1)=4.795168e-003; ng(n+1)=2.218287e+002;
n=31; farx(n+1)=4.327744e-001; foe(n+1)=8.844334e+000; krok(n+1)=7.847380e-001; ng(n+1)=1.994806e+002;
n=32; farx(n+1)=4.060449e-001; foe(n+1)=8.709088e+000; krok(n+1)=1.759944e-002; ng(n+1)=6.459207e+001;
n=33; farx(n+1)=3.375484e-001; foe(n+1)=8.556714e+000; krok(n+1)=4.372571e-001; ng(n+1)=9.829956e+001;
n=34; farx(n+1)=3.402092e-001; foe(n+1)=8.517512e+000; krok(n+1)=3.064368e-001; ng(n+1)=1.542033e+002;
n=35; farx(n+1)=3.435256e-001; foe(n+1)=8.499386e+000; krok(n+1)=9.089030e-001; ng(n+1)=1.658845e+002;
n=36; farx(n+1)=3.418711e-001; foe(n+1)=8.477135e+000; krok(n+1)=8.295027e-001; ng(n+1)=2.705754e+001;
n=37; farx(n+1)=3.473777e-001; foe(n+1)=8.464048e+000; krok(n+1)=7.807902e-001; ng(n+1)=3.359028e+001;
n=38; farx(n+1)=3.513097e-001; foe(n+1)=8.462631e+000; krok(n+1)=1.138542e+000; ng(n+1)=2.448829e+001;
n=39; farx(n+1)=3.537439e-001; foe(n+1)=8.458849e+000; krok(n+1)=4.393315e+000; ng(n+1)=1.264984e+001;
n=40; farx(n+1)=3.687145e-001; foe(n+1)=8.446783e+000; krok(n+1)=3.598986e+000; ng(n+1)=3.619870e+001;
n=41; farx(n+1)=3.836962e-001; foe(n+1)=8.433160e+000; krok(n+1)=1.378694e+000; ng(n+1)=5.086147e+001;
n=42; farx(n+1)=4.017625e-001; foe(n+1)=8.420347e+000; krok(n+1)=5.461275e-001; ng(n+1)=4.455053e+001;
n=43; farx(n+1)=4.082221e-001; foe(n+1)=8.408554e+000; krok(n+1)=1.605435e+000; ng(n+1)=3.509170e+001;
n=44; farx(n+1)=4.068609e-001; foe(n+1)=8.401224e+000; krok(n+1)=4.803134e-001; ng(n+1)=5.992746e+001;
n=45; farx(n+1)=4.033620e-001; foe(n+1)=8.397792e+000; krok(n+1)=3.655097e-001; ng(n+1)=3.250859e+001;
n=46; farx(n+1)=4.301623e-001; foe(n+1)=8.381051e+000; krok(n+1)=1.462039e+000; ng(n+1)=9.436827e+000;
n=47; farx(n+1)=4.839181e-001; foe(n+1)=8.364886e+000; krok(n+1)=2.965571e+000; ng(n+1)=3.332443e+001;
n=48; farx(n+1)=4.939037e-001; foe(n+1)=8.351295e+000; krok(n+1)=1.462039e+000; ng(n+1)=5.393370e+001;
n=49; farx(n+1)=5.073024e-001; foe(n+1)=8.346752e+000; krok(n+1)=1.872762e-001; ng(n+1)=5.717785e+000;
n=50; farx(n+1)=5.392644e-001; foe(n+1)=8.336015e+000; krok(n+1)=1.119298e+000; ng(n+1)=2.546775e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
