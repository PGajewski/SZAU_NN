%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.362028e+002; foe(n+1)=2.421478e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.746006e+002; foe(n+1)=1.787023e+002; krok(n+1)=4.912716e-004; ng(n+1)=4.870707e+002;
n=2; farx(n+1)=1.392977e+002; foe(n+1)=1.402120e+002; krok(n+1)=2.768235e-002; ng(n+1)=7.548762e+001;
n=3; farx(n+1)=5.595302e+001; foe(n+1)=5.645444e+001; krok(n+1)=9.458427e-004; ng(n+1)=3.404456e+002;
n=4; farx(n+1)=4.248014e+001; foe(n+1)=4.258549e+001; krok(n+1)=5.108911e-002; ng(n+1)=1.243056e+002;
n=5; farx(n+1)=3.474979e+001; foe(n+1)=3.687572e+001; krok(n+1)=7.773108e-001; ng(n+1)=9.232535e+001;
n=6; farx(n+1)=3.205168e+001; foe(n+1)=3.447700e+001; krok(n+1)=1.554381e+000; ng(n+1)=3.954012e+001;
n=7; farx(n+1)=3.218129e+001; foe(n+1)=3.400410e+001; krok(n+1)=2.959384e-001; ng(n+1)=4.640416e+001;
n=8; farx(n+1)=3.205353e+001; foe(n+1)=3.390376e+001; krok(n+1)=1.304490e+000; ng(n+1)=1.247929e+001;
n=9; farx(n+1)=3.205020e+001; foe(n+1)=3.348622e+001; krok(n+1)=6.943571e+000; ng(n+1)=9.731865e+000;
n=10; farx(n+1)=3.200274e+001; foe(n+1)=3.339625e+001; krok(n+1)=3.101349e-001; ng(n+1)=1.634891e+001;
n=11; farx(n+1)=3.172393e+001; foe(n+1)=3.319663e+001; krok(n+1)=6.809733e-001; ng(n+1)=1.595309e+001;
n=12; farx(n+1)=3.149010e+001; foe(n+1)=3.310409e+001; krok(n+1)=8.559000e-001; ng(n+1)=1.137797e+001;
n=13; farx(n+1)=3.080094e+001; foe(n+1)=3.286010e+001; krok(n+1)=1.007999e+000; ng(n+1)=8.496385e+000;
n=14; farx(n+1)=2.840874e+001; foe(n+1)=3.211951e+001; krok(n+1)=1.905355e+000; ng(n+1)=3.076126e+001;
n=15; farx(n+1)=2.719788e+001; foe(n+1)=3.198317e+001; krok(n+1)=1.872762e-001; ng(n+1)=3.100201e+001;
n=16; farx(n+1)=1.535019e+001; foe(n+1)=2.718773e+001; krok(n+1)=8.823184e-001; ng(n+1)=2.943999e+001;
n=17; farx(n+1)=1.488728e+001; foe(n+1)=2.704965e+001; krok(n+1)=3.435175e-002; ng(n+1)=6.608609e+001;
n=18; farx(n+1)=1.395300e+001; foe(n+1)=2.682572e+001; krok(n+1)=4.757597e-002; ng(n+1)=2.404742e+002;
n=19; farx(n+1)=1.203510e+001; foe(n+1)=2.496204e+001; krok(n+1)=7.024328e-002; ng(n+1)=1.070166e+002;
n=20; farx(n+1)=7.414069e+000; foe(n+1)=2.002562e+001; krok(n+1)=5.657309e-001; ng(n+1)=1.040636e+003;
n=21; farx(n+1)=6.366892e+000; foe(n+1)=1.718957e+001; krok(n+1)=8.536620e-001; ng(n+1)=4.709300e+001;
n=22; farx(n+1)=5.956846e+000; foe(n+1)=1.674839e+001; krok(n+1)=2.785378e-001; ng(n+1)=1.448339e+002;
n=23; farx(n+1)=4.525503e+000; foe(n+1)=1.543788e+001; krok(n+1)=5.202472e-001; ng(n+1)=1.996537e+002;
n=24; farx(n+1)=3.401049e+000; foe(n+1)=1.434199e+001; krok(n+1)=6.051036e-001; ng(n+1)=2.827147e+002;
n=25; farx(n+1)=3.073834e+000; foe(n+1)=1.354698e+001; krok(n+1)=2.857373e-001; ng(n+1)=2.430612e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.788758e+000; foe(n+1)=1.271745e+001; krok(n+1)=7.403769e-005; ng(n+1)=1.757343e+002;
n=27; farx(n+1)=2.499135e+000; foe(n+1)=1.256146e+001; krok(n+1)=2.337468e-004; ng(n+1)=4.950665e+001;
n=28; farx(n+1)=2.317274e+000; foe(n+1)=1.195268e+001; krok(n+1)=9.296334e-003; ng(n+1)=1.650819e+001;
n=29; farx(n+1)=2.153437e+000; foe(n+1)=1.184865e+001; krok(n+1)=1.080144e-002; ng(n+1)=2.968632e+001;
n=30; farx(n+1)=1.935135e+000; foe(n+1)=1.145015e+001; krok(n+1)=2.527804e-002; ng(n+1)=1.978617e+001;
n=31; farx(n+1)=2.113211e+000; foe(n+1)=1.055166e+001; krok(n+1)=2.780492e-002; ng(n+1)=6.798867e+001;
n=32; farx(n+1)=2.153791e+000; foe(n+1)=1.012797e+001; krok(n+1)=5.596492e-001; ng(n+1)=7.545261e+001;
n=33; farx(n+1)=1.726900e+000; foe(n+1)=9.371617e+000; krok(n+1)=5.819545e-001; ng(n+1)=1.115370e+002;
n=34; farx(n+1)=1.550209e+000; foe(n+1)=9.142491e+000; krok(n+1)=4.187571e-001; ng(n+1)=7.440212e+001;
n=35; farx(n+1)=1.445657e+000; foe(n+1)=8.925776e+000; krok(n+1)=3.465039e-001; ng(n+1)=6.442814e+001;
n=36; farx(n+1)=1.152691e+000; foe(n+1)=8.640812e+000; krok(n+1)=2.184510e+000; ng(n+1)=5.555635e+001;
n=37; farx(n+1)=1.117115e+000; foe(n+1)=8.518740e+000; krok(n+1)=4.102061e-001; ng(n+1)=1.291558e+001;
n=38; farx(n+1)=1.175327e+000; foe(n+1)=8.399274e+000; krok(n+1)=5.360036e-001; ng(n+1)=4.228461e+001;
n=39; farx(n+1)=1.087850e+000; foe(n+1)=8.340141e+000; krok(n+1)=7.847380e-001; ng(n+1)=2.815631e+001;
n=40; farx(n+1)=1.016981e+000; foe(n+1)=8.295982e+000; krok(n+1)=4.063898e-001; ng(n+1)=3.471601e+001;
n=41; farx(n+1)=9.769950e-001; foe(n+1)=8.248133e+000; krok(n+1)=1.007999e+000; ng(n+1)=1.658329e+001;
n=42; farx(n+1)=9.577692e-001; foe(n+1)=8.237749e+000; krok(n+1)=3.011048e-001; ng(n+1)=3.078091e+001;
n=43; farx(n+1)=9.490799e-001; foe(n+1)=8.224215e+000; krok(n+1)=7.386536e-001; ng(n+1)=2.102651e+001;
n=44; farx(n+1)=9.263107e-001; foe(n+1)=8.216139e+000; krok(n+1)=1.075645e+000; ng(n+1)=9.522511e+000;
n=45; farx(n+1)=9.210113e-001; foe(n+1)=8.214399e+000; krok(n+1)=4.461224e-001; ng(n+1)=1.277135e+001;
n=46; farx(n+1)=9.163836e-001; foe(n+1)=8.213235e+000; krok(n+1)=8.922169e-001; ng(n+1)=4.896459e+000;
n=47; farx(n+1)=9.112315e-001; foe(n+1)=8.212880e+000; krok(n+1)=8.576098e-001; ng(n+1)=4.492343e+000;
n=48; farx(n+1)=9.123419e-001; foe(n+1)=8.212757e+000; krok(n+1)=2.016487e+000; ng(n+1)=3.825244e-001;
n=49; farx(n+1)=9.083137e-001; foe(n+1)=8.212430e+000; krok(n+1)=4.544190e+000; ng(n+1)=5.398048e-001;
n=50; farx(n+1)=1.016380e+000; foe(n+1)=8.201044e+000; krok(n+1)=2.475039e+001; ng(n+1)=1.646356e+000;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
