%uczenie predyktora oe
clear all;
n=0; farx(n+1)=2.367668e+002; foe(n+1)=2.434982e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.719414e+002; foe(n+1)=1.762159e+002; krok(n+1)=4.875677e-004; ng(n+1)=5.038305e+002;
n=2; farx(n+1)=5.158284e+001; foe(n+1)=5.574226e+001; krok(n+1)=2.334578e-002; ng(n+1)=7.969987e+001;
n=3; farx(n+1)=4.532511e+001; foe(n+1)=4.666517e+001; krok(n+1)=9.249673e-003; ng(n+1)=1.652759e+002;
n=4; farx(n+1)=4.306461e+001; foe(n+1)=4.421079e+001; krok(n+1)=2.047715e-003; ng(n+1)=5.924817e+001;
n=5; farx(n+1)=3.035907e+001; foe(n+1)=3.621882e+001; krok(n+1)=1.865214e-001; ng(n+1)=2.474188e+001;
n=6; farx(n+1)=2.700760e+001; foe(n+1)=3.282327e+001; krok(n+1)=4.686024e-001; ng(n+1)=1.090535e+002;
n=7; farx(n+1)=2.241465e+001; foe(n+1)=3.004813e+001; krok(n+1)=1.625559e+000; ng(n+1)=6.848096e+001;
n=8; farx(n+1)=2.190059e+001; foe(n+1)=2.962498e+001; krok(n+1)=4.228884e-001; ng(n+1)=5.872490e+001;
n=9; farx(n+1)=1.915992e+001; foe(n+1)=2.842384e+001; krok(n+1)=1.120145e+000; ng(n+1)=7.404403e+001;
n=10; farx(n+1)=1.630916e+001; foe(n+1)=2.638945e+001; krok(n+1)=5.949654e-001; ng(n+1)=5.109196e+001;
n=11; farx(n+1)=1.267047e+001; foe(n+1)=2.458111e+001; krok(n+1)=4.641165e-001; ng(n+1)=6.461500e+001;
n=12; farx(n+1)=1.218688e+001; foe(n+1)=2.439610e+001; krok(n+1)=2.547833e-003; ng(n+1)=3.063563e+002;
n=13; farx(n+1)=7.507329e+000; foe(n+1)=2.063334e+001; krok(n+1)=4.184169e-002; ng(n+1)=2.054029e+003;
n=14; farx(n+1)=6.902209e+000; foe(n+1)=1.925221e+001; krok(n+1)=6.910260e-002; ng(n+1)=3.670781e+001;
n=15; farx(n+1)=6.510678e+000; foe(n+1)=1.800715e+001; krok(n+1)=2.007487e-001; ng(n+1)=8.184180e+002;
n=16; farx(n+1)=6.535845e+000; foe(n+1)=1.782012e+001; krok(n+1)=1.576846e-002; ng(n+1)=4.572016e+002;
n=17; farx(n+1)=6.100252e+000; foe(n+1)=1.762406e+001; krok(n+1)=5.550159e-001; ng(n+1)=7.262904e+002;
n=18; farx(n+1)=5.834697e+000; foe(n+1)=1.753785e+001; krok(n+1)=1.115271e-001; ng(n+1)=1.445053e+002;
n=19; farx(n+1)=5.392452e+000; foe(n+1)=1.740936e+001; krok(n+1)=1.386016e+000; ng(n+1)=6.966030e+002;
n=20; farx(n+1)=4.788410e+000; foe(n+1)=1.698898e+001; krok(n+1)=2.390586e+000; ng(n+1)=2.238815e+002;
n=21; farx(n+1)=4.661388e+000; foe(n+1)=1.669567e+001; krok(n+1)=7.461831e-001; ng(n+1)=1.503897e+002;
n=22; farx(n+1)=5.069591e+000; foe(n+1)=1.604958e+001; krok(n+1)=8.913350e-001; ng(n+1)=1.574979e+002;
n=23; farx(n+1)=4.089572e+000; foe(n+1)=1.500968e+001; krok(n+1)=1.966140e+000; ng(n+1)=9.023178e+001;
n=24; farx(n+1)=3.650120e+000; foe(n+1)=1.425369e+001; krok(n+1)=1.624058e-001; ng(n+1)=4.714433e+001;
n=25; farx(n+1)=2.838483e+000; foe(n+1)=1.263009e+001; krok(n+1)=3.730916e-001; ng(n+1)=1.367503e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.846250e+000; foe(n+1)=1.258013e+001; krok(n+1)=1.357488e-005; ng(n+1)=1.301371e+002;
n=27; farx(n+1)=2.900616e+000; foe(n+1)=1.253010e+001; krok(n+1)=7.028870e-005; ng(n+1)=6.223568e+001;
n=28; farx(n+1)=3.057120e+000; foe(n+1)=1.242823e+001; krok(n+1)=6.459813e-004; ng(n+1)=5.442108e+001;
n=29; farx(n+1)=2.777779e+000; foe(n+1)=1.210043e+001; krok(n+1)=2.677949e-003; ng(n+1)=3.262391e+001;
n=30; farx(n+1)=2.378489e+000; foe(n+1)=1.177322e+001; krok(n+1)=6.274942e-003; ng(n+1)=3.841372e+001;
n=31; farx(n+1)=2.033748e+000; foe(n+1)=1.013476e+001; krok(n+1)=1.522124e-001; ng(n+1)=5.919419e+001;
n=32; farx(n+1)=1.781458e+000; foe(n+1)=9.898247e+000; krok(n+1)=1.125547e-002; ng(n+1)=9.669324e+001;
n=33; farx(n+1)=1.802451e+000; foe(n+1)=9.420691e+000; krok(n+1)=7.970783e-001; ng(n+1)=1.030429e+002;
n=34; farx(n+1)=1.537883e+000; foe(n+1)=9.175179e+000; krok(n+1)=8.067975e-001; ng(n+1)=4.822768e+001;
n=35; farx(n+1)=1.370123e+000; foe(n+1)=8.954494e+000; krok(n+1)=1.075480e+000; ng(n+1)=4.738858e+001;
n=36; farx(n+1)=1.351200e+000; foe(n+1)=8.773142e+000; krok(n+1)=3.510640e-001; ng(n+1)=4.321360e+001;
n=37; farx(n+1)=1.377515e+000; foe(n+1)=8.620128e+000; krok(n+1)=5.995370e-001; ng(n+1)=8.976316e+001;
n=38; farx(n+1)=1.283336e+000; foe(n+1)=8.443016e+000; krok(n+1)=1.239505e+000; ng(n+1)=4.362709e+001;
n=39; farx(n+1)=1.139868e+000; foe(n+1)=8.334517e+000; krok(n+1)=1.420334e+000; ng(n+1)=1.969247e+001;
n=40; farx(n+1)=1.121676e+000; foe(n+1)=8.314634e+000; krok(n+1)=4.862877e-001; ng(n+1)=2.890119e+001;
n=41; farx(n+1)=1.096783e+000; foe(n+1)=8.299732e+000; krok(n+1)=4.971848e-001; ng(n+1)=1.076950e+001;
n=42; farx(n+1)=1.076111e+000; foe(n+1)=8.281999e+000; krok(n+1)=7.101669e-001; ng(n+1)=2.449071e+001;
n=43; farx(n+1)=1.040170e+000; foe(n+1)=8.275677e+000; krok(n+1)=1.285650e+000; ng(n+1)=9.128637e+000;
n=44; farx(n+1)=1.033380e+000; foe(n+1)=8.271462e+000; krok(n+1)=7.310195e-001; ng(n+1)=6.929260e+000;
n=45; farx(n+1)=1.019961e+000; foe(n+1)=8.268643e+000; krok(n+1)=1.394120e+000; ng(n+1)=7.800611e+000;
n=46; farx(n+1)=1.025217e+000; foe(n+1)=8.266657e+000; krok(n+1)=8.896431e-001; ng(n+1)=5.436001e+000;
n=47; farx(n+1)=1.007386e+000; foe(n+1)=8.263794e+000; krok(n+1)=1.267142e+000; ng(n+1)=7.898282e+000;
n=48; farx(n+1)=1.008540e+000; foe(n+1)=8.261492e+000; krok(n+1)=1.462039e+000; ng(n+1)=7.187168e+000;
n=49; farx(n+1)=1.025450e+000; foe(n+1)=8.259159e+000; krok(n+1)=2.099830e+000; ng(n+1)=1.177443e+001;
n=50; farx(n+1)=1.027102e+000; foe(n+1)=8.256012e+000; krok(n+1)=4.261875e+000; ng(n+1)=1.015830e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
