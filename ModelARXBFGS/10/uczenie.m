%uczenie predyktora arx
clear all;
n=0; farx(n+1)=2.326046e+002; foe(n+1)=2.365770e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.768363e+002; foe(n+1)=1.801446e+002; krok(n+1)=5.045766e-004; ng(n+1)=5.709995e+002;
n=2; farx(n+1)=4.914264e+001; foe(n+1)=6.574940e+001; krok(n+1)=2.243330e-002; ng(n+1)=1.959039e+002;
n=3; farx(n+1)=4.142991e+001; foe(n+1)=6.341726e+001; krok(n+1)=8.100612e-004; ng(n+1)=4.461525e+002;
n=4; farx(n+1)=2.569410e+001; foe(n+1)=6.604349e+001; krok(n+1)=2.407737e-003; ng(n+1)=3.413467e+002;
n=5; farx(n+1)=8.016728e+000; foe(n+1)=6.415571e+002; krok(n+1)=9.064776e-004; ng(n+1)=6.437025e+002;
n=6; farx(n+1)=2.948392e+000; foe(n+1)=5.200514e+001; krok(n+1)=4.732206e-002; ng(n+1)=5.731424e+002;
n=7; farx(n+1)=2.355478e+000; foe(n+1)=2.059849e+001; krok(n+1)=9.949946e-003; ng(n+1)=1.731399e+002;
n=8; farx(n+1)=1.852460e+000; foe(n+1)=2.367678e+001; krok(n+1)=1.097075e-002; ng(n+1)=1.062435e+002;
n=9; farx(n+1)=1.119098e+000; foe(n+1)=2.446430e+001; krok(n+1)=4.773765e-002; ng(n+1)=6.280744e+001;
n=10; farx(n+1)=6.693814e-001; foe(n+1)=3.079392e+001; krok(n+1)=1.305790e-001; ng(n+1)=1.065046e+002;
n=11; farx(n+1)=6.274176e-001; foe(n+1)=2.735304e+001; krok(n+1)=1.511586e-001; ng(n+1)=1.550342e+001;
n=12; farx(n+1)=5.104489e-001; foe(n+1)=2.104500e+001; krok(n+1)=6.251445e-001; ng(n+1)=1.830354e+001;
n=13; farx(n+1)=3.872224e-001; foe(n+1)=1.435669e+001; krok(n+1)=2.317569e-001; ng(n+1)=3.609177e+001;
n=14; farx(n+1)=3.549801e-001; foe(n+1)=1.854509e+001; krok(n+1)=2.114442e-001; ng(n+1)=1.135570e+001;
n=15; farx(n+1)=3.077726e-001; foe(n+1)=1.140674e+001; krok(n+1)=3.072232e-001; ng(n+1)=1.742490e+001;
n=16; farx(n+1)=3.018781e-001; foe(n+1)=1.339734e+001; krok(n+1)=1.468011e-001; ng(n+1)=1.302221e+001;
n=17; farx(n+1)=2.824264e-001; foe(n+1)=1.295202e+001; krok(n+1)=8.727420e-001; ng(n+1)=1.706536e+000;
n=18; farx(n+1)=2.781805e-001; foe(n+1)=9.291581e+000; krok(n+1)=1.226779e+000; ng(n+1)=7.426691e+000;
n=19; farx(n+1)=2.724246e-001; foe(n+1)=1.038014e+001; krok(n+1)=7.638023e-001; ng(n+1)=9.090001e+000;
n=20; farx(n+1)=2.687752e-001; foe(n+1)=1.005431e+001; krok(n+1)=7.847380e-001; ng(n+1)=4.663613e+000;
n=21; farx(n+1)=2.643154e-001; foe(n+1)=8.438868e+000; krok(n+1)=6.007020e-001; ng(n+1)=5.307381e+000;
n=22; farx(n+1)=2.587633e-001; foe(n+1)=8.373513e+000; krok(n+1)=1.127230e+000; ng(n+1)=3.226056e+000;
n=23; farx(n+1)=2.559066e-001; foe(n+1)=1.197298e+001; krok(n+1)=3.276650e-001; ng(n+1)=8.637044e+000;
n=24; farx(n+1)=2.537934e-001; foe(n+1)=9.251145e+000; krok(n+1)=3.724184e-001; ng(n+1)=5.185476e+000;
n=25; farx(n+1)=2.517672e-001; foe(n+1)=9.092407e+000; krok(n+1)=6.137814e-001; ng(n+1)=1.078671e+000;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.512196e-001; foe(n+1)=9.899052e+000; krok(n+1)=2.669523e-004; ng(n+1)=4.080231e+000;
n=27; farx(n+1)=2.511847e-001; foe(n+1)=9.746617e+000; krok(n+1)=3.812452e-004; ng(n+1)=1.229789e+000;
n=28; farx(n+1)=2.510464e-001; foe(n+1)=9.121405e+000; krok(n+1)=8.894860e-003; ng(n+1)=5.086841e-001;
n=29; farx(n+1)=2.503888e-001; foe(n+1)=8.432542e+000; krok(n+1)=3.450322e-002; ng(n+1)=5.648977e-001;
n=30; farx(n+1)=2.492636e-001; foe(n+1)=8.731217e+000; krok(n+1)=9.909413e-002; ng(n+1)=3.578902e-001;
n=31; farx(n+1)=2.462601e-001; foe(n+1)=6.095027e+000; krok(n+1)=2.442288e-001; ng(n+1)=6.646835e-001;
n=32; farx(n+1)=2.447525e-001; foe(n+1)=6.610425e+000; krok(n+1)=3.739988e-001; ng(n+1)=4.912144e+000;
n=33; farx(n+1)=2.441819e-001; foe(n+1)=6.877039e+000; krok(n+1)=3.091015e-001; ng(n+1)=2.010757e+000;
n=34; farx(n+1)=2.426213e-001; foe(n+1)=6.811115e+000; krok(n+1)=3.050693e-001; ng(n+1)=2.158834e+000;
n=35; farx(n+1)=2.413238e-001; foe(n+1)=6.714978e+000; krok(n+1)=4.158012e-001; ng(n+1)=4.447633e+000;
n=36; farx(n+1)=2.392002e-001; foe(n+1)=5.534021e+000; krok(n+1)=1.206369e+000; ng(n+1)=1.637476e+000;
n=37; farx(n+1)=2.375668e-001; foe(n+1)=5.822273e+000; krok(n+1)=3.904377e-001; ng(n+1)=4.328511e+000;
n=38; farx(n+1)=2.359311e-001; foe(n+1)=5.197064e+000; krok(n+1)=2.640676e-001; ng(n+1)=3.876473e+000;
n=39; farx(n+1)=2.336660e-001; foe(n+1)=6.802039e+000; krok(n+1)=2.902112e-001; ng(n+1)=6.127746e+000;
n=40; farx(n+1)=2.297799e-001; foe(n+1)=6.340045e+000; krok(n+1)=5.178922e-001; ng(n+1)=4.462563e+000;
n=41; farx(n+1)=2.264531e-001; foe(n+1)=8.003565e+000; krok(n+1)=2.278082e-001; ng(n+1)=5.809220e+000;
n=42; farx(n+1)=2.245759e-001; foe(n+1)=6.429292e+000; krok(n+1)=2.601236e-001; ng(n+1)=5.229622e+000;
n=43; farx(n+1)=2.216593e-001; foe(n+1)=5.639061e+000; krok(n+1)=3.963116e-001; ng(n+1)=4.248756e+000;
n=44; farx(n+1)=2.173614e-001; foe(n+1)=4.240117e+000; krok(n+1)=5.249576e-001; ng(n+1)=4.239540e+000;
n=45; farx(n+1)=2.164110e-001; foe(n+1)=3.926636e+000; krok(n+1)=1.150668e-001; ng(n+1)=2.803539e+000;
n=46; farx(n+1)=2.124928e-001; foe(n+1)=3.128799e+000; krok(n+1)=1.435731e+000; ng(n+1)=2.385263e+000;
n=47; farx(n+1)=2.112341e-001; foe(n+1)=3.223332e+000; krok(n+1)=2.921091e-001; ng(n+1)=8.044617e+000;
n=48; farx(n+1)=2.099531e-001; foe(n+1)=3.038822e+000; krok(n+1)=5.945315e-001; ng(n+1)=8.150667e-001;
n=49; farx(n+1)=2.087243e-001; foe(n+1)=2.921271e+000; krok(n+1)=3.321888e-001; ng(n+1)=2.612743e+000;
n=50; farx(n+1)=2.061076e-001; foe(n+1)=3.377303e+000; krok(n+1)=7.011953e-001; ng(n+1)=3.246794e+000;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora ARX');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
