%uczenie predyktora arx
clear all;
n=0; farx(n+1)=2.295913e+002; foe(n+1)=2.335394e+002; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=1.823247e+002; foe(n+1)=1.869639e+002; krok(n+1)=5.127695e-004; ng(n+1)=6.750241e+002;
n=2; farx(n+1)=1.649211e+002; foe(n+1)=1.708396e+002; krok(n+1)=4.563662e-003; ng(n+1)=2.526158e+002;
n=3; farx(n+1)=3.419280e+001; foe(n+1)=6.263255e+001; krok(n+1)=4.375565e-003; ng(n+1)=3.484788e+002;
n=4; farx(n+1)=2.871360e+001; foe(n+1)=5.971052e+001; krok(n+1)=2.087697e-003; ng(n+1)=2.454083e+002;
n=5; farx(n+1)=2.036518e+001; foe(n+1)=1.076708e+002; krok(n+1)=1.183052e-002; ng(n+1)=2.236235e+002;
n=6; farx(n+1)=5.382186e+000; foe(n+1)=1.032590e+003; krok(n+1)=1.664870e-002; ng(n+1)=5.479851e+002;
n=7; farx(n+1)=4.729359e+000; foe(n+1)=1.135508e+003; krok(n+1)=9.555317e-003; ng(n+1)=2.207720e+002;
n=8; farx(n+1)=3.611102e+000; foe(n+1)=6.231749e+002; krok(n+1)=4.138006e-002; ng(n+1)=8.566928e+001;
n=9; farx(n+1)=1.728594e+000; foe(n+1)=2.415130e+002; krok(n+1)=3.929724e-002; ng(n+1)=8.246415e+001;
n=10; farx(n+1)=1.371943e+000; foe(n+1)=6.886076e+001; krok(n+1)=2.351648e-002; ng(n+1)=1.097171e+002;
n=11; farx(n+1)=7.952005e-001; foe(n+1)=1.922957e+001; krok(n+1)=5.625683e-002; ng(n+1)=9.199386e+001;
n=12; farx(n+1)=7.067562e-001; foe(n+1)=2.314981e+001; krok(n+1)=1.134226e-001; ng(n+1)=7.100937e+000;
n=13; farx(n+1)=6.397986e-001; foe(n+1)=1.134314e+001; krok(n+1)=1.015974e-001; ng(n+1)=3.220961e+001;
n=14; farx(n+1)=5.240058e-001; foe(n+1)=9.476754e+000; krok(n+1)=4.406235e-001; ng(n+1)=2.375296e+001;
n=15; farx(n+1)=4.919331e-001; foe(n+1)=8.196835e+000; krok(n+1)=3.227510e-001; ng(n+1)=1.017269e+001;
n=16; farx(n+1)=4.101642e-001; foe(n+1)=1.186819e+001; krok(n+1)=7.178738e-001; ng(n+1)=2.132584e+001;
n=17; farx(n+1)=3.625200e-001; foe(n+1)=8.695276e+000; krok(n+1)=1.827549e-001; ng(n+1)=2.266679e+001;
n=18; farx(n+1)=3.231642e-001; foe(n+1)=8.151309e+000; krok(n+1)=2.457675e-001; ng(n+1)=2.002822e+001;
n=19; farx(n+1)=2.947291e-001; foe(n+1)=1.217135e+001; krok(n+1)=3.923690e-001; ng(n+1)=9.852818e+000;
n=20; farx(n+1)=2.770720e-001; foe(n+1)=1.017392e+001; krok(n+1)=3.550835e-001; ng(n+1)=1.882419e+001;
n=21; farx(n+1)=2.668449e-001; foe(n+1)=8.915744e+000; krok(n+1)=1.961202e+000; ng(n+1)=4.173068e+000;
n=22; farx(n+1)=2.649253e-001; foe(n+1)=7.905085e+000; krok(n+1)=1.183754e+000; ng(n+1)=1.686826e+000;
n=23; farx(n+1)=2.620642e-001; foe(n+1)=7.152531e+000; krok(n+1)=2.034481e+000; ng(n+1)=4.071353e+000;
n=24; farx(n+1)=2.577430e-001; foe(n+1)=5.770599e+000; krok(n+1)=2.081446e+000; ng(n+1)=1.564063e+000;
n=25; farx(n+1)=2.561540e-001; foe(n+1)=6.339978e+000; krok(n+1)=1.841069e+000; ng(n+1)=2.829818e+000;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.560540e-001; foe(n+1)=6.103901e+000; krok(n+1)=3.259080e-004; ng(n+1)=1.556079e+000;
n=27; farx(n+1)=2.560408e-001; foe(n+1)=6.117526e+000; krok(n+1)=4.430569e-004; ng(n+1)=6.257609e-001;
n=28; farx(n+1)=2.518641e-001; foe(n+1)=4.580064e+000; krok(n+1)=1.126364e+000; ng(n+1)=2.042110e-001;
n=29; farx(n+1)=2.512532e-001; foe(n+1)=4.046732e+000; krok(n+1)=1.193441e-002; ng(n+1)=2.347761e+000;
n=30; farx(n+1)=2.465895e-001; foe(n+1)=3.245022e+000; krok(n+1)=1.160291e-001; ng(n+1)=3.051297e+000;
n=31; farx(n+1)=2.434022e-001; foe(n+1)=2.798145e+000; krok(n+1)=2.926858e-001; ng(n+1)=7.848377e+000;
n=32; farx(n+1)=2.427066e-001; foe(n+1)=2.866005e+000; krok(n+1)=2.705929e-002; ng(n+1)=2.719363e+000;
n=33; farx(n+1)=2.414978e-001; foe(n+1)=3.392891e+000; krok(n+1)=4.819709e-001; ng(n+1)=1.051631e+000;
n=34; farx(n+1)=2.408595e-001; foe(n+1)=3.668262e+000; krok(n+1)=2.072253e-001; ng(n+1)=7.814067e-001;
n=35; farx(n+1)=2.377466e-001; foe(n+1)=2.893841e+000; krok(n+1)=1.791582e+000; ng(n+1)=1.354416e+000;
n=36; farx(n+1)=2.367994e-001; foe(n+1)=3.076193e+000; krok(n+1)=5.360036e-001; ng(n+1)=3.140781e+000;
n=37; farx(n+1)=2.355474e-001; foe(n+1)=3.249230e+000; krok(n+1)=4.164005e-001; ng(n+1)=9.782534e-001;
n=38; farx(n+1)=2.351074e-001; foe(n+1)=3.253711e+000; krok(n+1)=3.310405e-001; ng(n+1)=2.752805e+000;
n=39; farx(n+1)=2.339322e-001; foe(n+1)=3.636838e+000; krok(n+1)=9.872312e-001; ng(n+1)=2.139954e+000;
n=40; farx(n+1)=2.326610e-001; foe(n+1)=2.861010e+000; krok(n+1)=1.605435e+000; ng(n+1)=7.666153e-001;
n=41; farx(n+1)=2.320605e-001; foe(n+1)=2.685744e+000; krok(n+1)=1.775417e-001; ng(n+1)=2.856448e+000;
n=42; farx(n+1)=2.310714e-001; foe(n+1)=2.099009e+000; krok(n+1)=1.822466e+000; ng(n+1)=6.385600e-001;
n=43; farx(n+1)=2.297326e-001; foe(n+1)=2.215052e+000; krok(n+1)=1.618997e+000; ng(n+1)=1.511001e+000;
n=44; farx(n+1)=2.271994e-001; foe(n+1)=2.970359e+000; krok(n+1)=9.453922e-001; ng(n+1)=3.919973e+000;
n=45; farx(n+1)=2.256973e-001; foe(n+1)=2.571061e+000; krok(n+1)=2.094296e-001; ng(n+1)=2.511653e+000;
n=46; farx(n+1)=2.238491e-001; foe(n+1)=2.301683e+000; krok(n+1)=3.183983e-001; ng(n+1)=3.121055e+000;
n=47; farx(n+1)=2.207833e-001; foe(n+1)=1.824170e+000; krok(n+1)=1.690558e-001; ng(n+1)=4.765256e+000;
n=48; farx(n+1)=2.198051e-001; foe(n+1)=1.814838e+000; krok(n+1)=1.052242e-001; ng(n+1)=3.483757e+000;
n=49; farx(n+1)=2.173781e-001; foe(n+1)=1.997978e+000; krok(n+1)=5.930463e-001; ng(n+1)=1.585837e+000;
n=50; farx(n+1)=2.161019e-001; foe(n+1)=1.863865e+000; krok(n+1)=2.456507e-001; ng(n+1)=3.873809e+000;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora ARX');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
